{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/language/json/workerManager.js","webpack:///./node_modules/monaco-editor/esm/vs/language/json/languageFeatures.js","webpack:///./node_modules/monaco-editor/esm/vs/language/json/tokenization.js","webpack:///./node_modules/monaco-editor/esm/vs/language/json/jsonMode.js"],"names":["Promise","monaco","WorkerManager","defaults","_this","this","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","Date","now","_getClient","editor","createWebWorker","moduleId","label","languageId","createData","languageSettings","diagnosticsOptions","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","p","completeCallback","errorCallback","r","c","e","then","toShallowCancelPromise","client","_","withSyncedResources","Uri","Range","DiagnosticsAdapter","_languageId","_disposables","_listener","Object","create","onModelAdd","model","handle","modeId","getModeId","uri","toString","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","push","onDidCreateModel","onWillDisposeModel","_resetSchema","onDidChangeModelLanguage","event","getModels","forEach","key","d","resource","worker","resetSchema","doValidation","diagnostics","markers","map","diag","code","String","severity","lsSeverity","main","Error","MarkerSeverity","Warning","Information","Info","Hint","toSeverity","startLineNumber","range","start","line","startColumn","character","endLineNumber","end","endColumn","message","source","toDiagnostics","getModel","undefined","err","console","error","fromPosition","position","column","lineNumber","fromRange","toRange","toCompletionItemKind","kind","mItemKind","languages","CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","toTextEdit","textEdit","text","newText","languageFeatures_CompletionAdapter","CompletionAdapter","defineProperty","get","enumerable","configurable","provideCompletionItems","token","getWordUntilPosition","wireCancellationToken","doComplete","info","items","entry","item","insertText","sortText","filterText","documentation","detail","insertTextFormat","value","isIncomplete","toMarkdownString","thing","isMarkupContent","replace","language","HoverAdapter","provideHover","doHover","contents","Array","isArray","toMarkedStringArray","DocumentSymbolAdapter","provideDocumentSymbols","findDocumentSymbols","name","containerName","mKind","SymbolKind","Namespace","Package","Constant","Number","Boolean","toSymbolKind","location","parse","toLocation","fromFormattingOptions","options","tabSize","insertSpaces","DocumentFormattingEditProvider","provideDocumentFormattingEdits","format","edits","DocumentRangeFormattingEditProvider","provideDocumentRangeFormattingEdits","DocumentColorAdapter","provideDocumentColors","findDocumentColors","infos","color","provideColorPresentations","getColorPresentations","presentations","presentation","additionalTextEdits","promise","cancel","onCancellationRequested","createTokenizationSupport","supportComments","getInitialState","JSONState","tokenize","state","offsetDelta","stopAtOffset","comments","numberOfInsertedCharacters","adjustOffset","scanError","ret","scanner","jsonc_parser_main","lastWasColon","tokens","endState","clone","offset","getPosition","type","scan","substr","TOKEN_DELIM_OBJECT","TOKEN_DELIM_ARRAY","TOKEN_DELIM_COLON","TOKEN_DELIM_COMMA","TOKEN_VALUE_BOOLEAN","TOKEN_VALUE_NULL","TOKEN_VALUE_STRING","TOKEN_PROPERTY_NAME","TOKEN_VALUE_NUMBER","TOKEN_COMMENT_LINE","TOKEN_COMMENT_BLOCK","getStateData","getTokenError","startIndex","scopes","_state","equals","other","setStateData","setupMode","disposables","uris","apply","registerCompletionItemProvider","registerHoverProvider","registerDocumentSymbolProvider","registerDocumentFormattingEditProvider","registerDocumentRangeFormattingEditProvider","setTokensProvider","setLanguageConfiguration","richEditConfiguration","registerColorProvider","__webpack_require__","__webpack_exports__","wordPattern","lineComment","blockComment","brackets","autoClosingPairs","open","close","notIn"],"mappings":"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","file":"46.chunk.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar Promise = monaco.Promise;\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(defaults) {\n        var _this = this;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = monaco.editor.createWebWorker({\n                // module that exports the create() method and returns a `JSONWorker` instance\n                moduleId: 'vs/language/json/jsonWorker',\n                label: this._defaults.languageId,\n                // passed in to the create() method\n                createData: {\n                    languageSettings: this._defaults.diagnosticsOptions,\n                    languageId: this._defaults.languageId\n                }\n            });\n            this._client = this._worker.getProxy();\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return toShallowCancelPromise(this._getClient().then(function (client) {\n            _client = client;\n        }).then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        }).then(function (_) { return _client; }));\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\nfunction toShallowCancelPromise(p) {\n    var completeCallback;\n    var errorCallback;\n    var r = new Promise(function (c, e) {\n        completeCallback = c;\n        errorCallback = e;\n    }, function () { });\n    p.then(completeCallback, errorCallback);\n    return r;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as ls from './_deps/vscode-languageserver-types/main.js';\nvar Uri = monaco.Uri;\nvar Range = monaco.Range;\n// --- diagnostics --- ---\nvar DiagnosticsAdapter = /** @class */ (function () {\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\n        var _this = this;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._disposables = [];\n        this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            var modeId = model.getModeId();\n            if (modeId !== _this._languageId) {\n                return;\n            }\n            var handle;\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\n                clearTimeout(handle);\n                handle = setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\n            });\n            _this._doValidate(model.uri, modeId);\n        };\n        var onModelRemoved = function (model) {\n            monaco.editor.setModelMarkers(model, _this._languageId, []);\n            var uriStr = model.uri.toString();\n            var listener = _this._listener[uriStr];\n            if (listener) {\n                listener.dispose();\n                delete _this._listener[uriStr];\n            }\n        };\n        this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(monaco.editor.onWillDisposeModel(function (model) {\n            onModelRemoved(model);\n            _this._resetSchema(model.uri);\n        }));\n        this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n            _this._resetSchema(event.model.uri);\n        }));\n        this._disposables.push(defaults.onDidChange(function (_) {\n            monaco.editor.getModels().forEach(function (model) {\n                if (model.getModeId() === _this._languageId) {\n                    onModelRemoved(model);\n                    onModelAdd(model);\n                }\n            });\n        }));\n        this._disposables.push({\n            dispose: function () {\n                monaco.editor.getModels().forEach(onModelRemoved);\n                for (var key in _this._listener) {\n                    _this._listener[key].dispose();\n                }\n            }\n        });\n        monaco.editor.getModels().forEach(onModelAdd);\n    }\n    DiagnosticsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnosticsAdapter.prototype._resetSchema = function (resource) {\n        this._worker().then(function (worker) {\n            worker.resetSchema(resource.toString());\n        });\n    };\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\n        this._worker(resource).then(function (worker) {\n            return worker.doValidation(resource.toString()).then(function (diagnostics) {\n                var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\n                var model = monaco.editor.getModel(resource);\n                if (model.getModeId() === languageId) {\n                    monaco.editor.setModelMarkers(model, languageId, markers);\n                }\n            });\n        }).then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    return DiagnosticsAdapter;\n}());\nexport { DiagnosticsAdapter };\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        case ls.DiagnosticSeverity.Error: return monaco.MarkerSeverity.Error;\n        case ls.DiagnosticSeverity.Warning: return monaco.MarkerSeverity.Warning;\n        case ls.DiagnosticSeverity.Information: return monaco.MarkerSeverity.Info;\n        case ls.DiagnosticSeverity.Hint: return monaco.MarkerSeverity.Hint;\n        default:\n            return monaco.MarkerSeverity.Info;\n    }\n}\nfunction toDiagnostics(resource, diag) {\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n    return {\n        severity: toSeverity(diag.severity),\n        startLineNumber: diag.range.start.line + 1,\n        startColumn: diag.range.start.character + 1,\n        endLineNumber: diag.range.end.line + 1,\n        endColumn: diag.range.end.character + 1,\n        message: diag.message,\n        code: code,\n        source: diag.source\n    };\n}\n// --- completion ------\nfunction fromPosition(position) {\n    if (!position) {\n        return void 0;\n    }\n    return { character: position.column - 1, line: position.lineNumber - 1 };\n}\nfunction fromRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return { start: { line: range.startLineNumber - 1, character: range.startColumn - 1 }, end: { line: range.endLineNumber - 1, character: range.endColumn - 1 } };\n}\nfunction toRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction toCompletionItemKind(kind) {\n    var mItemKind = monaco.languages.CompletionItemKind;\n    switch (kind) {\n        case ls.CompletionItemKind.Text: return mItemKind.Text;\n        case ls.CompletionItemKind.Method: return mItemKind.Method;\n        case ls.CompletionItemKind.Function: return mItemKind.Function;\n        case ls.CompletionItemKind.Constructor: return mItemKind.Constructor;\n        case ls.CompletionItemKind.Field: return mItemKind.Field;\n        case ls.CompletionItemKind.Variable: return mItemKind.Variable;\n        case ls.CompletionItemKind.Class: return mItemKind.Class;\n        case ls.CompletionItemKind.Interface: return mItemKind.Interface;\n        case ls.CompletionItemKind.Module: return mItemKind.Module;\n        case ls.CompletionItemKind.Property: return mItemKind.Property;\n        case ls.CompletionItemKind.Unit: return mItemKind.Unit;\n        case ls.CompletionItemKind.Value: return mItemKind.Value;\n        case ls.CompletionItemKind.Enum: return mItemKind.Enum;\n        case ls.CompletionItemKind.Keyword: return mItemKind.Keyword;\n        case ls.CompletionItemKind.Snippet: return mItemKind.Snippet;\n        case ls.CompletionItemKind.Color: return mItemKind.Color;\n        case ls.CompletionItemKind.File: return mItemKind.File;\n        case ls.CompletionItemKind.Reference: return mItemKind.Reference;\n    }\n    return mItemKind.Property;\n}\nfunction fromCompletionItemKind(kind) {\n    var mItemKind = monaco.languages.CompletionItemKind;\n    switch (kind) {\n        case mItemKind.Text: return ls.CompletionItemKind.Text;\n        case mItemKind.Method: return ls.CompletionItemKind.Method;\n        case mItemKind.Function: return ls.CompletionItemKind.Function;\n        case mItemKind.Constructor: return ls.CompletionItemKind.Constructor;\n        case mItemKind.Field: return ls.CompletionItemKind.Field;\n        case mItemKind.Variable: return ls.CompletionItemKind.Variable;\n        case mItemKind.Class: return ls.CompletionItemKind.Class;\n        case mItemKind.Interface: return ls.CompletionItemKind.Interface;\n        case mItemKind.Module: return ls.CompletionItemKind.Module;\n        case mItemKind.Property: return ls.CompletionItemKind.Property;\n        case mItemKind.Unit: return ls.CompletionItemKind.Unit;\n        case mItemKind.Value: return ls.CompletionItemKind.Value;\n        case mItemKind.Enum: return ls.CompletionItemKind.Enum;\n        case mItemKind.Keyword: return ls.CompletionItemKind.Keyword;\n        case mItemKind.Snippet: return ls.CompletionItemKind.Snippet;\n        case mItemKind.Color: return ls.CompletionItemKind.Color;\n        case mItemKind.File: return ls.CompletionItemKind.File;\n        case mItemKind.Reference: return ls.CompletionItemKind.Reference;\n    }\n    return ls.CompletionItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n    if (!textEdit) {\n        return void 0;\n    }\n    return {\n        range: toRange(textEdit.range),\n        text: textEdit.newText\n    };\n}\nfunction toCompletionItem(entry) {\n    return {\n        label: entry.label,\n        insertText: entry.insertText,\n        sortText: entry.sortText,\n        filterText: entry.filterText,\n        documentation: entry.documentation,\n        detail: entry.detail,\n        kind: toCompletionItemKind(entry.kind),\n        textEdit: toTextEdit(entry.textEdit),\n        data: entry.data\n    };\n}\nfunction fromMarkdownString(entry) {\n    return {\n        kind: (typeof entry === 'string' ? ls.MarkupKind.PlainText : ls.MarkupKind.Markdown),\n        value: (typeof entry === 'string' ? entry : entry.value)\n    };\n}\nfunction fromCompletionItem(entry) {\n    var item = {\n        label: entry.label,\n        sortText: entry.sortText,\n        filterText: entry.filterText,\n        documentation: fromMarkdownString(entry.documentation),\n        detail: entry.detail,\n        kind: fromCompletionItemKind(entry.kind),\n        data: entry.data\n    };\n    if (typeof entry.insertText === 'object' && typeof entry.insertText.value === 'string') {\n        item.insertText = entry.insertText.value;\n        item.insertTextFormat = ls.InsertTextFormat.Snippet;\n    }\n    else {\n        item.insertText = entry.insertText;\n    }\n    if (entry.range) {\n        item.textEdit = ls.TextEdit.replace(fromRange(entry.range), item.insertText);\n    }\n    return item;\n}\nvar CompletionAdapter = /** @class */ (function () {\n    function CompletionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return [' ', ':'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, token) {\n        var wordInfo = model.getWordUntilPosition(position);\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.doComplete(resource.toString(), fromPosition(position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var items = info.items.map(function (entry) {\n                var item = {\n                    label: entry.label,\n                    insertText: entry.insertText,\n                    sortText: entry.sortText,\n                    filterText: entry.filterText,\n                    documentation: entry.documentation,\n                    detail: entry.detail,\n                    kind: toCompletionItemKind(entry.kind),\n                };\n                if (entry.textEdit) {\n                    item.range = toRange(entry.textEdit.range);\n                    item.insertText = entry.textEdit.newText;\n                }\n                if (entry.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                    item.insertText = { value: item.insertText };\n                }\n                return item;\n            });\n            return {\n                isIncomplete: info.isIncomplete,\n                items: items\n            };\n        }));\n    };\n    return CompletionAdapter;\n}());\nexport { CompletionAdapter };\nfunction isMarkupContent(thing) {\n    return thing && typeof thing === 'object' && typeof thing.kind === 'string';\n}\nfunction toMarkdownString(entry) {\n    if (typeof entry === 'string') {\n        return {\n            value: entry\n        };\n    }\n    if (isMarkupContent(entry)) {\n        if (entry.kind === 'plaintext') {\n            return {\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\n            };\n        }\n        return {\n            value: entry.value\n        };\n    }\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\n}\nfunction toMarkedStringArray(contents) {\n    if (!contents) {\n        return void 0;\n    }\n    if (Array.isArray(contents)) {\n        return contents.map(toMarkdownString);\n    }\n    return [toMarkdownString(contents)];\n}\n// --- hover ------\nvar HoverAdapter = /** @class */ (function () {\n    function HoverAdapter(_worker) {\n        this._worker = _worker;\n    }\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.doHover(resource.toString(), fromPosition(position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            return {\n                range: toRange(info.range),\n                contents: toMarkedStringArray(info.contents)\n            };\n        }));\n    };\n    return HoverAdapter;\n}());\nexport { HoverAdapter };\n// --- definition ------\nfunction toLocation(location) {\n    return {\n        uri: Uri.parse(location.uri),\n        range: toRange(location.range)\n    };\n}\n// --- document symbols ------\nfunction toSymbolKind(kind) {\n    var mKind = monaco.languages.SymbolKind;\n    switch (kind) {\n        case ls.SymbolKind.File: return mKind.Array;\n        case ls.SymbolKind.Module: return mKind.Module;\n        case ls.SymbolKind.Namespace: return mKind.Namespace;\n        case ls.SymbolKind.Package: return mKind.Package;\n        case ls.SymbolKind.Class: return mKind.Class;\n        case ls.SymbolKind.Method: return mKind.Method;\n        case ls.SymbolKind.Property: return mKind.Property;\n        case ls.SymbolKind.Field: return mKind.Field;\n        case ls.SymbolKind.Constructor: return mKind.Constructor;\n        case ls.SymbolKind.Enum: return mKind.Enum;\n        case ls.SymbolKind.Interface: return mKind.Interface;\n        case ls.SymbolKind.Function: return mKind.Function;\n        case ls.SymbolKind.Variable: return mKind.Variable;\n        case ls.SymbolKind.Constant: return mKind.Constant;\n        case ls.SymbolKind.String: return mKind.String;\n        case ls.SymbolKind.Number: return mKind.Number;\n        case ls.SymbolKind.Boolean: return mKind.Boolean;\n        case ls.SymbolKind.Array: return mKind.Array;\n    }\n    return mKind.Function;\n}\nvar DocumentSymbolAdapter = /** @class */ (function () {\n    function DocumentSymbolAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.findDocumentSymbols(resource.toString()); }).then(function (items) {\n            if (!items) {\n                return;\n            }\n            return items.map(function (item) { return ({\n                name: item.name,\n                containerName: item.containerName,\n                kind: toSymbolKind(item.kind),\n                location: toLocation(item.location)\n            }); });\n        }));\n    };\n    return DocumentSymbolAdapter;\n}());\nexport { DocumentSymbolAdapter };\nfunction fromFormattingOptions(options) {\n    return {\n        tabSize: options.tabSize,\n        insertSpaces: options.insertSpaces\n    };\n}\nvar DocumentFormattingEditProvider = /** @class */ (function () {\n    function DocumentFormattingEditProvider(_worker) {\n        this._worker = _worker;\n    }\n    DocumentFormattingEditProvider.prototype.provideDocumentFormattingEdits = function (model, options, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.format(resource.toString(), null, fromFormattingOptions(options)).then(function (edits) {\n                if (!edits || edits.length === 0) {\n                    return;\n                }\n                return edits.map(toTextEdit);\n            });\n        }));\n    };\n    return DocumentFormattingEditProvider;\n}());\nexport { DocumentFormattingEditProvider };\nvar DocumentRangeFormattingEditProvider = /** @class */ (function () {\n    function DocumentRangeFormattingEditProvider(_worker) {\n        this._worker = _worker;\n    }\n    DocumentRangeFormattingEditProvider.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.format(resource.toString(), fromRange(range), fromFormattingOptions(options)).then(function (edits) {\n                if (!edits || edits.length === 0) {\n                    return;\n                }\n                return edits.map(toTextEdit);\n            });\n        }));\n    };\n    return DocumentRangeFormattingEditProvider;\n}());\nexport { DocumentRangeFormattingEditProvider };\nvar DocumentColorAdapter = /** @class */ (function () {\n    function DocumentColorAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.findDocumentColors(resource.toString()); }).then(function (infos) {\n            if (!infos) {\n                return;\n            }\n            return infos.map(function (item) { return ({\n                color: item.color,\n                range: toRange(item.range)\n            }); });\n        }));\n    };\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range)); }).then(function (presentations) {\n            if (!presentations) {\n                return;\n            }\n            return presentations.map(function (presentation) {\n                var item = {\n                    label: presentation.label,\n                };\n                if (presentation.textEdit) {\n                    item.textEdit = toTextEdit(presentation.textEdit);\n                }\n                if (presentation.additionalTextEdits) {\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\n                }\n                return item;\n            });\n        }));\n    };\n    return DocumentColorAdapter;\n}());\nexport { DocumentColorAdapter };\n/**\n * Hook a cancellation token to a WinJS Promise\n */\nfunction wireCancellationToken(token, promise) {\n    if (promise.cancel) {\n        token.onCancellationRequested(function () { return promise.cancel(); });\n    }\n    return promise;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as json from './_deps/jsonc-parser/main.js';\nexport function createTokenizationSupport(supportComments) {\n    return {\n        getInitialState: function () { return new JSONState(null, null, false); },\n        tokenize: function (line, state, offsetDelta, stopAtOffset) { return tokenize(supportComments, line, state, offsetDelta, stopAtOffset); }\n    };\n}\nexport var TOKEN_DELIM_OBJECT = 'delimiter.bracket.json';\nexport var TOKEN_DELIM_ARRAY = 'delimiter.array.json';\nexport var TOKEN_DELIM_COLON = 'delimiter.colon.json';\nexport var TOKEN_DELIM_COMMA = 'delimiter.comma.json';\nexport var TOKEN_VALUE_BOOLEAN = 'keyword.json';\nexport var TOKEN_VALUE_NULL = 'keyword.json';\nexport var TOKEN_VALUE_STRING = 'string.value.json';\nexport var TOKEN_VALUE_NUMBER = 'number.json';\nexport var TOKEN_PROPERTY_NAME = 'string.key.json';\nexport var TOKEN_COMMENT_BLOCK = 'comment.block.json';\nexport var TOKEN_COMMENT_LINE = 'comment.line.json';\nvar JSONState = /** @class */ (function () {\n    function JSONState(state, scanError, lastWasColon) {\n        this._state = state;\n        this.scanError = scanError;\n        this.lastWasColon = lastWasColon;\n    }\n    JSONState.prototype.clone = function () {\n        return new JSONState(this._state, this.scanError, this.lastWasColon);\n    };\n    JSONState.prototype.equals = function (other) {\n        if (other === this) {\n            return true;\n        }\n        if (!other || !(other instanceof JSONState)) {\n            return false;\n        }\n        return this.scanError === other.scanError &&\n            this.lastWasColon === other.lastWasColon;\n    };\n    JSONState.prototype.getStateData = function () {\n        return this._state;\n    };\n    JSONState.prototype.setStateData = function (state) {\n        this._state = state;\n    };\n    return JSONState;\n}());\nfunction tokenize(comments, line, state, offsetDelta, stopAtOffset) {\n    if (offsetDelta === void 0) { offsetDelta = 0; }\n    // handle multiline strings and block comments\n    var numberOfInsertedCharacters = 0, adjustOffset = false;\n    switch (state.scanError) {\n        case 2 /* UnexpectedEndOfString */:\n            line = '\"' + line;\n            numberOfInsertedCharacters = 1;\n            break;\n        case 1 /* UnexpectedEndOfComment */:\n            line = '/*' + line;\n            numberOfInsertedCharacters = 2;\n            break;\n    }\n    var scanner = json.createScanner(line), kind, ret, lastWasColon = state.lastWasColon;\n    ret = {\n        tokens: [],\n        endState: state.clone()\n    };\n    while (true) {\n        var offset = offsetDelta + scanner.getPosition(), type = '';\n        kind = scanner.scan();\n        if (kind === 17 /* EOF */) {\n            break;\n        }\n        // Check that the scanner has advanced\n        if (offset === offsetDelta + scanner.getPosition()) {\n            throw new Error('Scanner did not advance, next 3 characters are: ' + line.substr(scanner.getPosition(), 3));\n        }\n        // In case we inserted /* or \" character, we need to\n        // adjust the offset of all tokens (except the first)\n        if (adjustOffset) {\n            offset -= numberOfInsertedCharacters;\n        }\n        adjustOffset = numberOfInsertedCharacters > 0;\n        // brackets and type\n        switch (kind) {\n            case 1 /* OpenBraceToken */:\n                type = TOKEN_DELIM_OBJECT;\n                lastWasColon = false;\n                break;\n            case 2 /* CloseBraceToken */:\n                type = TOKEN_DELIM_OBJECT;\n                lastWasColon = false;\n                break;\n            case 3 /* OpenBracketToken */:\n                type = TOKEN_DELIM_ARRAY;\n                lastWasColon = false;\n                break;\n            case 4 /* CloseBracketToken */:\n                type = TOKEN_DELIM_ARRAY;\n                lastWasColon = false;\n                break;\n            case 6 /* ColonToken */:\n                type = TOKEN_DELIM_COLON;\n                lastWasColon = true;\n                break;\n            case 5 /* CommaToken */:\n                type = TOKEN_DELIM_COMMA;\n                lastWasColon = false;\n                break;\n            case 8 /* TrueKeyword */:\n            case 9 /* FalseKeyword */:\n                type = TOKEN_VALUE_BOOLEAN;\n                lastWasColon = false;\n                break;\n            case 7 /* NullKeyword */:\n                type = TOKEN_VALUE_NULL;\n                lastWasColon = false;\n                break;\n            case 10 /* StringLiteral */:\n                type = lastWasColon ? TOKEN_VALUE_STRING : TOKEN_PROPERTY_NAME;\n                lastWasColon = false;\n                break;\n            case 11 /* NumericLiteral */:\n                type = TOKEN_VALUE_NUMBER;\n                lastWasColon = false;\n                break;\n        }\n        // comments, iff enabled\n        if (comments) {\n            switch (kind) {\n                case 12 /* LineCommentTrivia */:\n                    type = TOKEN_COMMENT_LINE;\n                    break;\n                case 13 /* BlockCommentTrivia */:\n                    type = TOKEN_COMMENT_BLOCK;\n                    break;\n            }\n        }\n        ret.endState = new JSONState(state.getStateData(), scanner.getTokenError(), lastWasColon);\n        ret.tokens.push({\n            startIndex: offset,\n            scopes: type\n        });\n    }\n    return ret;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nimport { createTokenizationSupport } from './tokenization.js';\nexport function setupMode(defaults) {\n    var disposables = [];\n    var client = new WorkerManager(defaults);\n    disposables.push(client);\n    var worker = function () {\n        var uris = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            uris[_i] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, uris);\n    };\n    var languageId = defaults.languageId;\n    disposables.push(monaco.languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker)));\n    disposables.push(monaco.languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker)));\n    disposables.push(monaco.languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker)));\n    disposables.push(monaco.languages.registerDocumentFormattingEditProvider(languageId, new languageFeatures.DocumentFormattingEditProvider(worker)));\n    disposables.push(monaco.languages.registerDocumentRangeFormattingEditProvider(languageId, new languageFeatures.DocumentRangeFormattingEditProvider(worker)));\n    disposables.push(new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults));\n    disposables.push(monaco.languages.setTokensProvider(languageId, createTokenizationSupport(true)));\n    disposables.push(monaco.languages.setLanguageConfiguration(languageId, richEditConfiguration));\n    disposables.push(monaco.languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker)));\n}\nvar richEditConfiguration = {\n    wordPattern: /(-?\\d*\\.\\d\\w*)|([^\\[\\{\\]\\}\\:\\\"\\,\\s]+)/g,\n    comments: {\n        lineComment: '//',\n        blockComment: ['/*', '*/']\n    },\n    brackets: [\n        ['{', '}'],\n        ['[', ']']\n    ],\n    autoClosingPairs: [\n        { open: '{', close: '}', notIn: ['string'] },\n        { open: '[', close: ']', notIn: ['string'] },\n        { open: '\"', close: '\"', notIn: ['string'] }\n    ]\n};\n"],"sourceRoot":""}