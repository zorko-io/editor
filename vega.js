(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,function(e,t,n){"use strict";var r=n(202);n.d(t,"f",(function(){return r.c})),n.d(t,"h",(function(){return r.b})),n.d(t,"g",(function(){return r.a}));var i=n(322);n.d(t,"w",(function(){return i.b})),n.d(t,"x",(function(){return i.c})),n.d(t,"kb",(function(){return i.f})),n.d(t,"O",(function(){return i.d})),n.d(t,"gb",(function(){return i.e})),n.d(t,"r",(function(){return i.a}));var a=n(455);n.d(t,"K",(function(){return a.f})),n.d(t,"d",(function(){return a.d})),n.d(t,"b",(function(){return a.b})),n.d(t,"e",(function(){return a.e})),n.d(t,"c",(function(){return a.c})),n.d(t,"a",(function(){return a.a}));var u=n(886);n.d(t,"N",(function(){return u.a})),n.d(t,"jb",(function(){return u.b}));var o=n(359);n.d(t,"Q",(function(){return o.a})),n.d(t,"R",(function(){return o.b})),n.d(t,"S",(function(){return o.c})),n.d(t,"T",(function(){return o.d})),n.d(t,"lb",(function(){return o.e})),n.d(t,"mb",(function(){return o.f})),n.d(t,"nb",(function(){return o.g})),n.d(t,"ob",(function(){return o.h}));var s=n(887);n.d(t,"V",(function(){return s.a})),n.d(t,"hb",(function(){return s.b}));var f=n(408);n.d(t,"i",(function(){return f.a}));var c=n(1063);n.d(t,"j",(function(){return c.a}));var l=n(1064);n.d(t,"k",(function(){return l.a}));var d=n(1065);n.d(t,"l",(function(){return d.a}));var p=n(1066);n.d(t,"m",(function(){return p.a}));var m=n(526);n.d(t,"n",(function(){return m.a}));var b=n(1067);n.d(t,"o",(function(){return b.a}));var g=n(1068);n.d(t,"p",(function(){return g.a}));var h=n(1069);n.d(t,"q",(function(){return h.a}));var y=n(1070);n.d(t,"s",(function(){return y.a}));var v=n(686);n.d(t,"t",(function(){return v.a}));var O=n(1071);n.d(t,"u",(function(){return O.a}));var j=n(336);n.d(t,"v",(function(){return j.a}));var $=n(1072);n.d(t,"y",(function(){return $.a}));var x=n(1073);n.d(t,"z",(function(){return x.a}));var k=n(401);n.d(t,"A",(function(){return k.a}));var A=n(1074);n.d(t,"B",(function(){return A.a}));var F=n(688);n.d(t,"C",(function(){return F.a}));var w=n(409);n.d(t,"D",(function(){return w.a}));var _=n(689);n.d(t,"E",(function(){return _.a}));var D=n(461);n.d(t,"F",(function(){return D.a}));var C=n(1075);n.d(t,"G",(function(){return C.a}));var S=n(687);n.d(t,"H",(function(){return S.a}));var E=n(1076);n.d(t,"I",(function(){return E.a}));var q=n(1077);n.d(t,"J",(function(){return q.a}));var M=n(1078);n.d(t,"L",(function(){return M.a}));var B=n(1079);n.d(t,"M",(function(){return B.a}));var z=n(1080);n.d(t,"P",(function(){return z.a}));var T=n(306);n.d(t,"U",(function(){return T.a}));var P=n(467);n.d(t,"W",(function(){return P.a}));var R=n(1081);n.d(t,"X",(function(){return R.a}));var I=n(400);n.d(t,"Y",(function(){return I.a}));var V=n(364);n.d(t,"Z",(function(){return V.a}));var L=n(1082);n.d(t,"ab",(function(){return L.a}));var U=n(1083);n.d(t,"bb",(function(){return U.a}));var N=n(603);n.d(t,"cb",(function(){return N.a}));var W=n(1084);n.d(t,"eb",(function(){return W.a}));var H=n(1085);n.d(t,"db",(function(){return H.a}));var G=n(1086);n.d(t,"fb",(function(){return G.a}));var Y=n(1087);n.d(t,"ib",(function(){return Y.a}))},,,,,,,,,,,,,function(e,t,n){"use strict";n(324);var r=n(527);n.d(t,"h",(function(){return r.a}));var i=n(456);n.d(t,"i",(function(){return i.a})),n.d(t,"m",(function(){return i.b}));var a=n(1088);n.d(t,"a",(function(){return a.a}));var u=n(690);n.d(t,"b",(function(){return u.a}));var o=n(604);n.d(t,"e",(function(){return o.a}));var s=n(265);n.d(t,"f",(function(){return s.b}));var f=n(693);n.d(t,"c",(function(){return f.a}));var c=n(250);n.d(t,"d",(function(){return c.a}));var l=n(1093);n.d(t,"g",(function(){return l.a}));var d=n(165);n.d(t,"k",(function(){return d.a})),n.d(t,"l",(function(){return d.b})),n.d(t,"n",(function(){return d.c})),n.d(t,"o",(function(){return d.d})),n.d(t,"p",(function(){return d.e})),n.d(t,"q",(function(){return d.f})),n.d(t,"t",(function(){return d.g}));var p=n(675);n.d(t,"j",(function(){return p.a})),n.d(t,"r",(function(){return p.b})),n.d(t,"s",(function(){return p.c}))},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"w",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"r",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"y",(function(){return s})),n.d(t,"u",(function(){return f})),n.d(t,"n",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return g})),n.d(t,"x",(function(){return h})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return v})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"v",(function(){return $})),n.d(t,"e",(function(){return x})),n.d(t,"c",(function(){return k})),n.d(t,"s",(function(){return A})),n.d(t,"m",(function(){return F})),n.d(t,"t",(function(){return w})),n.d(t,"A",(function(){return _})),n.d(t,"z",(function(){return D}));const r="top",i="left",a="right",u="bottom",o="center",s="vertical",f="start",c="middle",l="end",d="index",p="label",m="offset",b="perc",g="perc2",h="value",y="guide-label",v="guide-title",O="group-title",j="group-subtitle",$="symbol",x="gradient",k="discrete",A="size",F=[A,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],w={name:1,style:1,interactive:1},_={value:0},D={value:1}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"o",(function(){return u})),n.d(t,"p",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"m",(function(){return f})),n.d(t,"f",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"q",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return v})),n.d(t,"r",(function(){return O})),n.d(t,"g",(function(){return j}));var r=n(1);function i(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function a(e,t,n,r){return new i(e,t,n,r)}function u(e,t){return a("operator",e,t)}function o(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function s(e,t){return t?{$field:e,$name:t}:{$field:e}}var f=s("key");function c(e,t){return{$compare:e,$order:t}}function l(e,t){var n={$key:e};return t&&(n.$flat=!0),n}var d="ascending";function p(e){return Object(r.F)(e)?("descending"===e.order?"-":"+")+m(e.op,e.field):""}function m(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var b="scope",g="view";function h(e){return e&&e.signal}function y(e){return e&&e.expr}function v(e){if(h(e))return!0;if(Object(r.F)(e))for(var t in e)if(v(e[t]))return!0;return!1}function O(e,t){return null!=e?e:t}function j(e){return e&&e.signal||e}},function(e,t,n){"use strict";n.d(t,"l",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"k",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"m",(function(){return h}));var r=n(1);const i="year",a="quarter",u="month",o="week",s="date",f="day",c="dayofyear",l="hours",d="minutes",p="seconds",m="milliseconds",b=[i,a,u,o,s,f,c,l,d,p,m],g=b.reduce((e,t,n)=>(e[t]=1+n,e),{});function h(e){const t=Object(r.i)(e).slice(),n={};return t.length||Object(r.n)("Missing time unit."),t.forEach(e=>{Object(r.v)(g,e)?n[e]=1:Object(r.n)(`Invalid time unit: ${e}.`)}),(n[o]||n[f]?1:0)+(n[a]||n[u]||n[s]?1:0)+(n[c]?1:0)>1&&Object(r.n)("Incompatible time units: "+e),t.sort((e,t)=>g[e]-g[t]),t}},,function(e,t,n){"use strict";n.d(t,"G",(function(){return r})),n.d(t,"r",(function(){return i})),n.d(t,"x",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"H",(function(){return o})),n.d(t,"I",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"D",(function(){return l})),n.d(t,"t",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"J",(function(){return m})),n.d(t,"K",(function(){return b})),n.d(t,"q",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"F",(function(){return y})),n.d(t,"p",(function(){return v})),n.d(t,"C",(function(){return O})),n.d(t,"s",(function(){return j})),n.d(t,"A",(function(){return $})),n.d(t,"z",(function(){return x})),n.d(t,"B",(function(){return k})),n.d(t,"g",(function(){return A})),n.d(t,"f",(function(){return F})),n.d(t,"h",(function(){return w})),n.d(t,"w",(function(){return _})),n.d(t,"E",(function(){return D})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return S})),n.d(t,"n",(function(){return E})),n.d(t,"v",(function(){return q})),n.d(t,"u",(function(){return M})),n.d(t,"a",(function(){return B})),n.d(t,"j",(function(){return z})),n.d(t,"o",(function(){return T})),n.d(t,"i",(function(){return P})),n.d(t,"y",(function(){return R}));const r="top",i="left",a="right",u="bottom",o="top-left",s="top-right",f="bottom-left",c="bottom-right",l="start",d="middle",p="end",m="x",b="y",g="group",h="axis",y="title",v="frame",O="scope",j="legend",$="row-header",x="row-footer",k="row-title",A="column-header",F="column-footer",w="column-title",_="padding",D="symbol",C="fit",S="fit-x",E="fit-y",q="pad",M="none",B="all",z="each",T="flush",P="column",R="row"},function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return a})),n.d(t,"m",(function(){return u})),n.d(t,"q",(function(){return o})),n.d(t,"r",(function(){return s})),n.d(t,"u",(function(){return f})),n.d(t,"v",(function(){return c})),n.d(t,"p",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"t",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return $})),n.d(t,"h",(function(){return x})),n.d(t,"s",(function(){return k}));const r="identity",i="linear",a="log",u="pow",o="sqrt",s="symlog",f="time",c="utc",l="sequential",d="diverging",p="quantile",m="quantize",b="threshold",g="ordinal",h="point",y="band",v="bin-ordinal",O="continuous",j="discrete",$="discretizing",x="interpolating",k="temporal"},,,,,,,,,,,function(e,t,n){"use strict";var r=n(709);n.d(t,"s",(function(){return r.a}));var i=n(36);n.d(t,"e",(function(){return i.i})),n.d(t,"f",(function(){return i.j})),n.d(t,"i",(function(){return i.m})),n.d(t,"m",(function(){return i.q})),n.d(t,"o",(function(){return i.r})),n.d(t,"q",(function(){return i.u})),n.d(t,"r",(function(){return i.v})),n.d(t,"l",(function(){return i.p})),n.d(t,"c",(function(){return i.f})),n.d(t,"j",(function(){return i.n})),n.d(t,"k",(function(){return i.o})),n.d(t,"p",(function(){return i.t})),n.d(t,"b",(function(){return i.b})),n.d(t,"g",(function(){return i.k})),n.d(t,"a",(function(){return i.a})),n.d(t,"h",(function(){return i.l}));var a=n(360);n.d(t,"u",(function(){return a.a})),n.d(t,"v",(function(){return a.b})),n.d(t,"w",(function(){return a.c})),n.d(t,"J",(function(){return a.e})),n.d(t,"H",(function(){return a.d}));var u=n(193);n.d(t,"I",(function(){return u.i})),n.d(t,"D",(function(){return u.h})),n.d(t,"x",(function(){return u.a})),n.d(t,"y",(function(){return u.b})),n.d(t,"z",(function(){return u.c})),n.d(t,"A",(function(){return u.d})),n.d(t,"B",(function(){return u.e})),n.d(t,"C",(function(){return u.f}));var o=n(1152);n.d(t,"L",(function(){return o.a}));var s=n(458);n.d(t,"n",(function(){return s.c})),n.d(t,"d",(function(){return s.b}));var f=n(362);n.d(t,"M",(function(){return f.a})),n.d(t,"N",(function(){return f.b})),n.d(t,"O",(function(){return f.c})),n.d(t,"P",(function(){return f.d}));var c=n(459);n.d(t,"E",(function(){return c.a})),n.d(t,"F",(function(){return c.b})),n.d(t,"G",(function(){return c.c}));var l=n(1153);n.d(t,"t",(function(){return l.a}));var d=n(621);n.d(t,"K",(function(){return d.b}))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"r",(function(){return $})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return A})),n.d(t,"v",(function(){return F})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return _})),n.d(t,"y",(function(){return D})),n.d(t,"z",(function(){return C})),n.d(t,"B",(function(){return S})),n.d(t,"A",(function(){return E}));var r=n(32);function i(e){return function(t,n,i){return Object(r.h)(e,n,t||void 0,i)}}var a=i("aggregate"),u=i("axisticks"),o=i("bound"),s=i("collect"),f=i("compare"),c=i("datajoin"),l=i("encode"),d=i("expression"),p=(i("extent"),i("facet")),m=i("field"),b=i("key"),g=i("legendentries"),h=i("load"),y=i("mark"),v=i("multiextent"),O=i("multivalues"),j=i("overlap"),$=i("params"),x=i("prefacet"),k=i("projection"),A=i("proxy"),F=i("relay"),w=i("render"),_=i("scale"),D=i("sieve"),C=i("sortitems"),S=i("viewlayout"),E=i("values")},,,,,function(e,t,n){"use strict";n.d(t,"o",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"p",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return y})),n.d(t,"q",(function(){return v})),n.d(t,"s",(function(){return O})),n.d(t,"r",(function(){return j}));var r="mark",i="frame",a="scope",u="axis",o="axis-domain",s="axis-grid",f="axis-label",c="axis-tick",l="axis-title",d="legend",p="legend-band",m="legend-entry",b="legend-gradient",g="legend-label",h="legend-symbol",y="legend-title",v="title",O="title-text",j="title-subtitle"},,function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return d}));var r=n(1400),i=n(68),a=n(1);function u(e){return Object(a.F)(e)&&!Object(a.A)(e)?Object(a.o)({},e):{value:e}}function o(e,t,n,r){return null!=n?(Object(a.F)(n)&&!Object(a.A)(n)?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function s(e,t,n){for(let n in t)o(e,n,t[n]);for(let t in n)o(e,t,n[t],"update")}function f(e,t,n){for(var r in t)n&&Object(a.v)(n,r)||(e[r]=Object(a.o)(e[r]||{},t[r]));return e}function c(e,t,n,u,o,s){var f,c;for(c in(s=s||{}).encoders={$encode:f={}},e=function(e,t,n,r,u){var o,s,f,c={},p={};s="lineBreak","text"!==t||null==u[s]||d(s,e)||l(c,s,u[s]);("legend"==n||String(n).startsWith("axis"))&&(n=null);for(s in f=n===i.g?u.group:n===i.o?Object(a.o)({},u.mark,u[t]):null)d(s,e)||("fill"===s||"stroke"===s)&&(d("fill",e)||d("stroke",e))||l(c,s,f[s]);for(s in Object(a.i)(r).forEach((function(t){var n=u.style&&u.style[t];for(var r in n)d(r,e)||l(c,r,n[r])})),e=Object(a.o)({},e),c)(f=c[s]).signal?(o=o||{})[s]=f:p[s]=f;e.enter=Object(a.o)(p,e.enter),o&&(e.update=Object(a.o)(o,e.update));return e}(e,t,n,u,o.config))f[c]=Object(r.a)(e[c],t,s,o);return s}function l(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}function d(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}},,function(e,t,n){"use strict";var r=n(694);n.d(t,"a",(function(){return r.a}));var i=n(1094);n.d(t,"b",(function(){return i.a}));var a=n(1095);n.d(t,"c",(function(){return a.a}));var u=n(1096);n.d(t,"j",(function(){return u.a}));var o=n(696);n.d(t,"n",(function(){return o.a}));var s=n(695);n.d(t,"o",(function(){return s.a}));var f=n(214);n.d(t,"p",(function(){return f.a})),n.d(t,"I",(function(){return f.b}));var c=n(1097);n.d(t,"s",(function(){return c.a}));var l=n(1098);n.d(t,"q",(function(){return l.a}));var d=n(1099);n.d(t,"r",(function(){return d.a}));var p=n(500);n.d(t,"t",(function(){return p.b})),n.d(t,"F",(function(){return p.e})),n.d(t,"g",(function(){return p.c})),n.d(t,"d",(function(){return p.a})),n.d(t,"k",(function(){return p.d}));var m=n(1100);n.d(t,"u",(function(){return m.a}));var b=n(275);n.d(t,"v",(function(){return b.b})),n.d(t,"G",(function(){return b.e})),n.d(t,"h",(function(){return b.c})),n.d(t,"e",(function(){return b.a})),n.d(t,"l",(function(){return b.d}));var g=n(501);n.d(t,"w",(function(){return g.b})),n.d(t,"H",(function(){return g.e})),n.d(t,"i",(function(){return g.c})),n.d(t,"f",(function(){return g.a})),n.d(t,"m",(function(){return g.d}));var h=n(697);n.d(t,"y",(function(){return h.a}));var y=n(1101);n.d(t,"A",(function(){return y.a}));var v=n(1102);n.d(t,"x",(function(){return v.a}));var O=n(1103);n.d(t,"C",(function(){return O.a}));var j=n(698);n.d(t,"D",(function(){return j.a}));var $=n(1104);n.d(t,"B",(function(){return $.a}));var x=n(1105);n.d(t,"z",(function(){return x.a}));var k=n(1106);n.d(t,"E",(function(){return k.a}))},,,,function(e,t,n){"use strict";var r=n(170);n.d(t,"a",(function(){return r.a}));var i=n(286);n.d(t,"d",(function(){return i.a}));var a=n(700);n.d(t,"e",(function(){return a.a}));var u=n(701);n.d(t,"k",(function(){return u.a}));var o=n(606);n.d(t,"g",(function(){return o.a}));var s=n(1146);n.d(t,"o",(function(){return s.a}));var f=n(338);n.d(t,"f",(function(){return f.a}));var c=n(251);n.d(t,"j",(function(){return c.a}));var l=n(706);n.d(t,"b",(function(){return l.a}));var d=n(609);n.d(t,"c",(function(){return d.a}));var p=n(707);n.d(t,"l",(function(){return p.a}));var m=n(708);n.d(t,"m",(function(){return m.a}));var b=n(715);n.d(t,"n",(function(){return b.a}));var g=n(895);n.d(t,"i",(function(){return g.a})),n.d(t,"S",(function(){return g.b}));var h=n(1154);n.d(t,"C",(function(){return h.a}));var y=n(175);n.d(t,"h",(function(){return y.a}));var v=n(1155);n.d(t,"p",(function(){return v.a}));var O=n(325);n.d(t,"q",(function(){return O.a}));var j=n(243);n.d(t,"t",(function(){return j.a}));var $=n(607);n.d(t,"r",(function(){return $.a}));var x=n(702);n.d(t,"s",(function(){return x.a}));var k=n(608);n.d(t,"K",(function(){return k.a}));var A=n(703);n.d(t,"P",(function(){return A.a}));var F=n(704);n.d(t,"N",(function(){return F.a}));var w=n(705);n.d(t,"Q",(function(){return w.a}));var _=n(365);n.d(t,"M",(function(){return _.a}));var D=n(463);n.d(t,"O",(function(){return D.a}));var C=n(514);n.d(t,"R",(function(){return C.a}));var S=n(88);n.d(t,"x",(function(){return S.d})),n.d(t,"y",(function(){return S.e})),n.d(t,"v",(function(){return S.b})),n.d(t,"w",(function(){return S.c}));var E=n(83);n.d(t,"J",(function(){return E.b})),n.d(t,"u",(function(){return E.a}));var q=n(107);n.d(t,"z",(function(){return q.a})),n.d(t,"A",(function(){return q.b})),n.d(t,"B",(function(){return q.c})),n.d(t,"H",(function(){return q.d})),n.d(t,"I",(function(){return q.e})),n.d(t,"ab",(function(){return q.h}));var M=n(403);n.d(t,"T",(function(){return M.b}));var B=n(896);n.d(t,"U",(function(){return B.b})),n.d(t,"L",(function(){return B.a}));var z=n(513);n.d(t,"X",(function(){return z.b})),n.d(t,"V",(function(){return z.a}));var T=n(153);n.d(t,"E",(function(){return T.b})),n.d(t,"F",(function(){return T.c})),n.d(t,"G",(function(){return T.e})),n.d(t,"D",(function(){return T.a}));var P=n(146);n.d(t,"Z",(function(){return P.c})),n.d(t,"Y",(function(){return P.b})),n.d(t,"W",(function(){return P.a}))},,,,,,,function(e,t,n){"use strict";function r(e,t,n){var r,i,a="<"+e;if(t)for(r in t)null!=(i=t[r])&&(a+=" "+r+'="'+(i=(i+"").replace(/"/g,"&quot;"))+'"');return n&&(a+=" "+n),a+">"}function i(e){return"</"+e+">"}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},,,,,function(e,t,n){"use strict";function r(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function i(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function a(e,t,n,i){var a,u=e.childNodes[t];return u&&u.tagName.toLowerCase()===n.toLowerCase()||(a=u||null,u=r(e.ownerDocument,n,i),e.insertBefore(u,a)),u}function u(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function o(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}))},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return o}));const r=Math.PI/180,i=1e-14,a=Math.PI/2,u=2*Math.PI,o=Math.sqrt(3)/2},,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(14),a=n(1298),u=n(1303),o=n(1336),s=n(1337),f=n(1345),c=n(1354),l=n(1368),d=n(1369),p=n(1371),m=n(1373),b=n(1213);n.d(t,"version",(function(){return b.a}));var g=n(72);n.d(t,"bandwidthNRD",(function(){return g.a})),n.d(t,"bin",(function(){return g.b})),n.d(t,"bootstrapCI",(function(){return g.c})),n.d(t,"dotbin",(function(){return g.j})),n.d(t,"quantiles",(function(){return g.n})),n.d(t,"quartiles",(function(){return g.o})),n.d(t,"random",(function(){return g.p})),n.d(t,"setRandom",(function(){return g.I})),n.d(t,"randomLCG",(function(){return g.s})),n.d(t,"randomInteger",(function(){return g.q})),n.d(t,"randomKDE",(function(){return g.r})),n.d(t,"randomLogNormal",(function(){return g.t})),n.d(t,"sampleLogNormal",(function(){return g.F})),n.d(t,"densityLogNormal",(function(){return g.g})),n.d(t,"cumulativeLogNormal",(function(){return g.d})),n.d(t,"quantileLogNormal",(function(){return g.k})),n.d(t,"randomMixture",(function(){return g.u})),n.d(t,"randomNormal",(function(){return g.v})),n.d(t,"sampleNormal",(function(){return g.G})),n.d(t,"densityNormal",(function(){return g.h})),n.d(t,"cumulativeNormal",(function(){return g.e})),n.d(t,"quantileNormal",(function(){return g.l})),n.d(t,"randomUniform",(function(){return g.w})),n.d(t,"sampleUniform",(function(){return g.H})),n.d(t,"densityUniform",(function(){return g.i})),n.d(t,"cumulativeUniform",(function(){return g.f})),n.d(t,"quantileUniform",(function(){return g.m})),n.d(t,"regressionLinear",(function(){return g.y})),n.d(t,"regressionLog",(function(){return g.A})),n.d(t,"regressionExp",(function(){return g.x})),n.d(t,"regressionPow",(function(){return g.C})),n.d(t,"regressionQuad",(function(){return g.D})),n.d(t,"regressionPoly",(function(){return g.B})),n.d(t,"regressionLoess",(function(){return g.z})),n.d(t,"sampleCurve",(function(){return g.E}));var h=n(122);n.d(t,"timeUnits",(function(){return h.j})),n.d(t,"TIME_UNITS",(function(){return h.a})),n.d(t,"dayofyear",(function(){return h.b})),n.d(t,"week",(function(){return h.r})),n.d(t,"utcdayofyear",(function(){return h.p})),n.d(t,"utcweek",(function(){return h.q})),n.d(t,"timeFloor",(function(){return h.d})),n.d(t,"utcFloor",(function(){return h.k})),n.d(t,"timeUnitSpecifier",(function(){return h.i})),n.d(t,"timeFormat",(function(){return h.e})),n.d(t,"utcFormat",(function(){return h.l})),n.d(t,"timeInterval",(function(){return h.f})),n.d(t,"timeOffset",(function(){return h.g})),n.d(t,"timeSequence",(function(){return h.h})),n.d(t,"utcInterval",(function(){return h.m})),n.d(t,"utcOffset",(function(){return h.n})),n.d(t,"utcSequence",(function(){return h.o})),n.d(t,"timeBin",(function(){return h.c})),n.d(t,"accessor",(function(){return r.f})),n.d(t,"accessorName",(function(){return r.h})),n.d(t,"accessorFields",(function(){return r.g})),n.d(t,"id",(function(){return r.w})),n.d(t,"identity",(function(){return r.x})),n.d(t,"zero",(function(){return r.kb})),n.d(t,"one",(function(){return r.O})),n.d(t,"truthy",(function(){return r.gb})),n.d(t,"falsy",(function(){return r.r})),n.d(t,"logger",(function(){return r.K})),n.d(t,"None",(function(){return r.d})),n.d(t,"Error",(function(){return r.b})),n.d(t,"Warn",(function(){return r.e})),n.d(t,"Info",(function(){return r.c})),n.d(t,"Debug",(function(){return r.a})),n.d(t,"mergeConfig",(function(){return r.N})),n.d(t,"writeConfig",(function(){return r.jb})),n.d(t,"panLinear",(function(){return r.Q})),n.d(t,"panLog",(function(){return r.R})),n.d(t,"panPow",(function(){return r.S})),n.d(t,"panSymlog",(function(){return r.T})),n.d(t,"zoomLinear",(function(){return r.lb})),n.d(t,"zoomLog",(function(){return r.mb})),n.d(t,"zoomPow",(function(){return r.nb})),n.d(t,"zoomSymlog",(function(){return r.ob})),n.d(t,"quarter",(function(){return r.V})),n.d(t,"utcquarter",(function(){return r.hb})),n.d(t,"array",(function(){return r.i})),n.d(t,"clampRange",(function(){return r.j})),n.d(t,"compare",(function(){return r.k})),n.d(t,"constant",(function(){return r.l})),n.d(t,"debounce",(function(){return r.m})),n.d(t,"error",(function(){return r.n})),n.d(t,"extend",(function(){return r.o})),n.d(t,"extent",(function(){return r.p})),n.d(t,"extentIndex",(function(){return r.q})),n.d(t,"fastmap",(function(){return r.s})),n.d(t,"field",(function(){return r.t})),n.d(t,"flush",(function(){return r.u})),n.d(t,"hasOwnProperty",(function(){return r.v})),n.d(t,"inherits",(function(){return r.y})),n.d(t,"inrange",(function(){return r.z})),n.d(t,"isArray",(function(){return r.A})),n.d(t,"isBoolean",(function(){return r.B})),n.d(t,"isDate",(function(){return r.C})),n.d(t,"isFunction",(function(){return r.D})),n.d(t,"isNumber",(function(){return r.E})),n.d(t,"isObject",(function(){return r.F})),n.d(t,"isRegExp",(function(){return r.G})),n.d(t,"isString",(function(){return r.H})),n.d(t,"key",(function(){return r.I})),n.d(t,"lerp",(function(){return r.J})),n.d(t,"lruCache",(function(){return r.L})),n.d(t,"merge",(function(){return r.M})),n.d(t,"pad",(function(){return r.P})),n.d(t,"peek",(function(){return r.U})),n.d(t,"repeat",(function(){return r.W})),n.d(t,"span",(function(){return r.X})),n.d(t,"splitAccessPath",(function(){return r.Y})),n.d(t,"stringValue",(function(){return r.Z})),n.d(t,"toBoolean",(function(){return r.ab})),n.d(t,"toDate",(function(){return r.bb})),n.d(t,"toNumber",(function(){return r.cb})),n.d(t,"toString",(function(){return r.eb})),n.d(t,"toSet",(function(){return r.db})),n.d(t,"truncate",(function(){return r.fb})),n.d(t,"visitArray",(function(){return r.ib}));var y=n(307);n.d(t,"loader",(function(){return y.e})),n.d(t,"read",(function(){return y.f})),n.d(t,"inferType",(function(){return y.c})),n.d(t,"inferTypes",(function(){return y.d})),n.d(t,"typeParsers",(function(){return y.h})),n.d(t,"format",(function(){return y.a})),n.d(t,"formats",(function(){return y.b})),n.d(t,"responseType",(function(){return y.g}));var v=n(76);n.d(t,"Bounds",(function(){return v.a})),n.d(t,"Gradient",(function(){return v.d})),n.d(t,"GroupItem",(function(){return v.e})),n.d(t,"ResourceLoader",(function(){return v.k})),n.d(t,"Item",(function(){return v.g})),n.d(t,"Scenegraph",(function(){return v.o})),n.d(t,"Handler",(function(){return v.f})),n.d(t,"Renderer",(function(){return v.j})),n.d(t,"CanvasHandler",(function(){return v.b})),n.d(t,"CanvasRenderer",(function(){return v.c})),n.d(t,"SVGHandler",(function(){return v.l})),n.d(t,"SVGRenderer",(function(){return v.m})),n.d(t,"SVGStringRenderer",(function(){return v.n})),n.d(t,"RenderType",(function(){return v.i})),n.d(t,"renderModule",(function(){return v.S})),n.d(t,"intersect",(function(){return v.C})),n.d(t,"Marks",(function(){return v.h})),n.d(t,"boundClip",(function(){return v.p})),n.d(t,"boundContext",(function(){return v.q})),n.d(t,"boundStroke",(function(){return v.t})),n.d(t,"boundItem",(function(){return v.r})),n.d(t,"boundMark",(function(){return v.s})),n.d(t,"pathCurves",(function(){return v.K})),n.d(t,"pathSymbols",(function(){return v.P})),n.d(t,"pathRectangle",(function(){return v.N})),n.d(t,"pathTrail",(function(){return v.Q})),n.d(t,"pathParse",(function(){return v.M})),n.d(t,"pathRender",(function(){return v.O})),n.d(t,"point",(function(){return v.R})),n.d(t,"domCreate",(function(){return v.x})),n.d(t,"domFind",(function(){return v.y})),n.d(t,"domChild",(function(){return v.v})),n.d(t,"domClear",(function(){return v.w})),n.d(t,"openTag",(function(){return v.J})),n.d(t,"closeTag",(function(){return v.u})),n.d(t,"font",(function(){return v.z})),n.d(t,"fontFamily",(function(){return v.A})),n.d(t,"fontSize",(function(){return v.B})),n.d(t,"lineHeight",(function(){return v.H})),n.d(t,"multiLineOffset",(function(){return v.I})),n.d(t,"textMetrics",(function(){return v.ab})),n.d(t,"resetSVGClipId",(function(){return v.T})),n.d(t,"sceneEqual",(function(){return v.U})),n.d(t,"pathEqual",(function(){return v.L})),n.d(t,"sceneToJSON",(function(){return v.X})),n.d(t,"sceneFromJSON",(function(){return v.V})),n.d(t,"intersectPath",(function(){return v.E})),n.d(t,"intersectPoint",(function(){return v.F})),n.d(t,"intersectRule",(function(){return v.G})),n.d(t,"intersectBoxLine",(function(){return v.D})),n.d(t,"sceneZOrder",(function(){return v.Z})),n.d(t,"sceneVisit",(function(){return v.Y})),n.d(t,"scenePickVisit",(function(){return v.W})),n.d(t,"Dataflow",(function(){return i.a})),n.d(t,"EventStream",(function(){return i.b})),n.d(t,"Parameters",(function(){return i.e})),n.d(t,"Pulse",(function(){return i.f})),n.d(t,"MultiPulse",(function(){return i.c})),n.d(t,"Operator",(function(){return i.d})),n.d(t,"Transform",(function(){return i.g})),n.d(t,"changeset",(function(){return i.i})),n.d(t,"ingest",(function(){return i.l})),n.d(t,"isTuple",(function(){return i.n})),n.d(t,"definition",(function(){return i.j})),n.d(t,"transform",(function(){return i.r})),n.d(t,"transforms",(function(){return i.s})),n.d(t,"tupleid",(function(){return i.t}));var O=n(47);n.d(t,"scale",(function(){return O.I})),n.d(t,"scheme",(function(){return O.L})),n.d(t,"interpolate",(function(){return O.u})),n.d(t,"interpolateColors",(function(){return O.v})),n.d(t,"interpolateRange",(function(){return O.w})),n.d(t,"quantizeInterpolator",(function(){return O.H}));var j=n(331);n.d(t,"projection",(function(){return j.b}));var $=n(1214);n.d(t,"View",(function(){return $.a}));var x=n(245);n.d(t,"expressionFunction",(function(){return x.e})),n.d(t,"formatLocale",(function(){return x.f})),n.d(t,"timeFormatLocale",(function(){return x.h}));var k=n(1222);n.d(t,"parse",(function(){return k.a}));var A=n(520);n.d(t,"runtime",(function(){return A.b})),n.d(t,"runtimeContext",(function(){return A.a})),Object(r.o)(i.s,a,u,o,s,f,c,l,d,p,m)},function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(27),i=n(32),a=n(1);function u(e,t){const n=(n,r)=>Object(i.r)(e[n],Object(i.r)(t[n],r));return n.isVertical=n=>r.y===Object(i.r)(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Object(i.r)(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Object(i.r)(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Object(i.r)(e.columns,Object(i.r)(t.columns,+n.isVertical(!0))),n}function o(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function s(e,t,n){var r=t.config.style[n];return r&&r[e]}function f(e,t,n){return`item.anchor === "${r.u}" ? ${e} : item.anchor === "${r.d}" ? ${t} : ${n}`}const c=f(Object(a.Z)(r.l),Object(a.Z)(r.r),Object(a.Z)(r.b));function l(e){let t,n,r=e("tickBand"),i=e("tickOffset");return r?r.signal?(t={signal:`(${r.signal})==='extent'?1:0.5`},n={signal:`(${r.signal})==='extent'?true:false`},Object(a.F)(i)||(i={signal:`(${r.signal})==='extent'?0:${i}`})):"extent"===r?(t=1,n=!0,i=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:i}}function d(e,t){return t?e?Object(a.F)(e)?{...e,offset:d(e.offset,t)}:{value:e,offset:t}:t:e}},,,,,,function(e,t,n){"use strict";n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return v}));var r=n(443),i=n(1);const a=Object(i.L)();var u={height:d,measureWidth:c,estimateWidth:s,width:s,canvas:o};function o(e){u.width=e&&r.a?c:s}function s(e,t){return f(g(e,t),d(e))}function f(e,t){return~~(.8*e.length*t)}function c(e,t){return d(e)<=0||!(t=g(e,t))?0:l(t,y(e))}function l(e,t){const n=`(${t}) ${e}`;let i=a.get(n);return void 0===i&&(r.a.font=t,i=r.a.measureText(e).width,a.set(n,i)),i}function d(e){return null!=e.fontSize?+e.fontSize||0:11}function p(e){return null!=e.lineHeight?e.lineHeight:d(e)+2}function m(e){return t=e.lineBreak&&e.text&&!Object(i.A)(e.text)?e.text.split(e.lineBreak):e.text,Object(i.A)(t)?t.length>1?t:t[0]:t;var t}function b(e){const t=m(e);return(Object(i.A)(t)?t.length-1:0)*p(e)}function g(e,t){const n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(u.width===c){const t=y(e);return e=>l(e,t)}{const t=d(e);return e=>f(e,t)}}(e);if(r(t)<n)return t;var i,a=e.ellipsis||"â€¦",o="rtl"===e.dir,s=0,p=t.length;if(n-=r(a),o){for(;s<p;)i=s+p>>>1,r(t.slice(i))>n?s=i+1:p=i;return a+t.slice(s)}for(;s<p;)i=1+(s+p>>>1),r(t.slice(0,i))<n?s=i:p=i-1;return t.slice(0,s)+a}(e,n):n}function h(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function y(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+d(e)+"px "+h(e,t)}function v(e){var t=e.baseline,n=d(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*p(e):"line-bottom"===t?.29*n-.5*p(e):0)}o(!0)},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return o}));var r="group",i="rect",a="rule",u="symbol",o="text"},,,,,,function(e,t,n){"use strict";var r=n(33);n.d(t,"j",(function(){return r.m})),n.d(t,"a",(function(){return r.j}));var i=n(181);n.d(t,"b",(function(){return i.a})),n.d(t,"r",(function(){return i.l})),n.d(t,"p",(function(){return i.j})),n.d(t,"q",(function(){return i.k}));var a=n(890);n.d(t,"d",(function(){return a.a})),n.d(t,"k",(function(){return a.b}));var u=n(676);n.d(t,"i",(function(){return u.b})),n.d(t,"e",(function(){return u.a})),n.d(t,"l",(function(){return u.c}));var o=n(323);n.d(t,"f",(function(){return o.a})),n.d(t,"g",(function(){return o.b})),n.d(t,"h",(function(){return o.c})),n.d(t,"m",(function(){return o.d})),n.d(t,"n",(function(){return o.e})),n.d(t,"o",(function(){return o.f}));var s=n(1141);n.d(t,"c",(function(){return s.a}))},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return u}));var r="Literal",i="Identifier",a="CallExpression";function u(e){this.type=e}u.prototype.visit=function(e){var t,n,u;if(e(this))return 1;for(n=0,u=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case a:var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case i:case r:case"RawCode":default:return[]}}(this)).length;n<u;++n)if(t[n].visit(e))return 1}},function(e,t,n){"use strict";function r(e,t){return e.zindex-t.zindex||e.index-t.index}function i(e){if(!e.zdirty)return e.zitems;var t,n,i,a=e.items,u=[];for(n=0,i=a.length;n<i;++n)(t=a[n]).index=n,t.zindex&&u.push(t);return e.zdirty=!1,e.zitems=u.sort(r)}function a(e,t){var n,r,a=e.items;if(a&&a.length){var u=i(e);if(u&&u.length){for(n=0,r=a.length;n<r;++n)a[n].zindex||t(a[n]);a=u}for(n=0,r=a.length;n<r;++n)t(a[n])}}function u(e,t){var n,r,a=e.items;if(!a||!a.length)return null;var u=i(e);for(u&&u.length&&(a=u),r=a.length;--r>=0;)if(n=t(a[r]))return n;if(a===u)for(r=(a=e.items).length;--r>=0;)if(!a[r].zindex&&(n=t(a[r])))return n;return null}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return $})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return D}));var r=n(608),i=n(703),a=n(704),u=n(705),o=n(1996),s=n(1694),f=n(976),c=n(1997);function l(e,t){return null!=e?e:t}const d=e=>e.x||0,p=e=>e.y||0,m=e=>!(!1===e.defined),b=Object(o.a)().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),g=Object(s.a)().x(d).y1(p).y0(e=>(e.y||0)+(e.height||0)).defined(m),h=Object(s.a)().y(p).x1(d).x0(e=>(e.x||0)+(e.width||0)).defined(m),y=Object(f.a)().x(d).y(p).defined(m),v=Object(a.a)().x(d).y(p).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>l(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>l(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>l(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>l(e.cornerRadiusBottomLeft,e.cornerRadius)||0),O=Object(c.a)().type(e=>Object(i.a)(e.shape||"circle")).size(e=>l(e.size,64)),j=Object(u.a)().x(d).y(p).defined(m).size(e=>e.size||1);function $(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function x(e,t){return b.context(e)(t)}function k(e,t){var n=t[0],i=n.interpolate||"linear";return("horizontal"===n.orient?h:g).curve(Object(r.a)(i,n.orient,n.tension)).context(e)(t)}function A(e,t){var n=t[0],i=n.interpolate||"linear";return y.curve(Object(r.a)(i,n.orient,n.tension)).context(e)(t)}function F(e,t,n,r){return v.context(e)(t,n,r)}function w(e,t){return(t.mark.shape||t.shape).context(e)(t)}function _(e,t){return O.context(e)(t)}function D(e,t){return j.context(e)(t)}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=new(n(76).a);function i(e,t,n){return e[t]===n?0:(e[t]=n,1)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return f}));var r=n(443);const i=new(n(170).a);function a(e){return function(t,n){if(!r.a)return!0;e(r.a,t),i.clear().union(t.bounds).intersect(n).round();const{x1:a,y1:u,x2:o,y2:s}=i;for(let e=u;e<=s;++e)for(let t=a;t<=o;++t)if(r.a.isPointInPath(t,e))return!0;return!1}}function u(e,t){return t.contains(e.x||0,e.y||0)}function o(e,t){const n=e.x||0,r=e.y||0,a=e.width||0,u=e.height||0;return t.intersects(i.set(n,r,n+a,r+u))}function s(e,t){const n=e.x||0,r=e.y||0;return f(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function f(e,t,n,r,i){const{x1:a,y1:u,x2:o,y2:s}=e,f=r-t,c=i-n;let l,d,p,m,b=0,g=1;for(m=0;m<4;++m){if(0===m&&(l=-f,d=-(a-t)),1===m&&(l=f,d=o-t),2===m&&(l=-c,d=-(u-n)),3===m&&(l=c,d=s-n),Math.abs(l)<1e-10&&d<0)return!1;if(p=d/l,l<0){if(p>g)return!1;p>b&&(b=p)}else if(l>0){if(p<b)return!1;p<g&&(g=p)}}return!0}},function(e,t,n){"use strict";var r=n(27),i=n(70);t.a=function(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Object(i.e)(e.encode,t,r.t)):e.interactive=!1,e}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return d}));var r=n(47),i=n(1);function a(e,t){let n;return Object(i.D)(e)?e:Object(i.H)(e)?(n=t.scales[e])&&n.value:void 0}function u(e,t){const n=a(e,(t||this).context);return n&&n.range?n.range():[]}function o(e,t){const n=a(e,(t||this).context);return n?n.domain():[]}function s(e,t){const n=a(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function f(e,t,n){return Object(r.s)(e||0,t||0,n||0)}function c(e,t){const n=a(e,(t||this).context);return n?n.copy():void 0}function l(e,t,n){const r=a(e,(n||this).context);return r&&void 0!==t?r(t):void 0}function d(e,t,n){const r=a(e,(n||this).context);return r?Object(i.A)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));var r=Symbol("vega_id"),i=1;function a(e){return!(!e||!u(e))}function u(e){return e[r]}function o(e,t){return e[r]=t,e}function s(e){var t=e===Object(e)?e:{data:e};return u(t)?t:o(t,i++)}function f(e){return c(e,s({}))}function c(e,t){for(var n in e)t[n]=e[n];return t}function l(e,t){return o(t,u(e))}function d(e,t){return e?t?(n,r)=>e(n,r)||u(t(n))-u(t(r)):(t,n)=>e(t,n)||u(t)-u(n):null}},,,,,function(e,t,n){"use strict";function r(e){this.clear(),e&&this.union(e)}n.d(t,"a",(function(){return r}));var i=r.prototype;i.clone=function(){return new r(this)},i.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},i.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},i.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},i.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},i.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},i.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},i.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},i.scale=function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},i.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},i.rotate=function(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},i.rotatedPoints=function(e,t,n){var{x1:r,y1:i,x2:a,y2:u}=this,o=Math.cos(e),s=Math.sin(e),f=t-t*o+n*s,c=n-t*s-n*o;return[o*r-s*i+f,s*r+o*i+c,o*r-s*u+f,s*r+o*u+c,o*a-s*i+f,s*a+o*i+c,o*a-s*u+f,s*a+o*u+c]},i.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},i.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},i.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},i.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},i.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},i.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},i.width=function(){return this.x2-this.x1},i.height=function(){return this.y2-this.y1}},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return y}));var r=n(122),i=n(392),a=n(391);const u={};function o(e,t,n){let r=e+":"+n,i=u[r];return i&&i[0]===t||(u[r]=i=[t,t(n)]),i[1]}function s(e,t){return o("format",i.b,t)(e)}function f(e,t){return o("timeFormat",r.e,t)(e)}function c(e,t){return o("utcFormat",r.l,t)(e)}function l(e,t){return o("timeParse",a.c,t)(e)}function d(e,t){return o("utcParse",a.e,t)(e)}var p=new Date(2e3,0,1);function m(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(p.setYear(2e3),p.setMonth(e),p.setDate(t),f(p,n)):""}function b(e){return m(e,1,"%B")}function g(e){return m(e,1,"%b")}function h(e){return m(0,2+e,"%A")}function y(e){return m(0,2+e,"%a")}},function(e,t,n){"use strict";var r=n(1304),i=n(1312),a=n(1313),u=n(1314),o=n(1315),s=n(1316),f=n(1317),c=n(1318),l=n(1319),d=n(1320),p=n(1321),m=n(1322);t.a={arc:r.a,area:i.a,group:a.a,image:u.a,line:o.a,path:s.a,rect:f.a,rule:c.a,shape:l.a,symbol:d.a,text:p.a,trail:m.a}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"f",(function(){return O}));var r=n(497),i=n(357),a=n(496),u=n(356);const o=new Date;function s(e){return o.setFullYear(e),o.setMonth(0),o.setDate(1),o.setHours(0,0,0,0),o}function f(e){return l(new Date(e))}function c(e){return d(new Date(e))}function l(e){return r.a.count(s(e.getFullYear())-1,e)}function d(e){return i.b.count(s(e.getFullYear())-1,e)}function p(e){return s(e).getDay()}function m(e,t,n,r,i,a,u){if(0<=e&&e<100){var o=new Date(-1,t,n,r,i,a,u);return o.setFullYear(e),o}return new Date(e,t,n,r,i,a,u)}function b(e){return h(new Date(e))}function g(e){return y(new Date(e))}function h(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return a.a.count(t-1,e)}function y(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return u.b.count(t-1,e)}function v(e){return o.setTime(Date.UTC(e,0,1)),o.getUTCDay()}function O(e,t,n,r,i,a,u){if(0<=e&&e<100){var o=new Date(Date.UTC(-1,t,n,r,i,a,u));return o.setUTCFullYear(n.y),o}return new Date(Date.UTC(e,t,n,r,i,a,u))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(304),i=n(207),a=n(1);function u(e,t,n,u){t[0].type!==i.c&&Object(a.n)("First argument to data functions must be a string literal.");const o=t[0].value,s=r.a+o;if(!Object(a.v)(s,u))try{u[s]=n.getData(o).tuplesRef()}catch(e){}}function o(e,t,n,u){t[0].type!==i.c&&Object(a.n)("First argument to indata must be a string literal."),t[1].type!==i.c&&Object(a.n)("Second argument to indata must be a string literal.");const o=t[0].value,s=t[1].value,f=r.b+s;Object(a.v)(f,u)||(u[f]=n.getData(o).indataRef(n,s))}function s(e,t,n,r){if(t[0].type===i.c)f(n,r,t[0].value);else if(t[0].type===i.b)for(e in n.scales)f(n,r,e)}function f(e,t,n){const i=r.c+n;if(!Object(a.v)(t,i))try{t[i]=e.scaleRef(n)}catch(e){}}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return A})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return D})),n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"f",(function(){return q}));var r=n(1),i=n(1325),a=n(1326),u=n(36),o=n(978),s=n(1327),f=n(2001),c=n(262),l=n(623),d=n(556),p=n(624),m=n(982),b=n(2002),g=n(319),h=n(669),y=n(2003),v=n(2004),O=n(2005),j=n(621);const $={};function x(e,t,n){const u=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?Object(i.a)(n):n.invertExtent?Object(a.a)(n):void 0),n.type=e,n};return u.metadata=Object(r.db)(Object(r.i)(n)),u}function k(e,t,n){return arguments.length>1?($[e]=x(e,t,n),this):A(e)?$[e]:void 0}function A(e){return Object(r.v)($,e)}function F(e,t){const n=$[e];return n&&n.metadata[t]}function w(e){return F(e,u.c)}function _(e){return F(e,u.d)}function D(e){return F(e,u.e)}function C(e){return F(e,u.j)}function S(e){return F(e,u.s)}function E(e){return F(e,u.h)}function q(e){return F(e,u.n)}k(u.g,f.a),k(u.i,c.a,u.c),k(u.j,l.a,[u.c,u.j]),k(u.m,d.a,u.c),k(u.q,d.c,u.c),k(u.r,p.a,u.c),k(u.u,m.b,[u.c,u.s]),k(u.v,b.a,[u.c,u.s]),k(u.p,g.b,[u.c,u.h]),k(`${u.p}-${u.i}`,g.b,[u.c,u.h]),k(`${u.p}-${u.j}`,g.c,[u.c,u.h,u.j]),k(`${u.p}-${u.m}`,g.d,[u.c,u.h]),k(`${u.p}-${u.q}`,g.e,[u.c,u.h]),k(`${u.p}-${u.r}`,g.f,[u.c,u.h]),k(`${u.f}-${u.i}`,h.a,[u.c,u.h]),k(`${u.f}-${u.j}`,h.b,[u.c,u.h,u.j]),k(`${u.f}-${u.m}`,h.c,[u.c,u.h]),k(`${u.f}-${u.q}`,h.d,[u.c,u.h]),k(`${u.f}-${u.r}`,h.e,[u.c,u.h]),k(u.n,y.a,[u.e,u.n]),k(u.o,v.a,u.e),k(u.t,O.a,u.e),k(u.b,s.a,[u.d,u.e]),k(u.k,j.a,u.d),k(u.a,o.a,u.d),k(u.l,o.b,u.d)},function(e,t,n){"use strict";var r=n(207),i=n(245),a=n(1);t.a=function(e,t,n){var u,o,s={};try{e=Object(a.H)(e)?e:Object(a.Z)(e)+"",u=Object(r.g)(e)}catch(t){Object(a.n)("Expression parse error: "+e)}return u.visit((function(e){if(e.type===r.a){var n=e.callee.name,a=i.d.visitors[n];a&&a(n,e.arguments,t,s)}})),(o=Object(i.c)(u)).globals.forEach((function(e){var n=i.b+e;!Object(a.v)(s,n)&&t.getSignal(e)&&(s[n]=t.signalRef(e))})),{$expr:n?n+"return("+o.code+");":o.code,$fields:o.fields,$params:s}}},,,,,,,,function(e,t,n){"use strict";function r(e){return null==e?null:e.fname}function i(e){return null==e?null:e.fields}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),t.c=function(e,t,n){return e.fields=t||[],e.fname=n,e}},function(e,t,n){"use strict";function r(e,t,n,r){e=e.filter(e=>{let r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i}),r&&e.sort((e,n)=>t(e)-t(n));const i=e.length,a=new Float64Array(i),u=new Float64Array(i);let o,s,f,c=0,l=0,d=0;for(f of e)a[c]=o=+t(f),u[c]=s=+n(f),++c,l+=(o-l)/c,d+=(s-d)/c;for(c=0;c<i;++c)a[c]-=l,u[c]-=d;return[a,u,l,d]}function i(e,t,n,r){let i,a,u=-1;for(let o of e)i=t(o),a=n(o),null!=i&&(i=+i)>=i&&null!=a&&(a=+a)>=a&&r(i,a,++u)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return o}));var r=n(146),i=n(1);function a(e){return e=e||i.gb,function(t,n,i,a,u,o){return i*=t.pixelRatio,a*=t.pixelRatio,Object(r.a)(n,(function(n){var r=n.bounds;if((!r||r.contains(u,o))&&r)return e(t,n,i,a,u,o)?n:void 0}))}}function u(e,t){return function(n,r,i,a){var u,o,s=Array.isArray(r)?r[0]:r,f=null==t?s.fill:t,c=s.stroke&&n.isPointInStroke;return c&&(u=s.strokeWidth,o=s.strokeCap,n.lineWidth=null!=u?u:1,n.lineCap=null!=o?o:"butt"),!e(n,r)&&(f&&n.isPointInPath(i,a)||c&&n.isPointInStroke(i,a))}}function o(e){return a(u(e))}},,,function(e,t,n){"use strict";var r=n(145);n.d(t,"c",(function(){return r.c})),n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a}));var i=n(1216);n.d(t,"g",(function(){return i.a}));var a=n(1217);n.d(t,"d",(function(){return a.a}));var u=n(728);n.d(t,"f",(function(){return u.a}));var o=n(727);n.d(t,"e",(function(){return o.a}))},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=Math.random;function i(e){r=e}},,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return"translate("+e+","+t+")"}function i(e){return"rotate("+e+")"}function a(e){return r(e.x||0,e.y||0)}function u(e){return r(e.x||0,e.y||0)+(e.angle?" "+i(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return u}))},,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(1);function i(e,t,n){return n||e+(t?"_"+t:"")}var a={values:s({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:s({name:"count",set:"cell.num"}),__count__:s({name:"count",set:"this.missing + this.valid"}),missing:s({name:"missing",set:"this.missing"}),valid:s({name:"valid",set:"this.valid"}),sum:s({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),product:s({name:"product",init:"this.product = 1;",add:"this.product *= v;",rem:"this.product /= v;",set:"this.valid ? this.product : undefined"}),mean:s({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:s({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:s({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:s({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:s({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:s({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:s({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:s({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:s({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:s({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:s({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:s({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:s({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:s({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:s({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:s({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (Number.isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:s({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (Number.isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},u=Object.keys(a);function o(e,t){return a[e](t)}function s(e){return function(t){var n=Object(r.o)({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function f(e,t){return e.idx-t.idx}function c(e,t){var n=t||r.x,i=function(e,t){var n,r=e.reduce((function e(n,r){function i(t){n[t]||e(n,n[t]=a[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),n}),e.reduce((function(e,t){return e[t.name]=t,e}),{})),i=[];for(n in r)i.push(r[n]);return i.sort(f)}(e,!0),u="var cell = this.cell; this.valid = 0; this.missing = 0;",o="this.cell = cell; this.init();",s="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",c="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",l="var cell = this.cell;";return i.forEach((function(e){u+=e.init,s+=e.add,c+=e.rem})),e.slice().sort(f).forEach((function(e){l+="t["+Object(r.Z)(e.out)+"]="+e.set+";"})),l+="return t;",(o=Function("cell",o)).prototype.init=Function(u),o.prototype.add=Function("v","t",s),o.prototype.rem=Function("v","t",c),o.prototype.set=Function("t",l),o.prototype.get=n,o.fields=e.map((function(e){return e.out})),o}},,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r}},,function(e,t,n){"use strict";t.a=function(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}},,function(e,t,n){"use strict";var r=n(592);n.d(t,"d",(function(){return r.b})),n.d(t,"c",(function(){return r.a})),n.d(t,"e",(function(){return r.c})),n.d(t,"g",(function(){return r.d}));n(326),n(729),n(174),n(404),n(730),n(405),n(516),n(731),n(732),n(517);var i=n(304);n.d(t,"a",(function(){return i.c})),n.d(t,"b",(function(){return i.d}));n(164),n(733),n(518),n(519),n(406),n(183);var a=n(392);n.d(t,"f",(function(){return a.a}));var u=n(391);n.d(t,"h",(function(){return u.a}))},function(e,t,n){"use strict";var r=n(1224);n.d(t,"a",(function(){return r.a}))},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(604),i=n(324),a=n(1),u=0,o=new r.a;function s(e,t,n,r){this.id=++u,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}var f=s.prototype;function c(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}f.targets=function(){return this._targets||(this._targets=Object(i.a)(a.w))},f.set=function(e){return this.value!==e?(this.value=e,1):0},f.skip=c(1),f.modified=c(2),f.parameters=function(e,t,n){t=!1!==t;var i,u,o,f,c=this,l=c._argval=c._argval||new r.a,d=c._argops=c._argops||[],p=[];function m(e,n,r){r instanceof s?(r!==c&&(t&&r.targets().add(c),p.push(r)),d.push({op:r,name:e,index:n})):l.set(e,n,r)}for(i in e)if(u=e[i],"pulse"===i)Object(a.i)(u).forEach((function(e){e instanceof s?e!==c&&(e.targets().add(c),p.push(e)):Object(a.n)("Pulse parameters must be operator instances.")})),c.source=u;else if(Object(a.A)(u))for(l.set(i,-1,Array(o=u.length)),f=0;f<o;++f)m(i,f,u[f]);else m(i,-1,u);return this.marshall().clear(),n&&(d.initonly=!0),p},f.marshall=function(e){var t,n,r,i,a,u=this._argval||o,s=this._argops;if(s){for(n=0,r=s.length;n<r;++n)a=(i=(t=s[n]).op).modified()&&i.stamp===e,u.set(t.name,t.index,i.value,a);if(s.initonly){for(n=0;n<r;++n)(t=s[n]).op.targets().remove(this);this._argops=null,this._update=null}}return u},f.evaluate=function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},f.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(701);function i(e){this._el=null,this._bgcolor=null,this._loader=new r.a(e)}var a=i.prototype;a.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},a.element=function(){return this._el},a.canvas=function(){return this._el&&this._el.firstChild},a.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},a.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},a.dirty=function(){},a.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},a._render=function(){},a.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},a._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},a.sanitizeURL=function(e){return this._load("sanitizeURL",e)},a.loadImage=function(e){return this._load("loadImage",e)}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u}));var r=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],i="mousemove",a="mouseout",u="click"},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(165),i=n(1),a={};function u(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}var o=u.prototype;function s(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function f(e,t){var n=[];return Object(i.ib)(e,t,(function(e){n.push(e)})),n}function c(e,t){var n={};return e.visit(t,(function(e){n[Object(r.g)(e)]=1})),function(e){return n[Object(r.g)(e)]?null:e}}o.StopPropagation=a,o.ADD=1,o.REM=2,o.MOD=4,o.ADD_REM=3,o.ADD_MOD=5,o.ALL=7,o.REFLOW=8,o.SOURCE=16,o.NO_SOURCE=32,o.NO_FIELDS=64,o.fork=function(e){return new u(this.dataflow).init(this,e)},o.clone=function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},o.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?((e=new u(this.dataflow).init(this)).add=e.source,e):e},o.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},o.runAfter=function(e){this.dataflow.runAfter(e)},o.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},o.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,c(this,1))),this},o.modifies=function(e){var t=this.fields||(this.fields={});return Object(i.A)(e)?e.forEach(e=>t[e]=!0):t[e]=!0,this},o.modified=function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(i.A)(e)?e.some((function(e){return n[e]})):n[e]:!!n)},o.filter=function(e,t){var n=this;return 1&e&&(n.addF=s(n.addF,t)),2&e&&(n.remF=s(n.remF,t)),4&e&&(n.modF=s(n.modF,t)),16&e&&(n.srcF=s(n.srcF,t)),n},o.materialize=function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=f(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=f(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=f(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},o.visit=function(e,t){var n,r,a=this,u=t;return 16&e?(Object(i.ib)(a.source,a.srcF,u),a):(1&e&&Object(i.ib)(a.add,a.addF,u),2&e&&Object(i.ib)(a.rem,a.remF,u),4&e&&Object(i.ib)(a.mod,a.modF,u),8&e&&(n=a.source)&&((r=a.add.length+a.mod.length)===n.length||(r?Object(i.ib)(n,c(a,5),u):Object(i.ib)(n,a.srcF,u))),a)}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return f}));var r=n(617),i=n(214);let a=NaN;function u(e,t){e=e||0,t=null==t?1:t;let n,r,u=0,o=0;if(a==a)u=a,a=NaN;else{do{u=2*Object(i.a)()-1,o=2*Object(i.a)()-1,n=u*u+o*o}while(0===n||n>1);r=Math.sqrt(-2*Math.log(n)/n),u*=r,a=o*r}return e+u*t}function o(e,t,n){const i=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*i*i)/(n*r.b)}function s(e,t,n){let r,i=(e-(t=t||0))/(n=null==n?1:n),a=Math.abs(i);if(a>37)r=0;else{let e,t=Math.exp(-a*a/2);a<7.07106781186547?(e=.0352624965998911*a+.700383064443688,e=e*a+6.37396220353165,e=e*a+33.912866078383,e=e*a+112.079291497871,e=e*a+221.213596169931,e=e*a+220.206867912376,r=t*e,e=.0883883476483184*a+1.75566716318264,e=e*a+16.064177579207,e=e*a+86.7807322029461,e=e*a+296.564248779674,e=e*a+637.333633378831,e=e*a+793.826512519948,e=e*a+440.413735824752,r/=e):(e=a+.65,e=a+4/e,e=a+3/e,e=a+2/e,e=a+1/e,r=t/e/2.506628274631)}return i>0?1-r:r}function f(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*r.a*function(e){let t,n=-Math.log((1-e)*(1+e));n<6.25?(n-=3.125,t=-364441206401782e-35,t=t*n-16850591381820166e-35,t=128584807152564e-32+t*n,t=11157877678025181e-33+t*n,t=t*n-1333171662854621e-31,t=20972767875968562e-33+t*n,t=6637638134358324e-30+t*n,t=t*n-4054566272975207e-29,t=t*n-8151934197605472e-29,t=26335093153082323e-28+t*n,t=t*n-12975133253453532e-27,t=t*n-5415412054294628e-26,t=1.0512122733215323e-9+t*n,t=t*n-4.112633980346984e-9,t=t*n-2.9070369957882005e-8,t=4.2347877827932404e-7+t*n,t=t*n-13654692000834679e-22,t=t*n-13882523362786469e-21,t=.00018673420803405714+t*n,t=t*n-.000740702534166267,t=t*n-.006033670871430149,t=.24015818242558962+t*n,t=1.6536545626831027+t*n):n<16?(n=Math.sqrt(n)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*n,t=t*n-2.7517406297064545e-7,t=1.8239629214389228e-8+t*n,t=15027403968909828e-22+t*n,t=t*n-4013867526981546e-21,t=29234449089955446e-22+t*n,t=12475304481671779e-21+t*n,t=t*n-47318229009055734e-21,t=6828485145957318e-20+t*n,t=24031110387097894e-21+t*n,t=t*n-.0003550375203628475,t=.0009532893797373805+t*n,t=t*n-.0016882755560235047,t=.002491442096107851+t*n,t=t*n-.003751208507569241,t=.005370914553590064+t*n,t=1.0052589676941592+t*n,t=3.0838856104922208+t*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=-27109920616438573e-27,t=t*n-2.555641816996525e-10,t=1.5076572693500548e-9+t*n,t=t*n-3.789465440126737e-9,t=7.61570120807834e-9+t*n,t=t*n-1.496002662714924e-8,t=2.914795345090108e-8+t*n,t=t*n-6.771199775845234e-8,t=2.2900482228026655e-7+t*n,t=t*n-9.9298272942317e-7,t=4526062597223154e-21+t*n,t=t*n-1968177810553167e-20,t=7599527703001776e-20+t*n,t=t*n-.00021503011930044477,t=t*n-.00013871931833623122,t=1.0103004648645344+t*n,t=4.849906401408584+t*n):t=1/0;return t*e}(2*e-1)}t.b=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>u(n,r),pdf:e=>o(e,n,r),cdf:e=>s(e,n,r),icdf:e=>f(e,n,r)};return i.mean(e).stdev(t)}},,,,function(e,t,n){"use strict";var r=n(203);t.a=function(e,t,n,i,a){let u=0,o=0;return Object(r.b)(e,t,n,(e,t)=>{const n=t-a(e),r=t-i;u+=n*n,o+=r*r}),1-u/o}},function(e,t,n){"use strict";var r=n(677);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},function(e,t,n){"use strict";function r(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function i(e,t){return r(["_"],e,t)}function a(e,t){return r(["datum","_"],e,t)}function u(e,t){return r(["event"],e,t)}function o(e,t){return r(["_","event"],e,t)}function s(e,t){return r(["item","_"],e,t)}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}))},,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u}));var r=0;const i="p_";function a(e){return e&&e.gradient}function u(e,t,n){let a=e.id,u=e.gradient,s="radial"===u?i:"";return a||(a=e.id="gradient_"+r++,"radial"===u?(e.x1=o(e.x1,.5),e.y1=o(e.y1,.5),e.r1=o(e.r1,0),e.x2=o(e.x2,.5),e.y2=o(e.y2,.5),e.r2=o(e.r2,.5),s=i):(e.x1=o(e.x1,0),e.y1=o(e.y1,0),e.x2=o(e.x2,1),e.y2=o(e.y2,0))),t[a]=e,"url("+(n||"")+"#"+s+a+")"}function o(e,t){return null!=e?e:t}t.a=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}function u(e,t){return e.parent===t.parent?1:2}Object(i.y)(a,r.g).transform=function(e,t){t.source&&t.source.root||Object(i.n)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),a=this.fields,o=t.source.root,s=e.as||a;e.field?o.sum(e.field):o.count(),e.sort&&o.sort(Object(r.q)(e.sort,e=>e.data)),function(e,t,n){for(var r,i=0,a=t.length;i<a;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?u:i.O);try{this.value=n(o)}catch(e){Object(i.n)(e)}return o.each((function(e){!function(e,t,n){for(var r=e.data,i=0,a=t.length-1;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}(e,a,s)})),t.reflow(e.modified()).modifies(s).modifies("leaf")}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u}));const r=":",i="@",a="%",u="$"},,function(e,t,n){"use strict";t.a=function(e){return e[e.length-1]}},function(e,t,n){"use strict";n.d(t,"e",(function(){return o}));var r=n(1292),i=n(1089);n.d(t,"f",(function(){return i.a}));var a=n(402);n.d(t,"c",(function(){return a.a})),n.d(t,"d",(function(){return a.b})),n.d(t,"h",(function(){return a.c}));var u=n(503);n.d(t,"a",(function(){return u.a})),n.d(t,"b",(function(){return u.b})),n.d(t,"g",(function(){return u.c}));var o=Object(r.a)("undefined"!=typeof fetch&&fetch,null)},,function(e,t,n){"use strict";t.a=function(e,t){e.globalCompositeOperation=t.blend||"source-over"}},,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}));const r="intersect",i="union",a="vlMulti",u="or",o="and"},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(202),i=n(686),a=[],u=Object(i.a)("id"),o=Object(r.c)((function(e){return e}),a,"identity"),s=Object(r.c)((function(){return 0}),a,"zero"),f=Object(r.c)((function(){return 1}),a,"one"),c=Object(r.c)((function(){return!0}),a,"true"),l=Object(r.c)((function(){return!1}),a,"false")},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return x})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return F})),n.d(t,"f",(function(){return w}));var r=n(33),i=n(498),a=n(1054),u=n(357),o=n(497),s=n(1689),f=n(1690),c=n(879),l=n(880),d=n(499),p=n(1055),m=n(356),b=n(496),g=n(1691),h=n(1692);const y={[r.l]:i.a,[r.h]:a.a.every(3),[r.g]:a.a,[r.k]:u.b,[r.a]:o.a,[r.b]:o.a,[r.c]:o.a,[r.d]:s.a,[r.f]:f.a,[r.i]:c.a,[r.e]:l.a},v={[r.l]:d.a,[r.h]:p.a.every(3),[r.g]:p.a,[r.k]:m.b,[r.a]:b.a,[r.b]:b.a,[r.c]:b.a,[r.d]:g.a,[r.f]:h.a,[r.i]:c.a,[r.e]:l.a};function O(e){return y[e]}function j(e){return v[e]}function $(e,t,n){return e?e.offset(t,n):void 0}function x(e,t,n){return $(O(e),t,n)}function k(e,t,n){return $(j(e),t,n)}function A(e,t,n,r){return e?e.range(t,n,r):void 0}function F(e,t,n,r){return A(O(e),t,n,r)}function w(e,t,n,r){return A(j(e),t,n,r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=e||r.x,n=[],i={};return n.add=function(e){var r=t(e);return i[r]||(i[r]=1,n.push(e)),n},n.remove=function(e){var r,a=t(e);return i[a]&&(i[a]=0,(r=n.indexOf(e))>=0&&n.splice(r,1)),n},n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i,a,u=n(94),o=u.e-1e-8;function s(e){return r=e,s}function f(){}function c(e,t){r.add(e,t)}function l(e,t){c(i=e,a=t)}function d(e){c(e,r.y1)}function p(e){c(r.x1,e)}function m(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function b(e,t,n,r,i){const a=r-e+3*t-3*n,o=e+n-2*t,s=e-t;let f,c=0,l=0;Math.abs(a)>u.b?(f=o*o+s*a,f>=0&&(f=Math.sqrt(f),c=(-o+f)/a,l=(-o-f)/a)):c=.5*s/o,0<c&&c<1&&i(g(c,e,t,n,r)),0<l&&l<1&&i(g(l,e,t,n,r))}function g(e,t,n,r,i){const a=1-e,u=a*a,o=e*e;return u*a*t+3*u*e*n+3*a*o*r+o*e*i}s.beginPath=f,s.closePath=f,s.moveTo=l,s.lineTo=l,s.rect=function(e,t,n,r){c(e+n,t+r),l(e,t)},s.quadraticCurveTo=function(e,t,n,r){m(i,e,n,d),m(a,t,r,p),l(n,r)},s.bezierCurveTo=function(e,t,n,r,u,o){b(i,e,n,u,d),b(a,t,r,o,p),l(u,o)},s.arc=function(e,t,n,r,s,f){if(i=n*Math.cos(s)+e,a=n*Math.sin(s)+t,Math.abs(s-r)>o)c(e-n,t-n),c(e+n,t+n);else{const i=r=>c(n*Math.cos(r)+e,n*Math.sin(r)+t);let a,o;if(i(r),i(s),s!==r)if((r%=u.e)<0&&(r+=u.e),(s%=u.e)<0&&(s+=u.e),s<r&&(f=!f,a=r,r=s,s=a),f)for(s-=u.e,a=r-r%u.c,o=0;o<4&&a>s;++o,a-=u.c)i(a);else for(a=r-r%u.c+u.c,o=0;o<4&&a<s;++o,a+=u.c)i(a)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u}));var r=n(1);function i(e){const t=this.context.data[e];return t?t.values.value:[]}function a(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}function u(e,t){const n=this.context.dataflow,i=this.context.data[e].input;return n.pulse(i,n.changeset().remove(r.gb).insert(t)),1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(32),i=n(63),a=n(1);function u(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}u.fromEntries=function(e,t){var n=t.length,i=1,a=t[0],o=t[n-1],s=t[n-2],f=null;for(a&&"load"===a.type&&(a=t[1]),e.add(t[0]);i<n;++i)t[i].params.pulse=Object(r.p)(t[i-1]),e.add(t[i]),"aggregate"===t[i].type&&(f=t[i]);return new u(e,a,s,o,f)};var o=u.prototype;function s(e){return Object(a.H)(e)?e:null}function f(e,t,n){var i,a=Object(r.e)(n.op,n.field);if(t.ops){for(var u=0,o=t.as.length;u<o;++u)if(t.as[u]===a)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(a))}function c(e,t,n,i,a,u,o){var f,c,l=t[n]||(t[n]={}),d=Object(r.q)(u),p=s(a);if(null!=p&&(e=t.scope,f=l[p+=d?"|"+d:""]),!f){var m=u?{field:r.m,pulse:t.countsRef(e,a,u)}:{field:e.fieldRef(a),pulse:Object(r.p)(t.output)};d&&(m.sort=e.sortRef(u)),c=e.add(Object(r.h)(i,void 0,m)),o&&(t.index[a]=c),f=Object(r.p)(c),null!=p&&(l[p]=f)}return f}o.countsRef=function(e,t,n){var a,u,o,c=this.counts||(this.counts={}),l=s(t);return null!=l&&(e=this.scope,a=c[l]),a?n&&n.field&&f(e,a.agg.params,n):(o={groupby:e.fieldRef(t,"key"),pulse:Object(r.p)(this.output)},n&&n.field&&f(e,o,n),u=e.add(Object(i.a)(o)),a=e.add(Object(i.d)({pulse:Object(r.p)(u)})),a={agg:u,ref:Object(r.p)(a)},null!=l&&(c[l]=a)),a.ref},o.tuplesRef=function(){return Object(r.p)(this.values)},o.extentRef=function(e,t){return c(e,this,"extent","extent",t,!1)},o.domainRef=function(e,t){return c(e,this,"domain","values",t,!1)},o.valuesRef=function(e,t,n){return c(e,this,"vals","values",t,n||!0)},o.lookupRef=function(e,t){return c(e,this,"lookup","tupleindex",t,!1)},o.indataRef=function(e,t){return c(e,this,"indata","tupleindex",t,!0,!0)}},,function(e,t,n){"use strict";t.a=function(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(1);function i(e,t){return e?e.map((function(e,n){return t[n]||Object(r.h)(e)})):null}function a(e,t,n){var r,i,a,u,o,s,f=[],c=function(e){return e(u)};if(null==t)f.push(e.map(n));else for(r={},i=0,a=e.length;i<a;++i)u=e[i],(s=r[o=t.map(c)])||(r[o]=s=[],s.dims=o,f.push(s)),s.push(n(u));return f}},function(e,t,n){"use strict";var r=n(678);n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"a",(function(){return r.a}))},,,,,function(e,t,n){"use strict";const r=Object.prototype.hasOwnProperty;t.a=function(e,t){return r.call(e,t)}},function(e,t,n){"use strict";var r=n(763),i=[];t.a=function(e,t,n){var a=null!=(a=t.strokeWidth)?a:1;return!(a<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=Object(r.a)(e,t,t.stroke),e.lineWidth=a,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||i),e.lineDashOffset=t.strokeDashOffset||0),!0))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(88),i=n(1323),a=n(307);function u(e,t){this._active=null,this._handlers={},this._loader=e||Object(a.e)(),this._tooltip=t||o}function o(e,t,n,r){e.element().setAttribute("title",r||"")}var s=u.prototype;s.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},s.element=function(){return this._el},s.canvas=function(){return this._el&&this._el.firstChild},s.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},s.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},s.on=function(){},s.off=function(){},s._handlerIndex=function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},s.handlers=function(e){var t,n=this._handlers,r=[];if(e)r.push.apply(r,n[this.eventName(e)]);else for(t in n)r.push.apply(r,n[t]);return r},s.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},s.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),i=Object(r.d)(null,"a");for(var a in t)i.setAttribute(a,t[a]);i.dispatchEvent(n)})).catch((function(){}))},s.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=Object(i.a)(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},s.getItemBoundingClientRect=function(e){if(t=this.canvas()){for(var t,n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.x1+r[0]+n.left,u=i.y1+r[1]+n.top,o=i.width(),s=i.height();e.mark&&(e=e.mark.group);)a+=e.x||0,u+=e.y||0;return{x:a,y:u,width:o,height:s,left:a,top:u,right:a+o,bottom:u+s}}}},,,function(e,t,n){"use strict";function r(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function i(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function a(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function u(e){var t=a(e),n=r(e),u=i(e);e._renderer.background(e.background()),e._renderer.resize(n,u,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,u)}catch(t){e.error(t)}}))}n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u}))},function(e,t,n){"use strict";var r=n(1402),i=n(781),a=n(782),u=n(1403),o=n(564),s=n(414),f=n(1);t.a=function(e,t,n,c,l){if(null!=t.gradient)return Object(u.a)(t,n,c,l);var d=t.signal?Object(s.a)(t.signal,n,c,l):t.color?Object(r.a)(t.color,n,c,l):null!=t.field?Object(i.a)(t.field,n,c,l):void 0!==t.value?Object(f.Z)(t.value):void 0;return null!=t.scale&&(d=Object(a.a)(t,d,n,c,l)),void 0===d&&(d=null),null!=t.exponent&&(d="Math.pow("+d+","+Object(o.a)(t.exponent,n,c,l)+")"),null!=t.mult&&(d+="*"+Object(o.a)(t.mult,n,c,l)),null!=t.offset&&(d+="+"+Object(o.a)(t.offset,n,c,l)),t.round&&(d="Math.round("+d+")"),d}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return O}));var r=n(322),i=n(306),a=n(603);function u(e){return function(t){return e*Math.exp(t)}}function o(e){return function(t){return Math.log(e*t)}}function s(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function f(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function c(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l(e,t,n,r){var a=n(e[0]),u=n(Object(i.a)(e)),o=(u-a)*t;return[r(a-o),r(u-o)]}function d(e,t){return l(e,t,a.a,r.c)}function p(e,t){var n=Math.sign(e[0]);return l(e,t,o(n),u(n))}function m(e,t,n){return l(e,t,c(n),c(1/n))}function b(e,t,n){return l(e,t,s(n),f(n))}function g(e,t,n,r,a){var u=r(e[0]),o=r(Object(i.a)(e)),s=null!=t?r(t):(u+o)/2;return[a(s+(u-s)*n),a(s+(o-s)*n)]}function h(e,t,n){return g(e,t,n,a.a,r.c)}function y(e,t,n){var r=Math.sign(e[0]);return g(e,t,n,o(r),u(r))}function v(e,t,n,r){return g(e,t,n,c(r),c(1/r))}function O(e,t,n,r){return g(e,t,n,s(r),f(r))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(193),i=n(1),a=n(767),u=n(504);const o=["clamp","base","constant","exponent"];function s(e,t){var n=t[0],r=Object(i.U)(t)-n;return function(t){return e(n+t*r)}}function f(e,t,n){return a.a(d(t||"rgb",n),e)}function c(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function l(e,t,n){var a,u,s,f=n-t;return f&&Number.isFinite(f)?(a=(u=e.type).indexOf("-"),u=a<0?u:u.slice(a+1),s=Object(r.i)(u)().domain([t,n]).range([0,1]),o.forEach(t=>e[t]?s[t](e[t]()):0),s):Object(i.l)(.5)}function d(e,t){var n=u[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(193),i=n(36),a=n(122),u=n(1),o=n(392),s=n(651);const f=e=>Object(u.A)(e)?e.map(e=>String(e)):String(e);function c(e,t,n){var r;return Object(u.E)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(u.X)(e.domain())/n||1)))),Object(u.F)(t)&&(r=t.step,t=t.interval),Object(u.H)(t)&&(t=e.type===i.u?Object(a.f)(t):e.type==i.v?Object(a.m)(t):Object(u.n)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function l(e,t,n){let r=e.range(),i=r[0],a=Object(u.U)(r);if(i>a&&(r=a,a=i,i=r),i=Math.floor(i),a=Math.ceil(a),t=t.filter(t=>(t=e(t),i<=t&&t<=a)),n>0&&t.length>1){const e=[t[0],Object(u.U)(t)];for(;t.length>n&&t.length>=3;)t=t.filter((e,t)=>!(t%2));t.length<3&&(t=e)}return t}function d(e,t){return e.bins?l(e,e.bins):e.ticks?e.ticks(t):e.domain()}function p(e,t,n,u,c){var l,d,p=e.type,m=p===i.u||u===i.u?Object(a.e)(n):p===i.v||u===i.v?Object(a.l)(n):e.tickFormat?e.tickFormat(t,n):n?Object(o.b)(n):f;if(Object(r.e)(p)){var b=function(e){var t=Object(s.a)(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return function(e,t){return n=>{var r,i,a=e(n),u=a.indexOf(t);if(u<0)return a;for(i=(r=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(a,u))<a.length?a.slice(r):"";--r>u;)if("0"!==a[r]){++r;break}return a.slice(0,r)+i}}(Object(o.b)(t),Object(o.b)(".1f")(1)[1])}return Object(o.b)(t)}(n);m=c||e.bins?b:(l=m,d=b,e=>l(e)?d(e):"")}return m}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(401),i=n(461),a=n(687);function u(e){return Object(r.a)(e)?"["+e.map(u)+"]":Object(i.a)(e)||Object(a.a)(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}},function(e,t,n){"use strict";var r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];t.a=function(e){var t,n,a,u,o,s,f,c,l,d,p,m=[];for(c=0,d=(t=e.slice().replace(i[0],"###$1").split(i[1]).slice(1)).length;c<d;++c){for(a=(n=t[c]).slice(1).trim().replace(i[2],"$1###$2").split(i[3]),u=[s=n.charAt(0)],l=0,p=a.length;l<p;++l)(o=+a[l])===o&&u.push(o);if(f=r[s.toLowerCase()],u.length-1>f)for(l=1,p=u.length;l<p;l+=f)m.push([s].concat(u.slice(l,l+f)));else m.push(u)}return m}},,function(e,t,n){"use strict";var r=n(116);t.a=function(e){return e.type=r.a,e.interactive=e.interactive||!1,e}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r="Feature",i="FeatureCollection",a="MultiPoint"},,function(e,t,n){"use strict";function r(e){return new Uint8Array(e)}function i(e){return new Uint16Array(e)}function a(e){return new Uint32Array(e)}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(526);t.a=function(e){var t,n,i,a=[],u=null,o=0,s=e.length,f="";function c(){a.push(f+e.substring(t,n)),f="",t=n+1}for(e+="",t=n=0;n<s;++n)if("\\"===(i=e[n]))f+=e.substring(t,n),f+=e.substring(++n,++n),t=n;else if(i===u)c(),u=null,o=-1;else{if(u)continue;t===o&&'"'===i||t===o&&"'"===i?(t=n+1,u=i):"."!==i||o?"["===i?(n>t&&c(),o=t=n+1):"]"===i&&(o||Object(r.a)("Access path missing open bracket: "+e),o>0&&c(),o=0,t=n+1):n>t?c():t=n+1}return o&&Object(r.a)("Access path missing closing bracket: "+e),u&&Object(r.a)("Access path missing closing quote: "+e),n>t&&(n++,c()),a}},function(e,t,n){"use strict";t.a=Array.isArray},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(1),i={boolean:r.ab,integer:r.cb,number:r.cb,date:r.bb,string:r.eb,unknown:r.x},a=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return f(e)&&Number.isInteger(+e)},f,function(e){return!Number.isNaN(Date.parse(e))}],u=["boolean","integer","number","date"];function o(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=a.length,i=a.map((e,t)=>t+1);for(let u,s,f=0,c=0;f<n;++f)for(s=t?e[f][t]:e[f],u=0;u<r;++u)if(i[u]&&(null!=(o=s)&&o==o)&&!a[u](s)&&(i[u]=0,++c,c===a.length))return"string";var o;return u[i.reduce((e,t)=>0===e?t:e,0)-1]}function s(e,t){return t.reduce((function(t,n){return t[n]=o(e,n),t}),{})}function f(e){return!(Number.isNaN(+e)||e instanceof Date)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(147),i=n(1),a=1;function u(){a=1}t.a=function(e,t,n){var u=t.clip,o=e._defs,s=t.clip_id||(t.clip_id="clip"+a++),f=o.clipping[s]||(o.clipping[s]={id:s});return Object(i.D)(u)?f.path=u(null):Object(r.c)(n)?f.path=Object(r.e)(null,n,0,0):(f.width=n.width||0,f.height=n.height||0),"url(#"+s+")"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return c}));var r=n(164),i=n(449),a=n(1701),u=n(587);function o(e,t){return function(n,i,a){if(n){const t=Object(r.e)(n,(a||this).context);return t&&t.path[e](i)}return t(i)}}const s=o("area",i.c),f=o("bounds",a.a),c=o("centroid",u.a)},function(e,t,n){"use strict";function r(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function i(){return r(this.context.dataflow,"warn",arguments)}function a(){return r(this.context.dataflow,"info",arguments)}function u(){return r(this.context.dataflow,"debug",arguments)}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));const r="undefined"!=typeof window&&window||null;function i(){return r?r.screen:{}}function a(){return r?[r.innerWidth,r.innerHeight]:[void 0,void 0]}function u(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}},,function(e,t,n){"use strict";var r=n(401);t.a=function(e){return null!=e?Object(r.a)(e)?e:[e]:[]}},function(e,t,n){"use strict";t.a=function(e){return"function"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(616),i=n(229),a=n(760),u=n(14),o=n(1);function s(e){u.g.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}s.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:i.a},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var f=Object(o.y)(s,u.g);f.transform=function(e,t){var n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,e=>n.add(e))):(n.value=n.value||n.init(e),t.visit(t.REM,e=>n.rem(e)),t.visit(t.ADD,e=>n.add(e))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),n.changes(r)},f.cross=function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function a(e){var t,a,u,o;for(t in e)for(u=e[t].tuple,a=0;a<i;++a)r[a][o=u[n[a]]]=o}a(e._prev),a(t),function a(u,o,s){var f,c,l=n[s],d=r[s++];for(f in d)o[l]=d[f],c=u?u+"|"+f:f,s<i?a(c,o,s):t[c]||e.cell(c,o)}("",{},0)},f.init=function(e){var t=this._inputs=[],n=this._outputs=[],a={};function u(e){for(var n,r=Object(o.i)(Object(o.g)(e)),i=0,u=r.length;i<u;++i)a[n=r[i]]||(a[n]=1,t.push(n))}this._dims=Object(o.i)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(o.h)(e);return u(e),n.push(t),t})),this.cellkey=e.key?e.key:Object(r.a)(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var s,f,c,l,d,p,m=e.fields||[null],b=e.ops||["count"],g=e.as||[],h=m.length,y={};for(h!==b.length&&Object(o.n)("Unmatched number of fields and aggregate ops."),p=0;p<h;++p)s=m[p],f=b[p],null==s&&"count"!==f&&Object(o.n)("Null aggregate field specified."),l=Object(o.h)(s),d=Object(i.d)(f,l,g[p]),n.push(d),"count"!==f?((c=y[l])||(u(s),(c=y[l]=[]).field=s,this._measures.push(c)),"count"!==f&&(this._countOnly=!1),c.push(Object(i.c)(f,d))):this._counts.push(d);return this._measures=this._measures.map((function(e){return Object(i.b)(e,e.field)})),{}},f.cellkey=Object(r.a)(),f.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},f.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,u=i.length;for(n.agg=Array(u),r=0;r<u;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new a.a),n},f.newtuple=function(e,t){var n,r,i=this._dnames,a=this._dims,o={};for(n=0,r=a.length;n<r;++n)o[i[n]]=a[n](e);return t?Object(u.p)(t.tuple,o):Object(u.l)(o)},f.add=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].add(t[n].get(e),e)},f.rem=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].rem(t[n].get(e),e)},f.celltuple=function(e){var t,n,r,i=e.tuple,a=this._counts;for(e.store&&e.data.values(),n=0,r=a.length;n<r;++n)i[a[n]]=e.num;if(!this._countOnly)for(n=0,r=(t=e.agg).length;n<r;++n)t[n].set(i);return i},f.changes=function(e){var t,n,r,i,a=this._adds,u=this._mods,o=this._prev,s=this._drop,f=e.add,c=e.rem,l=e.mod;if(o)for(n in o)t=o[n],s&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)f.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=u[r]).num&&s?c:l).push(this.celltuple(t)),u[r]=null;return this._alen=this._mlen=0,this._prev=null,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(309),i=n(469),a=n(337),u=n(146);function o(e){return function(t,n,r){Object(u.b)(n,(function(n){r&&!r.intersects(n.bounds)||f(e,t,n,n)}))}}function s(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||f(e,t,n.items[0],n.items)}}function f(e,t,n,u){var o=null==n.opacity?1:n.opacity;0!==o&&(e(t,u)||(Object(r.a)(t,n),n.fill&&Object(i.a)(t,n,o)&&t.fill(),n.stroke&&Object(a.a)(t,n,o)&&t.stroke()))}},,function(e,t,n){"use strict";var r=n(735),i=n(1008),a=n(1397),u=n(1398),o=n(521),s=n(1412),f=n(1413),c=n(415),l=n(1414),d=n(1);t.a=function(e,t,n){var p=Object(d.i)(e.signals),m=Object(d.i)(e.scales);return n||p.forEach(e=>Object(o.a)(e,t)),Object(d.i)(e.projections).forEach(e=>Object(a.a)(e,t)),m.forEach(e=>Object(i.a)(e,t)),Object(d.i)(e.data).forEach(e=>Object(f.a)(e,t)),m.forEach(e=>Object(i.b)(e,t)),(n||p).forEach(e=>Object(r.a)(e,t)),Object(d.i)(e.axes).forEach(e=>Object(l.a)(e,t)),Object(d.i)(e.marks).forEach(e=>Object(c.a)(e,t)),Object(d.i)(e.legends).forEach(e=>Object(u.a)(e,t)),e.title&&Object(s.a)(e.title,t),t.parseLambdas(),t}},function(e,t,n){"use strict";var r=n(194),i=n(1);t.a=function(e,t,n,a){var u=Object(r.a)(e,t);return u.$fields.forEach((function(e){a[e]=1})),Object(i.o)(n,u.$params),u.$expr}},function(e,t,n){"use strict";var r=n(1407),i=n(1408),a=n(1409),u=n(785),o=n(1410),s=n(1411),f=n(784),c=n(116),l=n(68),d=n(70),p=n(533),m=n(786),b=n(413),g=n(327),h=n(32),y=n(1),v=n(63);t.a=function(e,t){var n,O,j,$,x,k,A,F,w,_,D,C,S,E,q=Object(f.a)(e),M=e.type===c.a,B=e.from&&e.from.facet,z=e.layout||q===l.p||q===l.g,T=q===l.o||z||B,P=e.overlap;j=Object(u.a)(e.from,M,t),O=t.add(Object(v.f)({key:j.key||(e.key?Object(h.i)(e.key):void 0),pulse:j.pulse,clean:!M})),_=Object(h.p)(O),O=$=t.add(Object(v.d)({pulse:_})),O=t.add(Object(v.n)({markdef:Object(i.a)(e),interactive:Object(a.a)(e.interactive,t),clip:Object(r.a)(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Object(h.p)(O)})),D=Object(h.p)(O),(O=x=t.add(Object(v.g)(Object(d.d)(e.encode,e.type,q,e.style,t,{mod:!1,pulse:D})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){const n=Object(p.a)(e,t),r=n.metadata;(r.generates||r.changes)&&Object(y.n)("Mark transforms should not generate new data."),r.nomod||(x.params.mod=!0),n.params.pulse=Object(h.p)(O),t.add(O=n)})),e.sort&&(O=t.add(Object(v.z)({sort:t.compareRef(e.sort),pulse:Object(h.p)(O)}))),C=Object(h.p)(O),(B||z)&&(z=t.add(Object(v.B)({layout:t.objectProperty(e.layout),legends:t.legends,mark:D,pulse:C})),S=Object(h.p)(z)),k=t.add(Object(v.c)({mark:D,pulse:S||C})),E=Object(h.p)(k),M&&(T&&((n=t.operators).pop(),z&&n.pop()),t.pushState(C,S||E,_),B?Object(o.a)(e,t,j):T?Object(s.a)(e,t,j):Object(b.a)(e,t),t.popState(),T&&(z&&n.push(z),n.push(k))),P&&(E=function(e,t,n){var r,i=e.method,a=e.bound,u=e.separation,o={separation:Object(h.l)(u)?n.signalRef(u.signal):u,method:Object(h.l)(i)?n.signalRef(i.signal):i,pulse:t};e.order&&(o.sort=n.compareRef({field:e.order}));a&&(r=a.tolerance,o.boundTolerance=Object(h.l)(r)?n.signalRef(r.signal):+r,o.boundScale=n.scaleRef(a.scale),o.boundOrient=a.orient);return Object(h.p)(n.add(Object(v.q)(o)))}(P,E,t)),A=t.add(Object(v.w)({pulse:E})),F=t.add(Object(v.y)({pulse:Object(h.p)(A)},void 0,t.parent())),null!=e.name&&(w=e.name,t.addData(w,new g.a(t,$,A,F)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(y.n)("Marks only support modify triggers."),Object(m.a)(e,t,w)})))}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return u}));var r=n(1611),i=n(742),a=(n(612),n(743));n.d(t,"b",(function(){return a.b}));n(744);const u=r.version;t.a=function(e,t){const n=new i.a(t);return e.tooltip(n.call).run(),n}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(280),i=(i=Object(r.a)(1,1))?i.getContext("2d"):null},,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var i=0,a=1,u=2,o=3,s=4;t.f=function(e,t){var n=e||i;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=a&&r(t||"error","ERROR",arguments),this},warn:function(){return n>=u&&r(t||"warn","WARN",arguments),this},info:function(){return n>=o&&r(t||"log","INFO",arguments),this},debug:function(){return n>=s&&r(t||"log","DEBUG",arguments),this}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(165),i=n(1);function a(e){return e&&e.constructor===u}function u(){var e=[],t=[],n=[],a=[],o=[],s=!1;return{constructor:u,insert:function(t){for(var n=Object(i.i)(t),r=0,a=n.length;r<a;++r)e.push(n[r]);return this},remove:function(e){for(var n=Object(i.D)(e)?a:t,r=Object(i.i)(e),u=0,o=r.length;u<o;++u)n.push(r[u]);return this},modify:function(e,t,r){var a={field:t,value:Object(i.l)(r)};return Object(i.D)(e)?(a.filter=e,o.push(a)):(a.tuple=e,n.push(a)),this},encode:function(e,t){return Object(i.D)(e)?o.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},reflow:function(){return s=!0,this},pulse:function(i,u){var f,c,l,d,p,m,b={},g={};for(f=0,c=u.length;f<c;++f)b[Object(r.g)(u[f])]=1;for(f=0,c=t.length;f<c;++f)p=t[f],b[Object(r.g)(p)]=-1;for(f=0,c=a.length;f<c;++f)d=a[f],u.forEach((function(e){d(e)&&(b[Object(r.g)(e)]=-1)}));for(f=0,c=e.length;f<c;++f)p=e[f],m=Object(r.g)(p),b[m]?b[m]=1:i.add.push(Object(r.b)(e[f]));for(f=0,c=u.length;f<c;++f)p=u[f],b[Object(r.g)(p)]<0&&i.rem.push(p);function h(e,t,n){n?e[t]=n(e):i.encode=t,s||(g[Object(r.g)(e)]=e)}for(f=0,c=n.length;f<c;++f)p=(l=n[f]).tuple,d=l.field,(m=b[Object(r.g)(p)])>0&&(h(p,d,l.value),i.modifies(d));for(f=0,c=o.length;f<c;++f)l=o[f],d=l.filter,u.forEach((function(e){d(e)&&b[Object(r.g)(e)]>0&&h(e,l.field,l.value)})),i.modifies(l.field);if(s)i.mod=t.length||a.length?u.filter((function(e){return b[Object(r.g)(e)]>0})):u.slice();else for(m in g)i.mod.push(g[m]);return i}}}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r="symbol",i="discrete",a="gradient"},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m}));var r=n(458),i=n(36),a=n(362),u=n(1),o=n(860);const s={[i.n]:"quantiles",[i.o]:"thresholds",[i.t]:"domain"},f={[i.n]:"quantiles",[i.o]:"domain"};function c(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=Object(u.U)(e),t}(e.bins):e.type===i.j?function(e,t){var n=Object(a.c)(e,t),r=e.base(),i=Math.log(r),u=Math.max(1,r*t/n.length);return n.filter(e=>{var t=e/Math.pow(r,Math.round(Math.log(e)/i));return t*r<r-.5&&(t*=r),t<=u})}(e,t):s[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[s[e.type]]()):Object(a.c)(e,t)}function l(e,t,n,u,c,l){const m=f[e.type]&&c!==i.u&&c!==i.v?function(e,t){var n,r=e[f[e.type]](),i=r.length,a=i>1?r[1]-r[0]:r[0];for(n=1;n<i;++n)a=Math.min(a,r[n]-r[n-1]);return Object(o.a)(0,a,30,t)}(e,u):Object(a.b)(e,t,u,c,l);return n===r.c&&function(e){return s[e.type]||e.bins}(e)?function(e){return(t,n,r)=>{var i=d(r[n+1],d(r.max,1/0)),a=p(t,e),u=p(i,e);return a&&u?a+" â€“ "+u:u?"< "+u:"â‰¥ "+a}}(m):n===r.a?function(e){return(t,n)=>n?e(t):null}(m):function(e){return t=>e(t)}(m)}function d(e,t){return null!=e?e:t}function p(e,t){return Number.isFinite(e)?t(e):null}function m(e){var t=e.domain(),n=t.length-1,r=+t[0],a=+Object(u.U)(t),o=a-r;if(e.type===i.t){const e=n?o/n:.1;o=(a+=e)-(r-=e)}return e=>(e-r)/o}},,function(e,t,n){"use strict";t.a=function(e){return e===Object(e)}},,function(e,t,n){"use strict";var r=n(975),i=["l",0,0,0,0,0,0,0];function a(e,t,n){var r=i[0]=e[0];if("a"===r||"A"===r)i[1]=t*e[1],i[2]=n*e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=t*e[6],i[7]=n*e[7];else if("h"===r||"H"===r)i[1]=t*e[1];else if("v"===r||"V"===r)i[1]=n*e[1];else for(var a=1,u=e.length;a<u;++a)i[a]=(a%2==1?t:n)*e[a];return i}function u(e,t,n,i){for(var a=Object(r.b)(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,n),u=0;u<a.length;++u){var o=Object(r.a)(a[u]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}t.a=function(e,t,n,r,i,o){var s,f,c,l,d,p=null,m=0,b=0,g=0,h=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),e.beginPath&&e.beginPath();for(var y=0,v=t.length;y<v;++y){switch(s=t[y],1===i&&1===o||(s=a(s,i,o)),s[0]){case"l":m+=s[1],b+=s[2],e.lineTo(m+n,b+r);break;case"L":m=s[1],b=s[2],e.lineTo(m+n,b+r);break;case"h":m+=s[1],e.lineTo(m+n,b+r);break;case"H":m=s[1],e.lineTo(m+n,b+r);break;case"v":b+=s[1],e.lineTo(m+n,b+r);break;case"V":b=s[1],e.lineTo(m+n,b+r);break;case"m":m+=s[1],b+=s[2],e.moveTo(m+n,b+r);break;case"M":m=s[1],b=s[2],e.moveTo(m+n,b+r);break;case"c":f=m+s[5],c=b+s[6],g=m+s[3],h=b+s[4],e.bezierCurveTo(m+s[1]+n,b+s[2]+r,g+n,h+r,f+n,c+r),m=f,b=c;break;case"C":m=s[5],b=s[6],g=s[3],h=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,g+n,h+r,m+n,b+r);break;case"s":f=m+s[3],c=b+s[4],g=2*m-g,h=2*b-h,e.bezierCurveTo(g+n,h+r,m+s[1]+n,b+s[2]+r,f+n,c+r),g=m+s[1],h=b+s[2],m=f,b=c;break;case"S":f=s[3],c=s[4],g=2*m-g,h=2*b-h,e.bezierCurveTo(g+n,h+r,s[1]+n,s[2]+r,f+n,c+r),m=f,b=c,g=s[1],h=s[2];break;case"q":f=m+s[3],c=b+s[4],g=m+s[1],h=b+s[2],e.quadraticCurveTo(g+n,h+r,f+n,c+r),m=f,b=c;break;case"Q":f=s[3],c=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,f+n,c+r),m=f,b=c,g=s[1],h=s[2];break;case"t":f=m+s[1],c=b+s[2],null===p[0].match(/[QqTt]/)?(g=m,h=b):"t"===p[0]?(g=2*m-l,h=2*b-d):"q"===p[0]&&(g=2*m-g,h=2*b-h),l=g,d=h,e.quadraticCurveTo(g+n,h+r,f+n,c+r),b=c,g=(m=f)+s[1],h=b+s[2];break;case"T":f=s[1],c=s[2],g=2*m-g,h=2*b-h,e.quadraticCurveTo(g+n,h+r,f+n,c+r),m=f,b=c;break;case"a":u(e,m+n,b+r,[s[1],s[2],s[3],s[4],s[5],s[6]+m+n,s[7]+b+r]),m+=s[6],b+=s[7];break;case"A":u(e,m+n,b+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),m=s[6],b=s[7];break;case"z":case"Z":e.closePath()}p=s}}},,,,function(e,t,n){"use strict";t.a=function(e,t){for(var n="";--t>=0;)n+=e;return n}},,function(e,t,n){"use strict";var r=n(763);t.a=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=Object(r.a)(e,t,t.fill),!0)}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n(265),i=n(693),a=n(527),u=n(324),o=n(1);async function s(e,t,n){const i=this,s=i.logLevel(),f=[];if(i._pulse)return d(i);if(i._pending&&await i._pending,t&&await Object(a.a)(i,t),!i._touched.length)return i.info("Dataflow invoked, but nothing to do."),i;let c,l,p,m,b=++i._clock,g=0;i._pulse=new r.b(i,b,e),s>=o.c&&(p=Date.now(),i.debug("-- START PROPAGATION ("+b+") -----")),i._touched.forEach(e=>i._enqueue(e,!0)),i._touched=Object(u.a)(o.w);try{for(;i._heap.size()>0;)c=i._heap.pop(),c.rank===c.qrank?(l=c.run(i._getPulse(c,e)),l.then?l=await l:l.async&&(f.push(l.async),l=r.a),s>=o.a&&i.debug(c.id,l===r.a?"STOP":l,c),l!==r.a&&c._targets&&c._targets.forEach(e=>i._enqueue(e)),++g):i._enqueue(c,!0)}catch(e){i._heap.clear(),m=e}if(i._input={},i._pulse=null,s>=o.c&&(p=Date.now()-p,i.info("> Pulse "+b+": "+g+" operators; "+p+"ms")),m&&(i._postrun=[],i.error(m)),i._postrun.length){const e=i._postrun.sort((e,t)=>t.priority-e.priority);i._postrun=[];for(let t=0;t<e.length;++t)await Object(a.a)(i,e[t].callback)}return n&&await Object(a.a)(i,n),f.length&&Promise.all(f).then(e=>i.runAsync(null,()=>{e.forEach(e=>{try{e(i)}catch(e){i.error(e)}})})),i}async function f(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function c(e,t,n){return this._pulse?d(this):(this.evaluate(e,t,n),this)}function l(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}}function d(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function p(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function m(e,t){var n=e.source,a=this._clock;return n&&Object(o.A)(n)?new i.a(this,a,n.map(e=>e.pulse),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==r.a&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return f}));var r=n(14),i=n(1);function a(e,t){var n=e._runtime.data;return Object(i.v)(n,t)||Object(i.n)("Unrecognized data set: "+t),n[t]}function u(e,t){return arguments.length<2?a(this,e).values.value:o.call(this,e,Object(r.i)().remove(i.gb).insert(t))}function o(e,t){Object(r.m)(t)||Object(i.n)("Second argument to changes must be a changeset.");var n=a(this,e);return n.modified=!0,this.pulse(n.input,t)}function s(e,t){return o.call(this,e,Object(r.i)().insert(t))}function f(e,t){return o.call(this,e,Object(r.i)().remove(t))}},,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s}));var r=n(275),i=n(617);function a(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+Object(r.e)()*t)}function u(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*i.b*e)}function o(e,t,n){return Object(r.a)(Math.log(e),t,n)}function s(e,t,n){return Math.exp(Object(r.d)(e,t,n))}t.b=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>a(n,r),pdf:e=>u(e,n,r),cdf:e=>o(e,n,r),icdf:e=>s(e,n,r)};return i.mean(e).stdev(t)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return o}));var r=n(214);function i(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*Object(r.a)()}function a(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function u(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function o(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}t.b=function(e,t){var n,r,s={min:function(e){return arguments.length?(n=e||0,s):n},max:function(e){return arguments.length?(r=null==e?1:e,s):r},sample:()=>i(n,r),pdf:e=>a(e,n,r),cdf:e=>u(e,n,r),icdf:e=>o(e,n,r)};return null==t&&(t=null==e?1:e,e=0),s.min(e).max(t)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f}));var r=n(857),i=n(757),a=n(1293),u=n(1);const o={dsv:r.a,csv:Object(r.b)(","),tsv:Object(r.b)("\t"),json:i.a,topojson:a.a};function s(e,t){return arguments.length>1?(o[e]=t,this):Object(u.v)(o,e)?o[e]:null}function f(e){const t=s(e);return t&&t.responseType||"text"}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(702),i=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function a(e,t){return JSON.stringify(e,i,t)}function u(e){return function e(t){var n,i,a,u=t.marktype,o=t.items;if(o)for(i=0,a=o.length;i<a;++i)n=u?"mark":"group",o[i][n]=t,o[i].zindex&&(o[i][n].zdirty=!0),"group"===(u||n)&&e(o[i]);u&&Object(r.a)(t);return t}("string"==typeof e?JSON.parse(e):e)}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(141);function i(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function a(e){const t=Object(r.g)(e);return.2126*i(t.r)+.7152*i(t.g)+.0722*i(t.b)}function u(e,t){const n=a(e),r=a(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}},function(e,t,n){"use strict";function r(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function i(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(164),i=n(76);function a(e,t,n){const i=Object(r.e)(e,(n||this).context);return function(e){return i?i.path.context(e)(t):""}}function u(e){let t=null;return function(n){return n?Object(i.O)(n,t=t||Object(i.M)(e)):e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(326);const i={};function a(e){return e.data}function u(e,t){const n=r.a.call(t,e);return n.root&&n.root.lookup||i}function o(e,t,n){const r=u(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(a):void 0}function s(e,t){const n=u(e,this)[t];return n?n.ancestors().map(a):void 0}},function(e,t,n){"use strict";var r=n(734);n.d(t,"b",(function(){return r.a}));var i=n(1221);n.d(t,"a",(function(){return i.a}));n(281)},function(e,t,n){"use strict";var r=n(1),i=["value","update","init","react","bind"];function a(e,t){Object(r.n)(e+' for "outer" push: '+Object(r.Z)(t))}t.a=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||a("No prior signal definition",n),i.forEach((function(t){void 0!==e[t]&&a("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}},,,,,function(e,t,n){"use strict";t.a=function(e){throw Error(e)}},function(e,t,n){"use strict";t.a=async function(e,t){try{await t(e)}catch(t){e.error(t)}}},function(e,t,n){"use strict";var r=n(243),i=n(325),a=n(153),u=n(411),o=n(204),s=n(225),f=n(94);t.a=function(e,t,n){function c(e,n){var r=n.x||0,i=n.y||0,a=n.angle||0;e.translate(r,i),a&&e.rotate(a*=f.a),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",Object(s.b)(n)),e("d",t(null,n))},bound:function(e,n){var a=n.x||0,u=n.y||0;return t(Object(i.a)(e),n),Object(r.a)(e,n).translate(a,u),n.angle&&e.rotate(n.angle*f.a,a,u),e},draw:Object(u.a)(c),pick:Object(o.c)(c),isect:n||Object(a.b)(c)}}},function(e,t,n){"use strict";function r(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",u=e.length,o=1/0;--u>=0;)!1!==e[u].defined&&(r=Math.abs(e[u][a]-i))<o&&(o=r,n=e[u]);return n}function i(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<i)return e[a];return null}function a(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))},function(e,t,n){"use strict";var r=n(243),i=n(325),a=n(153),u=n(411),o=n(204);t.a=function(e,t,n){function s(e,n){e.beginPath(),t(e,n)}var f=Object(o.a)(s);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var a=n.items;return 0===a.length?e:(t(Object(i.a)(e),a),Object(r.a)(e,a[0]))},draw:Object(u.b)(s),pick:function(e,t,n,r,i,a){var u=t.items,o=t.bounds;return!u||!u.length||o&&!o.contains(i,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,f(e,u,n,r)?u[0]:null)},isect:a.c,tip:n}}},,function(e,t,n){"use strict";var r=n(779),i=n(76),a=n(1);t.a=async function(e,t,n,u){const o=Object(i.S)(t),s=o&&o.headless;return s||Object(a.n)("Unrecognized renderer type: "+t),await e.runAsync(),Object(r.a)(e,null,null,s,n,u).renderAsync(e._scenegraph.root)}},function(e,t,n){"use strict";var r=n(194),i=n(32),a=n(63),u=n(14),o=n(1);function s(e,t,n){var r,i,a,u={};for(i=0,a=e.params.length;i<a;++i)u[(r=e.params[i]).name]=f(r,t,n);return u}function f(e,t,n){var r=e.type,a=t[e.name];return"index"===r?function(e,t,n){Object(o.H)(t.from)||Object(o.n)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==a?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(Object(o.A)(r)||Object(o.n)("Expected an array of sub-parameters. Instead: "+Object(o.Z)(r)),r.map((function(t){return l(e,t,n)}))):l(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!Object(i.l)(a)?a.map((function(t){return c(e,t,n)})):c(e,a,n):void(e.required&&Object(o.n)("Missing required "+Object(o.Z)(t.type)+" parameter: "+Object(o.Z)(e.name)))}function c(e,t,n){var a=e.type;if(Object(i.l)(t))return d(a)?Object(o.n)("Expression references can not be signals."):p(a)?n.fieldRef(t):m(a)?n.compareRef(t):n.signalRef(t.signal);var u,s=e.expr||p(a);return s&&((u=t)&&u.expr)?n.exprRef(t.expr,t.as):s&&function(e){return e&&e.field}(t)?Object(i.i)(t.field,t.as):d(a)?Object(r.a)(t,n):function(e){return"data"===e}(a)?Object(i.p)(n.getData(t).values):p(a)?Object(i.i)(t):m(a)?n.compareRef(t):t}function l(e,t,n){var r,u,f,c,l;for(c=0,l=e.params.length;c<l;++c){for(f in(u=e.params[c]).key)if(u.key[f]!==t[f]){u=null;break}if(u)break}return u||Object(o.n)("Unsupported parameter: "+Object(o.Z)(t)),r=Object(o.o)(s(u,t,n),u.key),Object(i.p)(n.add(Object(a.r)(r)))}function d(e){return"expr"===e}function p(e){return"field"===e}function m(e){return"compare"===e}t.a=function(e,t){var n=Object(u.j)(e.type);n||Object(o.n)("Unrecognized transform type: "+Object(o.Z)(e.type));var r=Object(i.h)(n.type.toLowerCase(),null,s(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return c}));var r=n(47),i=n(1);const a=(e,t,n)=>({role:e,"aria-roledescription":t,"aria-label":n||void 0}),u=Object(i.db)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),o={axis:{desc:"axis",caption:function(e){const t=e.datum,n=t.orient,i=t.title?d(e):null,a=e.context.scales[t.scale].value,u=a.type;return("left"===n||"right"===n?"Y":"X")+"-axis"+(i?` titled '${i}'`:"")+` for a ${Object(r.y)(u)?"discrete":u} scale with `+Object(r.t)(a,e)}},legend:{desc:"legend",caption:function(e){const t=e.datum,n=t.title?d(e):null,a=((t.type||"")+" legend").trim(),u=t.scales,o=Object.keys(u),s=e.context.scales[u[o[0]]].value;return f=a,(f.length?f[0].toUpperCase()+f.slice(1):f)+(n?` titled '${n}'`:"")+` for ${function(e){return(e=e.map(e=>e+("fill"===e||"stroke"===e?" color":""))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(i.U)(e)}(o)} with ${Object(r.t)(s,e)}`;var f}},"title-text":{desc:"title",caption:e=>`Title text '${l(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${l(e)}'`}},s={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"};function f(e,t){const n=!1===t.aria;if(e("aria-hidden",n||void 0),n||null==t.description)for(const t in s)e(s[t],void 0);else{const n=t.mark.marktype;e("aria-label",t.description),e("role",t.ariaRole||("group"===n?"graphics-object":"graphics-symbol")),e("aria-roledescription",t.ariaRoleDescription||n+" mark")}}function c(e){return!1===e.aria?{"aria-hidden":!0}:u[e.role]?null:o[e.role]?function(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return a(t.role||"graphics-symbol",t.desc,n.description||r(n))}catch(e){return null}}(e,o[e.role]):function(e){const t=e.marktype,n="group"===t||"text"===t||e.items.some(e=>null!=e.description&&!1!==e.aria);return a(n?"graphics-object":"graphics-symbol",t+" mark container",e.description)}(e)}function l(e){return Object(i.i)(e.text).join(" ")}function d(e){try{return Object(i.i)(Object(i.U)(e.items).items[0].text).join(" ")}catch(e){return null}}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"}},,,,,,function(e,t,n){"use strict";var r=n(342),i=n(1);t.a=function(e,t,n,a){return Object(i.F)(e)?"("+Object(r.a)(null,e,t,n,a)+")":e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return q})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return B}));var r=n(207),i=n(14),a=n(653),u=n(72),o=n(122),s=n(1),f=n(395),c=n(141),l=n(585),d=n(516),p=n(326),m=n(729),b=n(174),g=n(404),h=n(730),y=n(1387),v=n(405),O=n(731),j=n(732),$=n(517),x=n(164),k=n(733),A=n(518),F=n(519),w=n(406),_=n(183),D=n(304);const C={random:function(){return Object(u.p)()},cumulativeNormal:u.e,cumulativeLogNormal:u.d,cumulativeUniform:u.f,densityNormal:u.h,densityLogNormal:u.g,densityUniform:u.i,quantileNormal:u.l,quantileLogNormal:u.k,quantileUniform:u.m,sampleNormal:u.G,sampleLogNormal:u.F,sampleUniform:u.H,isArray:s.A,isBoolean:s.B,isDate:s.C,isDefined:function(e){return void 0!==e},isNumber:s.E,isObject:s.F,isRegExp:s.G,isString:s.H,isTuple:i.n,isValid:function(e){return null!=e&&e==e},toBoolean:s.ab,toDate:s.bb,toNumber:s.cb,toString:s.eb,flush:s.u,lerp:s.J,merge:O.a,pad:s.P,peek:s.U,span:s.X,inrange:s.z,truncate:s.fb,rgb:c.g,lab:l.a,hcl:l.b,hsl:c.f,luminance:d.b,contrast:d.a,sequence:f.a,format:b.c,utcFormat:b.h,utcParse:b.i,utcOffset:o.n,utcSequence:o.o,timeFormat:b.f,timeParse:b.g,timeOffset:o.g,timeSequence:o.h,timeUnitSpecifier:o.i,monthFormat:b.e,monthAbbrevFormat:b.d,dayFormat:b.b,dayAbbrevFormat:b.a,quarter:s.V,utcquarter:s.hb,week:o.r,utcweek:o.q,dayofyear:o.b,utcdayofyear:o.p,warn:v.c,info:v.b,debug:v.a,extent:s.p,inScope:h.a,intersect:y.a,clampRange:s.j,pinchDistance:$.b,pinchAngle:$.a,screen:w.b,containerSize:w.a,windowSize:w.c,bandspace:x.a,setdata:p.c,pathShape:A.b,panLinear:s.Q,panLog:s.R,panPow:s.S,panSymlog:s.T,zoomLinear:s.lb,zoomLog:s.mb,zoomPow:s.nb,zoomSymlog:s.ob,encode:m.a,modify:j.a},S=["view","item","group","xy","x","y"],E={};function q(e,t,n){return 1===arguments.length?C[e]:(C[e]=t,n&&(E[e]=n),B&&(B.functions[e]="this."+e),this)}q("bandwidth",x.b,_.c),q("copy",x.c,_.c),q("domain",x.d,_.c),q("range",x.g,_.c),q("invert",x.f,_.c),q("scale",x.h,_.c),q("gradient",k.a,_.c),q("geoArea",g.a,_.c),q("geoBounds",g.b,_.c),q("geoCentroid",g.c,_.c),q("geoShape",A.a,_.c),q("indata",p.b,_.b),q("data",p.a,_.a),q("treePath",F.b,_.a),q("treeAncestors",F.a,_.a),q("vlSelectionTest",a.b,a.c),q("vlSelectionResolve",a.a,a.c);const M={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+Object(s.Z)(D.d+e)+"]"},functions:function(e){const t=Object(r.f)(e);S.forEach(e=>t[e]="event.vega."+e);for(let e in C)t[e]="this."+e;return t},constants:r.e,visitors:E};var B=Object(r.d)(M)},,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?null:+e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i="_:mod:_";function a(){Object.defineProperty(this,i,{writable:!0,value:{}})}var u=a.prototype;u.set=function(e,t,n,a){var u=this,o=u[e],s=u[i];return null!=t&&t>=0?(o[t]!==n||a)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||a)&&(u[e]=n,s[e]=Object(r.A)(n)?1+n.length:-1),u},u.modified=function(e,t){var n,a=this[i];if(!arguments.length){for(n in a)if(a[n])return!0;return!1}if(Object(r.A)(e)){for(n=0;n<e.length;++n)if(a[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<a[e]||!!a[t+":"+e]:!!a[e]},u.clear=function(){return this[i]={},this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(699),i=n(14),a=n(1);function u(e){i.g.call(this,{},e),this._keys=Object(a.s)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}var o=Object(a.y)(u,i.g);o.activate=function(e){this._targets[this._targets.active++]=e},o.subflow=function(e,t,n,i){var u,o,s=this.value,f=Object(a.v)(s,e)&&s[e];return f?f.value.stamp<n.stamp&&(f.init(n),this.activate(f)):(o=i||(o=this._group[e])&&o.tuple,f=(u=n.dataflow).add(new r.a(n.fork(n.NO_SOURCE),this)).connect(t(u,e,o)),s[e]=f,this.activate(f)),f},o.transform=function(e,t){var n=t.dataflow,r=this,a=e.key,u=e.subflow,o=this._keys,s=e.modified("key");function f(e){return r.subflow(e,u,t)}return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,(function(e){var t=Object(i.t)(e),n=o.get(t);void 0!==n&&(o.delete(t),f(n).rem(e))})),t.visit(t.ADD,(function(e){var t=a(e);o.set(Object(i.t)(e),t),f(t).add(e)})),s||t.modified(a.fields)?t.visit(t.MOD,(function(e){var t=Object(i.t)(e),n=o.get(t),r=a(e);n===r?f(r).mod(e):(o.set(t,r),f(n).rem(e),f(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){f(o.get(Object(i.t)(e))).mod(e)})),s&&t.visit(t.REFLOW,(function(e){var t=Object(i.t)(e),n=o.get(t),r=a(e);n!==r&&(o.set(t,r),f(n).rem(e),f(r).add(e))})),o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(170);function i(e){this.mark=e,this.bounds=this.bounds||new r.a}},function(e,t,n){"use strict";var r=n(170),i=n(175);t.a=function(e,t,n){var a=i.a[e.mark.marktype],u=t||a.bound;return a.nested&&(e=e.mark),u(e.bounds||(e.bounds=new r.a),e,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(1),i=n(428),a=n(1989),u=n(1990),o=n(1991),s=n(468),f=n(973),c=n(974),l=n(619),d=n(1992),p=n(1993),m=n(620),b=n(1994),g=n(1693),h=n(1995),y=n(1056),v={basis:{curve:i.b},"basis-closed":{curve:a.a},"basis-open":{curve:u.a},bundle:{curve:o.a,tension:"beta",value:.85},cardinal:{curve:s.b,tension:"tension",value:0},"cardinal-open":{curve:f.b,tension:"tension",value:0},"cardinal-closed":{curve:c.b,tension:"tension",value:0},"catmull-rom":{curve:l.a,tension:"alpha",value:.5},"catmull-rom-closed":{curve:d.a,tension:"alpha",value:.5},"catmull-rom-open":{curve:p.a,tension:"alpha",value:.5},linear:{curve:m.a},"linear-closed":{curve:b.a},monotone:{horizontal:g.b,vertical:g.a},natural:{curve:h.a},step:{curve:y.a},"step-after":{curve:y.b},"step-before":{curve:y.c}};function O(e,t,n){var i=Object(r.v)(v,e)&&v[e],a=null;return i&&(a=i.curve||i[t||"vertical"],i.tension&&null!=n&&(a=a[i.tension](n))),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(251),i=n(170),a=n(175),u=n(88),o=n(764),s=n(1324),f=n(280),c=n(1);function l(e){r.a.call(this,e),this._redraw=!1,this._dirty=new i.a}var d=Object(c.y)(l,r.a),p=r.a.prototype,m=new i.a;function b(e,t,n){return m.set(0,0,t,n).translate(-e[0],-e[1])}d.initialize=function(e,t,n,r,i,a){return this._options=a,this._canvas=Object(f.a)(1,1,a&&a.type),e&&(Object(u.c)(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),p.initialize.call(this,e,t,n,r,i)},d.resize=function(e,t,n,r){return p.resize.call(this,e,t,n,r),Object(s.a)(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},d.canvas=function(){return this._canvas},d.context=function(){return this._canvas?this._canvas.getContext("2d"):null},d.dirty=function(e){var t=function(e,t){if(null==t)return e;for(var n=m.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}(e.bounds,e.mark.group);this._dirty.union(t)},d._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty;return t.save(),this._redraw||a.empty()?(this._redraw=!1,a=b(n,r,i).expand(1)):a=function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,a.intersect(b(n,r,i)),n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,a),t.restore(),this._dirty.clear(),this},d.draw=function(e,t,n){var r=a.a[t.marktype];t.clip&&Object(o.b)(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},d.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(1612);const i="vg-tooltip-element",a={offsetX:10,offsetY:10,id:i,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function u(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return r.a.toString().replace(i,e)}},,,,function(e,t,n){"use strict";function r(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=Math.sqrt(2*Math.PI),i=Math.SQRT2},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(1);function i(e,t,n,i){let u=a[e](t,n);return{init:u.init||r.kb,update:function(e,t){t[i]=u.next(e)}}}const a={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){let e=a.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{let n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Object(r.n)("ntile num must be greater than zero.");let n=a.cume_dist(),i=n.next;return{init:n.init,next:e=>Math.ceil(t*i(e))}},lag:function(e,t){return t=+t||1,{next:n=>{let r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{let r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Object(r.n)("nth_value nth must be greater than zero."),{next:n=>{let r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{let r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{let i=r.data;return r.index<=n?t:(n=function(e,t,n){for(let r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var u=Object.keys(a)},,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e}},,function(e,t,n){"use strict";t.a=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null}},function(e,t,n){"use strict";function r(e){return(e+"").toLowerCase()}function i(e){return"operator"===r(e)}function a(e){return"collect"===r(e)}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}))},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(307),i=n(1);const a=r.f;function u(e,t,n){return this.pulse(e,this.changeset().insert(a(t,n)))}async function o(e,t){const n=this;let i,u=0;try{i=await n.loader().load(e,{context:"dataflow",response:Object(r.g)(t&&t.type)});try{i=a(i,t)}catch(t){u=-2,n.warn("Data ingestion failed",e,t)}}catch(t){u=-1,n.warn("Loading failed",e,t)}return{data:i,status:u}}async function s(e,t,n){const r=this,a=r._pending||function(e){var t,n=new Promise((function(e){t=e}));return n.requests=0,n.done=function(){0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(r);a.requests+=1;const u=await r.request(t,n);return r.pulse(e,r.changeset().remove(i.gb).insert(u.data||[])),a.done(),u}},,,,function(e,t,n){"use strict";var r=n(1218);n.d(t,"b",(function(){return r.a}));var i=n(1219);n.d(t,"a",(function(){return i.a}));var a=n(1220);n.d(t,"c",(function(){return a.a}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o}));var r={skip:!0};function i(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.left+r.right:0)}function a(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.top+r.bottom:0)}function u(e){var t=e._signals,n=t.width,r=t.height,u=t.padding;function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=i(e,t.size),o()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=a(e,t.size),o()}),{size:r});var s=e.add(null,o,{pad:u});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=u.rank+1}function o(e,t,n,i,a,u){this.runAfter((function(o){var s=0;o._autosize=0,o.width()!==n&&(s=1,o.signal("width",n,r),o._resizeWidth.skip(!0)),o.height()!==i&&(s=1,o.signal("height",i,r),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===a[0]&&o._origin[1]===a[1]||(o._resize=1,o._origin=a),s&&o.run("enter"),u&&o.runAfter(e=>e.resize())}),!1,1)}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(1),i={};function a(e){var t=u(e);return t&&t.Definition||null}function u(e){return e=e&&e.toLowerCase(),Object(r.v)(i,e)?i[e]:null}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return c}));var r=n(33),i=n(323),a=n(391),u=n(1);const o={[r.l]:"%Y ",[r.h]:"Q%q ",[r.g]:"%b ",[r.a]:"%d ",[r.k]:"W%U ",[r.b]:"%a ",[r.c]:"%j ",[r.d]:"%H:00",[r.f]:"00:%M",[r.i]:":%S",[r.e]:".%L",[`${r.l}-${r.g}`]:"%Y-%m ",[`${r.l}-${r.g}-${r.a}`]:"%Y-%m-%d ",[`${r.d}-${r.f}`]:"%H:%M"};function s(e,t){const n=Object(u.o)({},o,t),i=Object(r.m)(e),a=i.length;let s,f,c="",l=0;for(l=0;l<a;)for(s=i.length;s>l;--s)if(f=i.slice(l,s).join("-"),null!=n[f]){c+=n[f],l=s;break}return c.trim()}function f(e){return l(a.b,i.a,e)}function c(e){return l(a.d,i.d,e)}function l(e,t,n){return Object(u.H)(n)?e(n):function(e,t,n){n=n||{},Object(u.F)(n)||Object(u.n)("Invalid time multi-format specifier: "+n);const i=t(r.i),a=t(r.f),o=t(r.d),s=t(r.a),f=t(r.k),c=t(r.g),l=t(r.h),d=t(r.l),p=e(n[r.e]||".%L"),m=e(n[r.i]||":%S"),b=e(n[r.f]||"%I:%M"),g=e(n[r.d]||"%I %p"),h=e(n[r.a]||n[r.b]||"%a %d"),y=e(n[r.k]||"%b %d"),v=e(n[r.g]||"%B"),O=e(n[r.h]||"%B"),j=e(n[r.l]||"%Y");return function(e){return(i(e)<e?p:a(e)<e?m:o(e)<e?b:s(e)<e?g:c(e)<e?f(e)<e?h:y:d(e)<e?l(e)<e?v:O:j)(e)}}(e,t,n)}},function(e,t,n){"use strict";function r(e,t){if("undefined"!=typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}function i(){return"undefined"!=typeof Image?Image:null}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return $})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return A}));var r=n(1697),i=n(991),a=n(2006),u=n(881),o=n(586),s=n(2007),f=n(560),c=n(2008),l=n(2009),d=n(861),p=n(670),m=n(2010),b=n(626),g=n(962),h=n(1698),y=n(2011),v=n(2012),O=n(176),j=Object(r.a)(),$=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function x(e,t){return function n(){var i=t();return i.type=e,i.path=Object(r.a)().projection(i),i.copy=i.copy||function(){var e=n();return $.forEach((function(t){i[t]&&e[t](i[t]())})),e.path.pointRadius(i.path.pointRadius()),e},i}}function k(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(F[e]=x(e,t),this):F[e]||null}function A(e){return e&&e.path||j}var F={albers:i.a,albersusa:a.a,azimuthalequalarea:u.b,azimuthalequidistant:o.b,conicconformal:s.a,conicequalarea:f.a,conicequidistant:c.a,equalEarth:l.a,equirectangular:d.a,gnomonic:p.a,identity:m.a,mercator:b.a,mollweide:O.a,naturalEarth1:g.a,orthographic:h.a,stereographic:y.a,transversemercator:v.a};for(var w in F)k(w,F[w])},,,,,,,,function(e,t,n){"use strict";var r=n(202),i=n(400),a=n(364);t.a=function(e,t){var n=Object(i.a)(e),u="return _["+n.map(a.a).join("][")+"];";return Object(r.c)(Function("_",u),[e=1===n.length?n[0]:e],t||e)}},function(e,t,n){"use strict";t.a=function(e){return"string"==typeof e}},function(e,t,n){"use strict";t.a=function(e){return"[object Date]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";t.a=function(e){return"number"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n(324),i=n(1),a=0;function u(e,t,n){this.id=++a,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function o(e,t,n){return new u(e,t,n)}var s=u.prototype;s._filter=i.gb,s._apply=i.x,s.targets=function(){return this._targets||(this._targets=Object(r.a)(i.w))},s.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},s.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},s.filter=function(e){var t=o(e);return this.targets().add(t),t},s.apply=function(e){var t=o(null,e);return this.targets().add(t),t},s.merge=function(){var e=o();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},s.throttle=function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},s.debounce=function(e){var t=o();return this.targets().add(o(null,null,Object(i.m)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},s.between=function(e,t){var n=!1;return e.targets().add(o(null,null,(function(){n=!0}))),t.targets().add(o(null,null,(function(){n=!1}))),this.filter((function(){return n}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(265),i=n(1);function a(e,t,n,r){var i,a,u,o,s,f=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,u=0,o=n.length;u<o;++u)if((i=n[u]).stamp===t){if(i.fields)for(s in a=f.fields||(f.fields={}),i.fields)a[s]=1;i.changed(f.ADD)&&(c|=f.ADD),i.changed(f.REM)&&(c|=f.REM),i.changed(f.MOD)&&(c|=f.MOD)}this.changes=c}var u=Object(i.y)(a,r.b);u.fork=function(e){var t=new r.b(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},u.changed=function(e){return this.changes&e},u.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(i.A)(e)?e.some((function(e){return n[e]})):n[e]:0},u.filter=function(){Object(i.n)("MultiPulse does not support filtering.")},u.materialize=function(){Object(i.n)("MultiPulse does not support materialization.")},u.visit=function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}},function(e,t,n){"use strict";var r=n(695),i=n(1987);t.a=function(e,t){var n=e.length,a=Object(i.a)(e,t),u=Object(r.a)(e,t),o=(u[2]-u[0])/1.34;return 1.06*(a=Math.min(a,o)||a||Math.abs(u[0])||1)*Math.pow(n,-.2)}},function(e,t,n){"use strict";var r=n(696);t.a=function(e,t){return Object(r.a)(e,[.25,.5,.75],t)}},function(e,t,n){"use strict";var r=n(761),i=n(374),a=n(576);t.a=function(e,t,n){var u=Float64Array.from(Object(r.a)(e,n));return u.sort(i.a),t.map(e=>Object(a.b)(u,e))}},function(e,t,n){"use strict";var r=n(329),i=n(203),a=n(279);t.a=function(e,t,n){let u=0,o=0,s=0,f=0,c=0;Object(i.b)(e,t,n,(e,t)=>{++c,u+=(e-u)/c,o+=(t-o)/c,s+=(e*t-s)/c,f+=(e*e-f)/c});const l=Object(r.a)(u,o,s,f),d=e=>l[0]+l[1]*e;return{coef:l,predict:d,rSquared:Object(a.a)(e,t,n,o,d)}}},function(e,t,n){"use strict";var r=n(203),i=n(279);t.a=function(e,t,n){const[a,u,o,s]=Object(r.a)(e,t,n),f=a.length;let c,l,d,p,m=0,b=0,g=0,h=0,y=0;for(c=0;c<f;)l=a[c],d=u[c++],p=l*l,m+=(p-m)/c,b+=(p*l-b)/c,g+=(p*p-g)/c,h+=(l*d-h)/c,y+=(p*d-y)/c;const v=g-m*m,O=m*v-b*b,j=(y*m-h*b)/O,$=(h*v-y*b)/O,x=-j*m,k=e=>j*(e-=o)*e+$*e+x+s;return{coef:[x-$*o+j*o*o+s,$-2*j*o,j],predict:k,rSquared:Object(i.a)(e,t,n,s,k)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e,t){r.d.call(this,e),this.parent=t}var u=Object(i.y)(a,r.d);u.connect=function(e){return this.targets().add(e),e.source=this},u.add=function(e){this.value.add.push(e)},u.rem=function(e){this.value.rem.push(e)},u.mod=function(e){this.value.mod.push(e)},u.init=function(e){this.value.init(e,e.NO_SOURCE)},u.evaluate=function(){return this.value}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(606),i=n(1);function a(e){r.a.call(this,e),this.items=this.items||[]}Object(i.y)(a,r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(280),i=n(307),a=n(1);function u(e){this._pending=0,this._loader=e||Object(i.e)()}var o=u.prototype;function s(e){e._pending+=1}function f(e){e._pending-=1}o.pending=function(){return this._pending},o.sanitizeURL=function(e){var t=this;return s(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return f(t),e})).catch((function(){return f(t),null}))},o.loadImage=function(e){const t=this,n=Object(r.b)();return s(t),t._loader.sanitize(e,{context:"image"}).then((function(e){const r=e.href;if(!r||!n)throw{url:r};const i=new n,u=Object(a.v)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=u&&(i.crossOrigin=u),i.onload=()=>f(t),i.onerror=()=>f(t),i.src=r,i})).catch((function(e){return f(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},o.ready=function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))}},function(e,t,n){"use strict";var r=n(170),i=n(607),a=n(175),u={mark:null};t.a=function(e,t,n){var o,s,f,c,l=a.a[e.marktype],d=l.bound,p=e.items,m=p&&p.length;if(l.nested)return m?f=p[0]:(u.mark=e,f=u),c=Object(i.a)(f,d,n),t=t&&t.union(c)||c;if(t=t||e.bounds&&e.bounds.clear()||new r.a,m)for(o=0,s=p.length;o<s;++o)t.union(Object(i.a)(p[o],d,n));return e.bounds=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(365),i=n(463),a=n(94),u=n(1),o=.5773502691896257,s={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,a.e)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n,i=r-n*o,u=n/4;e.moveTo(0,-r-i),e.lineTo(-u,r-i),e.lineTo(u,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n,i=r-n*o;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function f(e){return Object(u.v)(s,e)?s[e]:function(e){if(!Object(u.v)(c,e)){var t=Object(r.a)(e);c[e]={draw:function(e,n){Object(i.a)(e,t,0,0,Math.sqrt(n)/2)}}}return c[e]}(e)}var c={}},function(e,t,n){"use strict";var r=n(584);const i=.448084975506;function a(e){return e.x}function u(e){return e.y}function o(e){return e.width}function s(e){return e.height}function f(e){return"function"==typeof e?e:()=>+e}function c(e,t,n){return Math.max(t,Math.min(e,n))}t.a=function(){var e=a,t=u,n=o,l=s,d=f(0),p=d,m=d,b=d,g=null;function h(a,u,o){var s,f=null!=u?u:+e.call(this,a),h=null!=o?o:+t.call(this,a),y=+n.call(this,a),v=+l.call(this,a),O=Math.min(y,v)/2,j=c(+d.call(this,a),0,O),$=c(+p.call(this,a),0,O),x=c(+m.call(this,a),0,O),k=c(+b.call(this,a),0,O);if(g||(g=s=Object(r.a)()),j<=0&&$<=0&&x<=0&&k<=0)g.rect(f,h,y,v);else{var A=f+y,F=h+v;g.moveTo(f+j,h),g.lineTo(A-$,h),g.bezierCurveTo(A-i*$,h,A,h+i*$,A,h+$),g.lineTo(A,F-k),g.bezierCurveTo(A,F-i*k,A-i*k,F,A-k,F),g.lineTo(f+x,F),g.bezierCurveTo(f+i*x,F,f,F-i*x,f,F-x),g.lineTo(f,h+j),g.bezierCurveTo(f,h+i*j,f+i*j,h,f+j,h),g.closePath()}if(s)return g=null,s+""||null}return h.x=function(t){return arguments.length?(e=f(t),h):e},h.y=function(e){return arguments.length?(t=f(e),h):t},h.width=function(e){return arguments.length?(n=f(e),h):n},h.height=function(e){return arguments.length?(l=f(e),h):l},h.cornerRadius=function(e,t,n,r){return arguments.length?(d=f(e),p=null!=t?f(t):d,b=null!=n?f(n):d,m=null!=r?f(r):p,h):d},h.context=function(e){return arguments.length?(g=null==e?null:e,h):g},h}},function(e,t,n){"use strict";var r=n(94),i=n(584);t.a=function(){var e,t,n,a,u,o,s,f,c=null;function l(e,t,n){var i=n/2;if(u){var a=s-t,l=e-o;if(a||l){var d=Math.sqrt(a*a+l*l),p=(a/=d)*f,m=(l/=d)*f,b=Math.atan2(l,a);c.moveTo(o-p,s-m),c.lineTo(e-a*i,t-l*i),c.arc(e,t,i,b-Math.PI,b),c.lineTo(o+p,s+m),c.arc(o,s,f,b,b+Math.PI)}else c.arc(e,t,i,0,r.e);c.closePath()}else u=1;o=e,s=t,f=i}function d(r){var o,s,f,d=r.length,p=!1;for(null==c&&(c=f=Object(i.a)()),o=0;o<=d;++o)!(o<d&&a(s=r[o],o,r))===p&&(p=!p)&&(u=0),p&&l(+e(s,o,r),+t(s,o,r),+n(s,o,r));if(f)return c=null,f+""||null}return d.x=function(t){return arguments.length?(e=t,d):e},d.y=function(e){return arguments.length?(t=e,d):t},d.size=function(e){return arguments.length?(n=e,d):n},d.defined=function(e){return arguments.length?(a=e,d):a},d.context=function(e){return arguments.length?(c=null==e?null:e,d):c},d}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(338),i=n(175),a=n(258),u=n(514),o=n(88),s=n(1);function f(e,t){r.a.call(this,e,t),this._down=null,this._touch=null,this._first=!0}var c=Object(s.y)(f,r.a);function l(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i||(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r)),this.fire(e,r)}}function d(e){return function(t){this.fire(e,t),this._active=null}}c.initialize=function(e,t,n){var i=this._canvas=e&&Object(o.e)(e,"canvas");if(i){var a=this;this.events.forEach((function(e){i.addEventListener(e,(function(t){c[e]?c[e].call(a,t):a.fire(e,t)}))}))}return r.a.prototype.initialize.call(this,e,t,n)},c.canvas=function(){return this._canvas},c.context=function(){return this._canvas.getContext("2d")},c.events=a.a,c.DOMMouseScroll=function(e){this.fire("mousewheel",e)},c.mousemove=l("mousemove","mouseover","mouseout"),c.dragover=l("dragover","dragenter","dragleave"),c.mouseout=d("mouseout"),c.dragleave=d("dragleave"),c.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},c.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},c.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},c.touchmove=function(e){this.fire("touchmove",e,!0)},c.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},c.fire=function(e,t,n){var r,i,u=n?this._touch:this._active,o=this._handlers[e];if(t.vegaType=e,e===a.b&&u&&u.href?this.handleHref(t,u,u.href):e!==a.d&&e!==a.c||this.handleTooltip(t,u,e!==a.c),o)for(r=0,i=o.length;r<i;++r)o[r].handler.call(this._obj,t,u)},c.on=function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(r[n]||(r[n]=[])).push({type:e,handler:t}),this},c.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},c.pickEvent=function(e){var t=Object(u.a)(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},c.pick=function(e,t,n,r,a){var u=this.context();return i.a[e.marktype].pick.call(this,u,e,t,n,r,a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(338),i=n(88),a=n(258),u=n(1);function o(e,t){r.a.call(this,e,t);var n=this;n._hrefHandler=f(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=f(n,(function(e,t){n.handleTooltip(e,t,e.type!==a.c)}))}var s=Object(u.y)(o,r.a);function f(e,t){return function(n){var r=n.target.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,t.call(e._obj,n,r)}}s.initialize=function(e,t,n){var u=this._svg;return u&&(u.removeEventListener(a.b,this._hrefHandler),u.removeEventListener(a.d,this._tooltipHandler),u.removeEventListener(a.c,this._tooltipHandler)),this._svg=u=e&&Object(i.e)(e,"svg"),u&&(u.addEventListener(a.b,this._hrefHandler),u.addEventListener(a.d,this._tooltipHandler),u.addEventListener(a.c,this._tooltipHandler)),r.a.prototype.initialize.call(this,e,t,n)},s.canvas=function(){return this._svg},s.on=function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:f(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},s.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(251),i=n(286),a=n(175),u=n(553),o=n(88),s=n(83),f=n(107),c=n(146),l=n(403),d=n(488),p=n(558),m=n(1),b=d.a.xmlns;function g(e){r.a.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var h=Object(m.y)(g,r.a),y=r.a.prototype;function v(e,t,n){var r,a,u;if("radial"===t.gradient){var s=Object(o.b)(e,n++,"pattern",b);s.setAttribute("id",i.d+t.id),s.setAttribute("viewBox","0,0,1,1"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("preserveAspectRatio","xMidYMid slice"),(s=Object(o.b)(s,0,"rect",b)).setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("fill","url("+D()+"#"+t.id+")"),(e=Object(o.b)(e,n++,"radialGradient",b)).setAttribute("id",t.id),e.setAttribute("fx",t.x1),e.setAttribute("fy",t.y1),e.setAttribute("fr",t.r1),e.setAttribute("cx",t.x2),e.setAttribute("cy",t.y2),e.setAttribute("r",t.r2)}else(e=Object(o.b)(e,n++,"linearGradient",b)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2);for(r=0,a=t.stops.length;r<a;++r)(u=Object(o.b)(e,r,"stop",b)).setAttribute("offset",t.stops[r].offset),u.setAttribute("stop-color",t.stops[r].color);return Object(o.c)(e,r),n}function O(e,t,n){var r;return(e=Object(o.b)(e,n,"clipPath",b)).setAttribute("id",t.id),t.path?(r=Object(o.b)(e,0,"path",b)).setAttribute("d",t.path):((r=Object(o.b)(e,0,"rect",b)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),Object(o.c)(e,1),n+1}function j(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function $(e,t,n,r,i){var a,u=e._svg;if(!u&&(a=t.ownerDocument,u=Object(o.d)(a,r,b),e._svg=u,e.mark&&(u.__data__=e,u.__values__={fill:"default"},"g"===r))){var s=Object(o.d)(a,"path",b);u.appendChild(s),s.__data__=e;var f=Object(o.d)(a,"g",b);u.appendChild(f),f.__data__=e;var c=Object(o.d)(a,"path",b);u.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(u.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(u,n))&&t.insertBefore(u,n?n.nextSibling:t.firstChild),u}h.initialize=function(e,t,n,r){return e&&(this._svg=Object(o.b)(e,0,"svg",b),this._svg.setAttribute("class","marks"),Object(o.c)(e,1),this._root=Object(o.b)(this._svg,0,"g",b),Object(o.c)(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),y.initialize.call(this,e,t,n,r)},h.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),y.background.apply(this,arguments)},h.resize=function(e,t,n,r){return y.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},h.canvas=function(){return this._svg},h.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in d.a)e[t]=d.a[t];var n=this._bgcolor?Object(s.b)("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+Object(s.a)("rect"):"";return Object(s.b)("svg",e)+n+this._svg.innerHTML+Object(s.a)("svg")},h._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),Object(o.c)(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},h.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=Object(o.b)(t,0,"defs",b)),i=v(r,n.gradient[e],i);for(e in n.clipping)r||(n.el=r=Object(o.b)(t,0,"defs",b)),i=O(r,n.clipping[e],i);r&&(0===i?(t.removeChild(r),n.el=null):Object(o.c)(r,i))},h._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},h.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},h.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},h._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,u,o,s,f=++this._dirtyID;for(u=0,o=e.length;u<o;++u)(n=(t=e[u]).mark).marktype!==r&&(r=n.marktype,i=a.a[r]),n.zdirty&&n.dirty!==f&&(this._dirtyAll=!1,j(t,f),n.items.forEach((function(e){e.dirty=f}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(s=n.items[0])._svg&&this._update(i,s._svg,s):t._svg&&(s=t._svg.parentNode)&&s.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==f&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,j(t,f)),t._update=f));return!this._dirtyAll},h.draw=function(e,t,n){if(!this.isDirty(t))return t._svg;var r,i=this,s=this._svg,f=a.a[t.marktype],d=!1===t.interactive?"none":null,p="g"===f.tag,m=null,b=0;(r=$(t,e,n,"g",s)).setAttribute("class",Object(o.a)(t));const g=Object(u.b)(t);for(const e in g)_(r,e,g[e]);function h(e){var t=i.isDirty(e),n=$(e,r,m,f.tag,s);t&&(i._update(f,n,e),p&&function(e,t,n){t=t.lastChild.previousSibling;var r,i=0;Object(c.b)(n,(function(n){r=e.draw(t,n,r),++i})),Object(o.c)(t,1+i)}(i,n,e)),m=n,++b}return p||r.style.setProperty("pointer-events",d),_(r,"clip-path",t.clip?Object(l.a)(i,t,t.group):null),f.nested?t.items.length&&h(t.items[0]):Object(c.b)(t,h),Object(o.c)(r,b),r};var x=null,k=null,A={group:function(e,t,n){var r,i;x=r=t.childNodes[2],k=r.__values__,e.foreground(w,n,this),k=t.__values__,x=t.childNodes[1],e.content(w,n,this),x=i=t.childNodes[0],e.background(w,n,this);var a=!1===n.mark.interactive?"none":null;if(a!==k.events&&(r.style.setProperty("pointer-events",a),i.style.setProperty("pointer-events",a),k.events=a),n.strokeForeground&&n.stroke){const e=n.fill;r.style.removeProperty("display"),this.style(i,n),i.style.removeProperty("stroke"),e&&(n.fill=null),k=r.__values__,this.style(r,n),e&&(n.fill=e),x=null}else r.style.setProperty("display","none"),r.style.setProperty("fill","none")},image:function(e,t,n){!1===n.smooth?(F(t,"image-rendering","optimizeSpeed"),F(t,"image-rendering","pixelated")):F(t,"image-rendering",null)},text:function(e,t,n){var r,i,a,u,s=Object(f.g)(n);Object(m.A)(s)?(r=(i=s.map(e=>Object(f.i)(n,e))).join("\n"))!==k.text&&(Object(o.c)(t,0),a=t.ownerDocument,u=Object(f.d)(n),i.forEach((e,r)=>{const i=Object(o.d)(a,"tspan",b);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",u)),t.appendChild(i)}),k.text=r):(i=Object(f.i)(n,s))!==k.text&&(t.textContent=i,k.text=i),F(t,"font-family",Object(f.b)(n)),F(t,"font-size",Object(f.c)(n)+"px"),F(t,"font-style",n.fontStyle),F(t,"font-variant",n.fontVariant),F(t,"font-weight",n.fontWeight)}};function F(e,t,n){n!==k[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),k[t]=n)}function w(e,t,n){t!==k[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(x,e,t,n):_(x,e,t),k[e]=t)}function _(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function D(){var e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}h._update=function(e,t,n){x=t,k=t.__values__,Object(u.a)(w,n),e.attr(w,n,this);var r=A[e.type];r&&r.call(this,e,t,n),x&&this.style(x,n)},h.style=function(e,t){if(null!=t)for(const n in p.a){let r=t[n];if("font"===n&&(r=Object(f.b)(t)),r===k[n])continue;const a=p.a[n];null==r?"fill"===a?e.style.setProperty(a,"none"):e.style.removeProperty(a):(Object(i.c)(r)&&(r=Object(i.b)(r,this._defs.gradient,D())),e.style.setProperty(a,r+"")),k[n]=r}}},function(e,t,n){"use strict";t.a=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(251),i=n(286),a=n(175),u=n(553),o=n(88),s=n(83),f=n(107),c=n(146),l=n(403),d=n(488),p=n(558),m=n(1);function b(e){r.a.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}var g,h=Object(m.y)(b,r.a),y=r.a.prototype;function v(e,t,n,r){g[r||e]=t}function O(e,t,n,r){if(null==e)return"";let a="";"bgrect"===n&&!1===t.interactive&&(a+="pointer-events: none; "),"bgfore"===n&&(!1===t.interactive&&(a+="pointer-events: none; "),a+="display: none; "),"image"===n&&!1===e.smooth&&(a+="image-rendering: optimizeSpeed; image-rendering: pixelated; "),"text"===n&&(a+="font-family: "+Object(f.b)(e)+"; ",a+="font-size: "+Object(f.c)(e)+"px; ",e.fontStyle&&(a+="font-style: "+e.fontStyle+"; "),e.fontVariant&&(a+="font-variant: "+e.fontVariant+"; "),e.fontWeight&&(a+="font-weight: "+e.fontWeight+"; "));for(const t in p.a){let n=e[t];const u=p.a[t];null==n?"fill"===u&&(a+="fill: none; "):"transparent"!==n||"fill"!==u&&"stroke"!==u?(Object(i.c)(n)&&(n=Object(i.b)(n,r.gradient,"")),a+=u+": "+n+"; "):a+=u+": none; "}return a?'style="'+a.trim()+'"':null}function j(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}h.resize=function(e,t,n,r){y.resize.call(this,e,t,n,r);var i=this._origin,a=this._text,u={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var o in d.a)u[o]=d.a[o];a.head=Object(s.b)("svg",u);var f=this._bgcolor;return"transparent"!==f&&"none"!==f||(f=null),a.bg=f?Object(s.b)("rect",{width:this._width,height:this._height,style:"fill: "+f+";"})+Object(s.a)("rect"):"",a.root=Object(s.b)("g",{transform:"translate("+i+")"}),a.foot=Object(s.a)("g")+Object(s.a)("svg"),this},h.background=function(){var e=y.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},h.svg=function(){var e=this._text;return e.head+e.bg+e.defs+e.root+e.body+e.foot},h._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},h.buildDefs=function(){var e,t,n,r,a,u=this._defs,o="";for(t in u.gradient){for(a=(n=u.gradient[t]).stops,"radial"===n.gradient?(o+=Object(s.b)(r="pattern",{id:i.d+t,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o+=Object(s.b)("rect",{width:"1",height:"1",fill:"url(#"+t+")"})+Object(s.a)("rect"),o+=Object(s.a)(r),o+=Object(s.b)(r="radialGradient",{id:t,fx:n.x1,fy:n.y1,fr:n.r1,cx:n.x2,cy:n.y2,r:n.r2})):o+=Object(s.b)(r="linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<a.length;++e)o+=Object(s.b)("stop",{offset:a[e].offset,"stop-color":a[e].color})+Object(s.a)("stop");o+=Object(s.a)(r)}for(t in u.clipping)n=u.clipping[t],o+=Object(s.b)("clipPath",{id:t}),n.path?o+=Object(s.b)("path",{d:n.path})+Object(s.a)("path"):o+=Object(s.b)("rect",{x:0,y:0,width:n.width,height:n.height})+Object(s.a)("rect"),o+=Object(s.a)("clipPath");return o.length>0?Object(s.b)("defs")+o+Object(s.a)("defs"):""},h.attributes=function(e,t){return g={},Array.isArray(e)?e.forEach(e=>e(v,t,this)):e(v,t,this),g},h.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then(e=>{e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e})}return null},h.mark=function(e){var t,n=this,r=a.a[e.marktype],i=r.tag,d=this._defs,p="";function b(a){var o=n.href(a);if(o&&(p+=Object(s.b)("a",o)),t="g"!==i?O(a,e,i,d):null,p+=Object(s.b)(i,n.attributes([u.a,r.attr],a),t),"text"===i){const e=Object(f.g)(a);if(Object(m.A)(e)){const t={x:0,dy:Object(f.d)(a)};for(let n=0;n<e.length;++n)p+=Object(s.b)("tspan",n?t:null)+j(Object(f.i)(a,e[n]))+Object(s.a)("tspan")}else p+=j(Object(f.i)(a,e))}else if("g"===i){const t=a.strokeForeground,i=a.fill,u=a.stroke;t&&u&&(a.stroke=null),p+=Object(s.b)("path",n.attributes(r.background,a),O(a,e,"bgrect",d))+Object(s.a)("path"),p+=Object(s.b)("g",n.attributes(r.content,a))+n.markGroup(a)+Object(s.a)("g"),t&&u?(i&&(a.fill=null),a.stroke=u,p+=Object(s.b)("path",n.attributes(r.foreground,a),O(a,e,"bgrect",d))+Object(s.a)("path"),i&&(a.fill=i)):p+=Object(s.b)("path",n.attributes(r.foreground,a),O({},e,"bgfore",d))+Object(s.a)("path")}p+=Object(s.a)(i),o&&(p+=Object(s.a)("a"))}return"g"!==i&&!1===e.interactive&&(t='style="pointer-events: none;"'),p+=Object(s.b)("g",Object.assign({class:Object(o.a)(e),"clip-path":e.clip?Object(l.a)(n,e,e.group):null},Object(u.b)(e)),t),r.nested?e.items&&e.items.length&&b(e.items[0]):Object(c.b)(e,b),p+Object(s.a)("g")},h.markGroup=function(e){var t=this,n="";return Object(c.b)(e,(function(e){n+=t.mark(e)})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f}));var r=n(447),i=n(14),a=n(1),u=n(768),o=n(769);function s(e){i.g.call(this,null,e)}function f(e,t,n,r,i){const a=e.x1||0,u=e.y1||0,o=t*n<0;function s(e){e.forEach(f)}function f(e){o&&e.reverse(),e.forEach(c)}function c(e){e[0]=(e[0]-a)*t+r,e[1]=(e[1]-u)*n+i}return function(e){return e.coordinates.forEach(s),e}}s.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(a.y)(s,i.g).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=t.materialize(t.SOURCE).source,c=e.field||a.x,l=Object(u.a)().smooth(!1!==e.smooth),d=e.thresholds||function(e,t,n){const i=Object(o.a)(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?i:i(e.map(e=>Object(r.a)(t(e).values)))}(s,c,e),p=null===e.as?null:e.as||"contour",m=[];return s.forEach(t=>{const n=c(t),r=l.size([n.width,n.height])(n.values,Object(a.A)(d)?d:d(n.values));!function(e,t,n,r){let i=r.scale||t.scale,u=r.translate||t.translate;Object(a.D)(i)&&(i=i(n,r));Object(a.D)(u)&&(u=u(n,r));if((1===i||null==i)&&!u)return;const o=(Object(a.E)(i)?i:i[0])||1,s=(Object(a.E)(i)?i:i[1])||1,c=u&&u[0]||0,l=u&&u[1]||0;e.forEach(f(t,o,s,c,l))}(r,n,t,e),r.forEach(e=>{m.push(Object(i.o)(t,Object(i.l)(null!=p?{[p]:e}:e)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=m,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var r=n(770),i=n(14),a=n(1);function u(e){i.g.call(this,null,e)}u.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var o=Object(a.y)(u,i.g);const s=["x","y","weight","size","cellSize","bandwidth"];function f(e,t){return s.forEach(n=>null!=t[n]?e[n](t[n]):0),e}o.transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,u=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=function(e,t){var n,r,i,a,u,o,s=[],f=e=>e(a);if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],u=t.map(f),(o=n[u])||(n[u]=o=[],o.dims=u,s.push(o)),o.push(a);return s}(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(a.h),c=f(Object(r.a)(),e),l=e.as||"grid";return n=o.map(t=>Object(i.l)(function(e,t){for(let n=0;n<s.length;++n)e[s[n]]=t[n];return e}({[l]:c(t,e.counts)},t.dims))),this.value&&(u.rem=this.value),this.value=u.source=u.add=n,u}},,,,,,,,,,function(e,t,n){"use strict";t.a={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){function t(t,n,r){return function(i){return function(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(r.n)("Missing arguments to clamp function."),t.length>3&&Object(r.n)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(r.n)("Missing arguments to if function."),t.length>3&&Object(r.n)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}},function(e,t,n){"use strict";t.a=function(e,t,n){if(e){const n=this.context.dataflow,r=e.mark.source;n.pulse(r,n.changeset().encode(e,t))}return void 0!==n?n:e}},function(e,t,n){"use strict";t.a=function(e){let t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}},function(e,t,n){"use strict";var r=n(1);t.a=function(){var e=[].slice.call(arguments);return e.unshift({}),r.o.apply(null,e)}},function(e,t,n){"use strict";var r=n(14),i=n(1);function a(e,t){return e===t||e!=e&&t!=t||(Object(i.A)(e)?!(!Object(i.A)(t)||e.length!==t.length)&&function(e,t){for(let n=0,r=e.length;n<r;++n)if(!a(e[n],t[n]))return!1;return!0}(e,t):!(!Object(i.F)(e)||!Object(i.F)(t))&&u(e,t))}function u(e,t){for(let n in e)if(!a(e[n],t[n]))return!1;return!0}function o(e){return t=>u(e,t)}t.a=function(e,t,n,a,u,s){let f,c,l=this.context.dataflow,d=this.context.data[e],p=d.input,m=d.changes,b=l.stamp();if(!1===l._trigger||!(p.value.length||t||a))return 0;if((!m||m.stamp<b)&&(d.changes=m=l.changeset(),m.stamp=b,l.runAfter((function(){d.modified=!0,l.pulse(p,m).run()}),!0,1)),n&&(f=!0===n?i.gb:Object(i.A)(n)||Object(r.n)(n)?n:o(n),m.remove(f)),t&&m.insert(t),a&&(f=o(a),p.value.some(f)?m.remove(f):m.insert(a)),u)for(c in s)m.modify(u,c,s[c]);return 1}},function(e,t,n){"use strict";var r=n(164),i=n(47),a=n(76),u=n(1);t.a=function(e,t,n,o,s){e=Object(r.e)(e,(s||this).context);const f=Object(a.d)(t,n);let c=e.domain(),l=c[0],d=Object(u.U)(c),p=u.x;return d-l?p=Object(i.J)(e,l,d):e=(e.interpolator?Object(i.I)("sequential")().interpolator(e.interpolator()):Object(i.I)("linear")().interpolate(e.interpolate()).range(e.range())).domain([l=0,d=1]),e.ticks&&(c=e.ticks(+o||15),l!==c[0]&&c.unshift(l),d!==Object(u.U)(c)&&c.push(d)),c.forEach(t=>f.stop(p(t),e(t))),f}},function(e,t,n){"use strict";var r=n(1005),i=n(1388),a=n(1389);t.a=function(e,t){var n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),n.forEach((function(e){Object(r.a)(e,t)})),n.forEach((function(e){Object(r.b)(e,t)})),(e.streams||[]).forEach((function(e){Object(i.a)(e,t)})),(e.updates||[]).forEach((function(e){Object(a.a)(e,t)})),t.resolve()}},function(e,t,n){"use strict";var r=n(194),i=n(1396),a=n(1);t.a=function(e,t){var n=t.getSignal(e.name),u=e.update;e.init&&(u?Object(a.n)("Signals can not include both init and update expressions."):(u=e.init,n.initonly=!0)),u&&(u=Object(r.a)(u,t),n.update=u.$expr,n.params=u.$params),e.on&&e.on.forEach((function(e){Object(i.a)(e,t,n.id)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(194),i=n(32),a=n(1);function u(e,t){return(e.merge?o:e.stream?s:e.type?f:Object(a.n)("Invalid stream specification: "+Object(a.Z)(e)))(e,t)}function o(e,t){var n=c({merge:e.merge.map(e=>u(e,t))},e,t);return t.addStream(n).id}function s(e,t){var n=c({stream:u(e.stream,t)},e,t);return t.addStream(n).id}function f(e,t){var n,r,a;return"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event((a=e.source)===i.c?i.d:a||i.d,e.type),r=c({stream:n},e,t),1===Object.keys(r).length?n:t.addStream(r).id}function c(e,t,n){var o,s,f,c,l=t.between;return l&&(2!==l.length&&Object(a.n)('Stream "between" parameter must have 2 entries: '+Object(a.Z)(t)),e.between=[u(l[0],n),u(l[1],n)]),l=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&l.push((o=t.marktype,s=t.markname,f=t.markrole,(c="event.item")+(o&&"*"!==o?"&&"+c+".mark.marktype==='"+o+"'":"")+(f?"&&"+c+".mark.role==='"+f+"'":"")+(s?"&&"+c+".mark.name==='"+s+"'":""))),t.source===i.c&&l.push("inScope(event.item)"),l.length&&(e.filter=Object(r.a)("("+l.join(")&&(")+")").$expr),null!=(l=t.throttle)&&(e.throttle=+l),null!=(l=t.debounce)&&(e.debounce=+l),t.consume&&(e.consume=!0),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(327),i=n(32),a=n(194),u=n(63),o=n(1);function s(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function f(e){this.config=e.config,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}var c=s.prototype=f.prototype;function l(e){return(Object(o.A)(e)?d:p)(e)}function d(e){for(var t,n="[",r=0,i=e.length;r<i;++r)t=e[r],n+=(r>0?",":"")+(Object(o.F)(t)?t.signal||l(t):Object(o.Z)(t));return n+"]"}function p(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+Object(o.Z)(t)+":"+(Object(o.F)(n)?n.signal||l(n):Object(o.Z)(n));return r+"}"}c.fork=function(){return new f(this)},c.isSubscope=function(){return this._subid>0},c.toRuntime=function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},c.id=function(){return(this._subid?this._subid+":":0)+this._id++},c.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},c.proxy=function(e){var t=e instanceof i.b?Object(i.p)(e):e;return this.add(Object(u.u)({value:t}))},c.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},c.addUpdate=function(e){return this.updates.push(e),e},c.finish=function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},c.pushState=function(e,t,n){this._encode.push(Object(i.p)(this.add(Object(u.y)({pulse:e})))),this._parent.push(t),this._lookup.push(n?Object(i.p)(this.proxy(n)):null),this._markpath.push(-1)},c.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},c.parent=function(){return Object(o.U)(this._parent)},c.encode=function(){return Object(o.U)(this._encode)},c.lookup=function(){return Object(o.U)(this._lookup)},c.markpath=function(){var e=this._markpath;return++e[e.length-1]},c.fieldRef=function(e,t){if(Object(o.H)(e))return Object(i.i)(e,t);e.signal||Object(o.n)("Unsupported field reference: "+Object(o.Z)(e));var n,r=e.signal,a=this.field[r];return a||(n={name:this.signalRef(r)},t&&(n.as=t),this.field[r]=a=Object(i.p)(this.add(Object(u.j)(n)))),a},c.compareRef=function(e){function t(e){return Object(i.l)(e)?(r=!0,n.signalRef(e.signal)):Object(i.k)(e)?(r=!0,n.exprRef(e.expr)):e}var n=this,r=!1,a=Object(o.i)(e.field).map(t),s=Object(o.i)(e.order).map(t);return r?Object(i.p)(this.add(Object(u.e)({fields:a,orders:s}))):Object(i.f)(a,s)},c.keyRef=function(e,t){var n=this.signals,r=!1;return e=Object(o.i)(e).map((function(e){return Object(i.l)(e)?(r=!0,Object(i.p)(n[e.signal])):e})),r?Object(i.p)(this.add(Object(u.k)({fields:e,flat:t}))):Object(i.n)(e,t)},c.sortRef=function(e){if(!e)return e;var t=Object(i.e)(e.op,e.field),n=e.order||i.a;return n.signal?Object(i.p)(this.add(Object(u.e)({fields:t,orders:this.signalRef(n.signal)}))):Object(i.f)(t,n)},c.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},c.hasOwnSignal=function(e){return Object(o.v)(this.signals,e)},c.addSignal=function(e,t){this.hasOwnSignal(e)&&Object(o.n)("Duplicate signal name: "+Object(o.Z)(e));var n=t instanceof i.b?t:this.add(Object(i.o)(t));return this.signals[e]=n},c.getSignal=function(e){return this.signals[e]||Object(o.n)("Unrecognized signal name: "+Object(o.Z)(e)),this.signals[e]},c.signalRef=function(e){return this.signals[e]?Object(i.p)(this.signals[e]):(Object(o.v)(this.lambdas,e)||(this.lambdas[e]=this.add(Object(i.o)(null))),Object(i.p)(this.lambdas[e]))},c.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=Object(a.a)(r,this),u=this.lambdas[r];u.params=i.$params,u.update=i.$expr}},c.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},c.objectProperty=function(e){return e&&Object(o.F)(e)?this.signalRef(e.signal||l(e)):e},c.exprRef=function(e,t){var n={expr:Object(a.a)(e,this)};return t&&(n.expr.$name=t),Object(i.p)(this.add(Object(u.h)(n)))},c.addBinding=function(e,t){this.bindings||Object(o.n)("Nested signals do not support binding: "+Object(o.Z)(e)),this.bindings.push(Object(o.o)({signal:e},t))},c.addScaleProj=function(e,t){Object(o.v)(this.scales,e)&&Object(o.n)("Duplicate scale or projection name: "+Object(o.Z)(e)),this.scales[e]=this.add(t)},c.addScale=function(e,t){this.addScaleProj(e,Object(u.x)(t))},c.addProjection=function(e,t){this.addScaleProj(e,Object(u.t)(t))},c.getScale=function(e){return this.scales[e]||Object(o.n)("Unrecognized scale name: "+Object(o.Z)(e)),this.scales[e]},c.projectionRef=c.scaleRef=function(e){return Object(i.p)(this.getScale(e))},c.projectionType=c.scaleType=function(e){return this.getScale(e).params.type},c.addData=function(e,t){return Object(o.v)(this.data,e)&&Object(o.n)("Duplicate data set name: "+Object(o.Z)(e)),this.data[e]=t},c.getData=function(e){return this.data[e]||Object(o.n)("Undefined data set name: "+Object(o.Z)(e)),this.data[e]},c.addDataPipeline=function(e,t){return Object(o.v)(this.data,e)&&Object(o.n)("Duplicate data set name: "+Object(o.Z)(e)),this.addData(e,r.a.fromEntries(this,t))}},function(e,t,n){"use strict";t.a=function(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(612),i=n(743),a=n(744);class u{constructor(e){this.options=Object.assign(Object.assign({},r.a),e);const t=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=Object(r.b)(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(e,t,n,r){if(null==r||""===r)return void this.el.classList.remove("visible",this.options.theme+"-theme");this.el.innerHTML=Object(i.a)(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",this.options.theme+"-theme");const{x:u,y:o}=Object(a.a)(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${o}px; left: ${u}px`)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(1),i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function a(e,t,n){if(Object(r.A)(e))return`[${e.map(e=>t(Object(r.H)(e)?e:u(e,n))).join(", ")}]`;if(Object(r.F)(e)){let a="";const o=e,{title:s,image:f}=o,c=i(o,["title","image"]);s&&(a+=`<h2>${t(s)}</h2>`),f&&(a+=`<img src="${t(f)}">`);const l=Object.keys(c);if(l.length>0){a+="<table>";for(const e of l){let i=c[e];void 0!==i&&(Object(r.F)(i)&&(i=u(i,n)),a+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(i)}</td></tr>`)}a+="</table>"}return a||"{}"}return t(e)}function u(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,r){if("object"!=typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}},function(e,t,n){"use strict";function r(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}n.d(t,"a",(function(){return r}))},,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(1);function i(t,n){const i=n&&n.property?Object(r.t)(n.property):r.x;return!Object(r.F)(t)||(a=t,"function"==typeof e&&Object(r.D)(e.isBuffer)&&e.isBuffer(a))?i(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(i(t));var a}i.responseType="json"}).call(this,n(1090).Buffer)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(72),a=n(1);function u(e){this._key=e?Object(a.t)(e):r.t,this.reset()}var o=u.prototype;o.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},o.add=function(e){this._add.push(e)},o.rem=function(e){this._rem.push(e)},o.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,u=r.length,o=i.length,s=Array(u-o),f={};for(e=0;e<o;++e)f[a(i[e])]=1;for(e=0,t=0;e<u;++e)f[a(n=r[e])]?f[a(n)]=0:s[t++]=n;return this._rem=[],this._add=s},o.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},u=0;--r>=0;)t=e(n[r])+"",Object(a.v)(i,t)||(i[t]=1,++u);return u},o.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(a.q)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},o.argmin=function(e){return this.extent(e)[0]||{}},o.argmax=function(e){return this.extent(e)[1]||{}},o.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},o.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},o.quartile=function(e){return this._get===e&&this._q||(this._q=Object(i.o)(this.values(),e),this._get=e),this._q},o.q1=function(e){return this.quartile(e)[0]},o.q2=function(e){return this.quartile(e)[1]},o.q3=function(e){return this.quartile(e)[2]},o.ci=function(e){return this._get===e&&this._ci||(this._ci=Object(i.c)(this.values(),1e3,.05,e),this._get=e),this._ci},o.ci0=function(e){return this.ci(e)[0]},o.ci1=function(e){return this.ci(e)[1]}},function(e,t,n){"use strict";t.a=function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t,n){var i=e,a=t||[],u=n||[],o={},s=0;return{add:function(e){u.push(e)},remove:function(e){o[i(e)]=++s},size:function(){return a.length},data:function(e,t){return s&&(a=a.filter((function(e){return!o[i(e)]})),o={},s=0),t&&e&&a.sort(e),u.length&&(a=e?Object(r.M)(e,a,u.sort(e)):a.concat(u),u=[]),a}}}},function(e,t,n){"use strict";var r=n(286),i=n(1311);t.a=function(e,t,n){return Object(r.c)(n)?Object(i.a)(e,n,t.bounds):n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(147),i=n(1);function a(e,t){e.beginPath(),Object(r.c)(t)?Object(r.e)(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}t.b=function(e,t){var n=t.clip;e.save(),Object(i.D)(n)?(e.beginPath(),n(e),e.clip()):a(e,t.group)}},,,,function(e,t,n){"use strict";var r=n(1);function i(){}const a=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function u(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=o(e,t[r]))return n;return 0}function o(e,t){for(var n=t[0],r=t[1],i=-1,a=0,u=e.length,o=u-1;a<u;o=a++){var f=e[a],c=f[0],l=f[1],d=e[o],p=d[0],m=d[1];if(s(f,d,t))return 0;l>r!=m>r&&n<(p-c)*(r-l)/(m-l)+c&&(i=-i)}return i}function s(e,t,n){var r,i,a,u;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],a=n[r],u=t[r],i<=a&&a<=u||u<=a&&a<=i)}t.a=function(){var e=1,t=1,n=c;function o(e,t){return t.map(t=>s(e,t))}function s(r,i){var o=[],s=[];return function(n,r,i){var u,o,s,c,l,d,p=new Array,m=new Array;u=o=-1,c=n[0]>=r,a[c<<1].forEach(b);for(;++u<e-1;)s=c,c=n[u+1]>=r,a[s|c<<1].forEach(b);a[c<<0].forEach(b);for(;++o<t-1;){for(u=-1,c=n[o*e+e]>=r,l=n[o*e]>=r,a[c<<1|l<<2].forEach(b);++u<e-1;)s=c,c=n[o*e+e+u+1]>=r,d=l,l=n[o*e+u+1]>=r,a[s|c<<1|l<<2|d<<3].forEach(b);a[c|l<<3].forEach(b)}u=-1,l=n[o*e]>=r,a[l<<2].forEach(b);for(;++u<e-1;)d=l,l=n[o*e+u+1]>=r,a[l<<2|d<<3].forEach(b);function b(e){var t,n,r=[e[0][0]+u,e[0][1]+o],a=[e[1][0]+u,e[1][1]+o],s=f(r),c=f(a);(t=m[s])?(n=p[c])?(delete m[t.end],delete p[n.start],t===n?(t.ring.push(a),i(t.ring)):p[t.start]=m[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete m[t.end],t.ring.push(a),m[t.end=c]=t):(t=p[c])?(n=m[s])?(delete p[t.start],delete m[n.end],t===n?(t.ring.push(a),i(t.ring)):p[n.start]=m[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete p[t.start],t.ring.unshift(r),p[t.start=s]=t):p[s]=m[c]={start:s,end:c,ring:[r,a]}}a[l<<3].forEach(b)}(r,i,(function(e){n(e,r,i),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==u((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:o}}function f(t){return 2*t[0]+t[1]*(e+1)*4}function c(n,r,i){n.forEach((function(n){var a,u=n[0],o=n[1],s=0|u,f=0|o,c=r[f*e+s];u>0&&u<e&&s===u&&(a=r[f*e+s-1],n[0]=u+(i-a)/(c-a)-.5),o>0&&o<t&&f===o&&(a=r[(f-1)*e+s],n[1]=o+(i-a)/(c-a)-.5)}))}return o.contour=s,o.size=function(n){if(!arguments.length)return[e,t];var i=Math.ceil(n[0]),a=Math.ceil(n[1]);return i>0&&a>0||Object(r.n)("invalid size"),e=i,t=a,o},o.smooth=function(e){return arguments.length?(n=e?c:i,o):n===c},o}},function(e,t,n){"use strict";var r=n(274),i=n(395),a=n(1);t.a=function(e,t,n){return function(u){var o=Object(a.p)(u),s=n?Math.min(o[0],0):o[0],f=o[1],c=f-s,l=t?Object(r.c)(s,f,e):c/(e+1);return Object(i.a)(l,f,l)}}},function(e,t,n){"use strict";var r=n(72),i=n(1),a=n(1696);function u(e,t,n){const i=e>=0?e:Object(r.a)(t,n);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function o(e){return Object(i.D)(e)?e:Object(i.l)(+e)}function s(e,t,n,r,i){const a=1+(i<<1);for(let u=0;u<t;++u)for(let t=0,o=0;t<e+i;++t)t<e&&(o+=n[t+u*e]),t>=i&&(t>=a&&(o-=n[t-a+u*e]),r[t-i+u*e]=o/Math.min(t+1,e-1+a-t,a))}function f(e,t,n,r,i){const a=1+(i<<1);for(let u=0;u<e;++u)for(let o=0,s=0;o<t+i;++o)o<t&&(s+=n[u+o*e]),o>=i&&(o>=a&&(s-=n[u+(o-a)*e]),r[u+(o-i)*e]=s/Math.min(o+1,t-1+a-o,a))}t.a=function(){var e=e=>e[0],t=e=>e[1],n=i.O,r=[-1,-1],c=960,l=500,d=2;function p(i,o){const p=u(r[0],i,e)>>d,m=u(r[1],i,t)>>d,b=p?p+2:0,g=m?m+2:0,h=2*b+(c>>d),y=2*g+(l>>d),v=new Float32Array(h*y),O=new Float32Array(h*y);let j=v;i.forEach(r=>{const i=b+(+e(r)>>d),a=g+(+t(r)>>d);i>=0&&i<h&&a>=0&&a<y&&(v[i+a*h]+=+n(r))}),p>0&&m>0?(s(h,y,v,O,p),f(h,y,O,v,m),s(h,y,v,O,p),f(h,y,O,v,m),s(h,y,v,O,p),f(h,y,O,v,m)):p>0?(s(h,y,v,O,p),s(h,y,O,v,p),s(h,y,v,O,p),j=O):m>0&&(f(h,y,v,O,m),f(h,y,O,v,m),f(h,y,v,O,m),j=O);let $=o?Math.pow(2,-2*d):1/Object(a.a)(j);for(let e=0,t=h*y;e<t;++e)j[e]*=$;return{values:j,scale:1<<d,width:h,height:y,x1:b,y1:g,x2:b+(c>>d),y2:g+(l>>d)}}return p.x=function(t){return arguments.length?(e=o(t),p):e},p.y=function(e){return arguments.length?(t=o(e),p):t},p.weight=function(e){return arguments.length?(n=o(e),p):n},p.size=function(e){if(!arguments.length)return[c,l];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);return t>=0||n>=0||Object(i.n)("invalid size"),c=t,l=n,p},p.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(i.n)("invalid cell size"),d=Math.floor(Math.log(e)/Math.LN2),p):1<<d},p.bandwidth=function(e){return arguments.length?(1===(e=Object(i.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(i.n)("invalid bandwidth"),r=e,p):r},p}},,,,,,,function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,a,u,o,s=[],f=function(e){return e(a)};if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],(o=n[u=t.map(f)])||(n[u]=o=[],o.dims=u,s.push(o)),o.push(a);return s}},function(e,t,n){"use strict";function r(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),i(t,e.description()))}function i(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=n(341);t.a=function(e,t,n,i,a,u){return(t=t||new i(e.loader())).initialize(n,Object(r.d)(e),Object(r.a)(e),Object(r.b)(e),a,u).background(e.background())}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(734),i=n(281),a=n(14),u=n(1);function o(e,t,n){var r,i;for(r in n=n||{},e)i=e[r],n[r]=Object(u.A)(i)?i.map((function(e){return s(e,t,n)})):s(i,t,n);return n}function s(e,t,n){if(!e||!Object(u.F)(e))return e;for(var r,i=0,a=f.length;i<a;++i)if(r=f[i],Object(u.v)(e,r.key))return r.parse(e,t,n);return e}var f=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(u.n)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(u.I)(e.$key,e.$flat))}},{key:"$expr",parse:function(e,t,n){e.$params&&o(e.$params,t,n);var r="e:"+e.$expr+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(u.f)(Object(i.e)(e.$expr,t),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(u.t)(e.$field,e.$name))}},{key:"$encode",parse:function(e,t){var n,r,a=e.$encode,o={};for(n in a)r=a[n],o[n]=Object(u.f)(Object(i.a)(r.$expr,t),r.$fields),o[n].output=r.$output;return o}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Object(u.i)(e.$compare).map((function(e){return e&&e.$tupleid?a.t:e}));return t.fn[n]||(t.fn[n]=Object(u.k)(r,e.$order))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,i,a){var u=Object(r.a)(n,t.fork()),o=u.get(n.operators[0].id),s=u.signals.parent;return s&&s.set(a),o}}},{key:"$tupleid",parse:function(){return a.t}}]},function(e,t,n){"use strict";var r=n(414),i=n(1);t.a=function(e,t,n,a){return function e(t,n,a,u){var o,s,f;if(t.signal)o="datum",f=Object(r.a)(t.signal,n,a,u);else if(t.group||t.parent){for(s=Math.max(1,t.level||1),o="item";s-- >0;)o+=".mark.group";t.parent?(f=t.parent,o+=".datum"):f=t.group}else t.datum?(o="datum",f=t.datum):Object(i.n)("Invalid field reference: "+Object(i.Z)(t));t.signal||(Object(i.H)(f)?(u[f]=1,f=Object(i.Y)(f).map(i.Z).join("][")):f=e(f,n,a,u));return o+"["+f+"]"}(Object(i.F)(e)?e:{datum:e},t,n,a)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(414),i=n(781),a=n(564),u=n(245),o=n(1);function s(e,t,n,a){var s;if(Object(o.H)(e))s=u.a+e,Object(o.v)(n,s)||(n[s]=t.scaleRef(e)),s=Object(o.Z)(s);else{for(s in t.scales)n[u.a+s]=t.scaleRef(s);s=Object(o.Z)(u.a)+"+"+(e.signal?"("+Object(r.a)(e.signal,t,n,a)+")":Object(i.a)(e,t,n,a))}return"_["+s+"]"}t.a=function(e,t,n,r,i){var u,f,c,l=s(e.scale,n,r,i);return null!=e.range?(f=l+".range()",t=0===(u=+e.range)?f+"[0]":"($="+f+","+(1===u?"$[$.length-1]":"$[0]+"+u+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=l+"("+t+")"),e.band&&(c=function(e,t){if(!Object(o.H)(e))return-1;var n=t.scaleType(e);return"band"===n||"point"===n?1:0}(e.scale,n))&&(f=l+".bandwidth",u=e.band.signal?f+"()*"+Object(a.a)(e.band,n,r,i):f+"()"+(1===(u=+e.band)?"":"*"+u),c<0&&(u="("+f+"?"+u+":0)"),t=(t?t+"+":"")+u,e.extra&&(t="(datum.extra?"+l+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t,n){const i=e+"["+Object(r.Z)(t)+"]";return`$=${n};if(${i}!==$)${i}=$,m=1;`}},function(e,t,n){"use strict";var r=n(116),i=n(68);t.a=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===r.a?i.p:t||i.o:t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(533),i=n(32),a=n(63),u=n(1);function o(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Object(i.p)(t.getData(e.data).output)}t.a=function(e,t,n){var s,f,c,l,d;return e?(s=e.facet)&&(t||Object(u.n)("Only group marks can be faceted."),null!=s.field?l=d=o(s,n):(e.data?d=Object(i.p)(n.getData(e.data).aggregate):((c=Object(r.a)(Object(u.o)({type:"aggregate",groupby:Object(u.i)(s.groupby)},s.aggregate),n)).params.key=n.keyRef(s.groupby),c.params.pulse=o(s,n),l=d=Object(i.p)(n.add(c))),f=n.keyRef(s.groupby,!0))):l=Object(i.p)(n.add(Object(a.d)(null,[{}]))),l||(l=o(e,n)),{key:f,pulse:l,parent:d}}},function(e,t,n){"use strict";var r=n(194),i=n(32);t.a=function(e,t,n){var a,u,o=e.remove,s=e.insert,f=e.toggle,c=e.modify,l=e.values,d=t.add(Object(i.o)());a="if("+e.trigger+',modify("'+n+'",'+[s,o,f,c,l].map((function(e){return null==e?"null":e})).join(",")+"),0)",u=Object(r.a)(a,t),d.update=u.$expr,d.params=u.$params}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(1986),i=n(1);function a(e){const t=function(t,n){const r={delimiter:e};return u(t,n?Object(i.o)(n,r):r)};return t.responseType="text",t}function u(e,t){return t.header&&(e=t.header.map(i.Z).join(t.delimiter)+"\n"+e),Object(r.a)(t.delimiter).parse(e+"")}u.responseType="text"},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(265),i={skip:!1,force:!1};function a(e,t){var n=t||i;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function u(e,t,n){var r=n||i;return(e.set(t)||r.force)&&this.touch(e,r),this}function o(e,t,n){this.touch(e,n||i);var a=new r.b(this,this._clock+(this._pulse?0:1)),u=e.pulse&&e.pulse.source||[];return a.target=e,this._input[e.id]=t.pulse(a,u),this}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n(401),i=n(461);const a=e=>"__proto__"!==e;function u(...e){return e.reduce((e,t)=>{for(var n in t)if("signals"===n)e.signals=s(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;o(e,n,t[n],r)}return e},{})}function o(e,t,n,u){var s,f;if(a(t))if(Object(i.a)(n)&&!Object(r.a)(n))for(s in f=Object(i.a)(e[t])?e[t]:e[t]={},n)u&&(!0===u||u[s])?o(f,s,n[s]):a(s)&&(f[s]=n[s]);else e[t]=n}function s(e,t){if(null==e)return t;const n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}},function(e,t,n){"use strict";function r(e){return 1+~~(new Date(e).getMonth()/3)}function i(e){return 1+~~(new Date(e).getUTCMonth()/3)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p}));var r=n(33),i=n(181),a=n(1);function u(e,t,n,i,u){const o=t||1,s=Object(a.U)(e),f=(e,t,r)=>function(e,t,n,r){const i=n<=1?e:r?(t,i)=>r+n*Math.floor((e(t,i)-r)/n):(t,r)=>n*Math.floor(e(t,r)/n);return t?(e,n)=>t(i(e,n),n):i}(n[r=r||e],i[r],e===s&&o,t),c=new Date,l=Object(a.db)(e),d=l[r.l]?f(r.l):Object(a.l)(2012),p=l[r.g]?f(r.g):l[r.h]?f(r.h):a.kb,m=l[r.k]&&l[r.b]?f(r.b,1,r.k+r.b):l[r.k]?f(r.k,1):l[r.b]?f(r.b,1):l[r.a]?f(r.a,1):l[r.c]?f(r.c,1):a.O,b=l[r.d]?f(r.d):a.kb,g=l[r.f]?f(r.f):a.kb,h=l[r.i]?f(r.i):a.kb,y=l[r.e]?f(r.e):a.kb;return function(e){c.setTime(+e);const t=d(c);return u(t,p(c),m(c,t),b(c),g(c),h(c),y(c))}}function o(e,t,n){return t+7*e-(n+6)%7}const s={[r.l]:e=>e.getFullYear(),[r.h]:e=>Math.floor(e.getMonth()/3),[r.g]:e=>e.getMonth(),[r.a]:e=>e.getDate(),[r.d]:e=>e.getHours(),[r.f]:e=>e.getMinutes(),[r.i]:e=>e.getSeconds(),[r.e]:e=>e.getMilliseconds(),[r.c]:e=>Object(i.c)(e),[r.k]:e=>Object(i.e)(e),[r.k+r.b]:(e,t)=>o(Object(i.e)(e),e.getDay(),Object(i.d)(t)),[r.b]:(e,t)=>o(1,e.getDay(),Object(i.d)(t))},f={[r.h]:e=>3*e,[r.k]:(e,t)=>o(e,0,Object(i.d)(t))};function c(e,t){return u(e,t||1,s,f,i.b)}const l={[r.l]:e=>e.getUTCFullYear(),[r.h]:e=>Math.floor(e.getUTCMonth()/3),[r.g]:e=>e.getUTCMonth(),[r.a]:e=>e.getUTCDate(),[r.d]:e=>e.getUTCHours(),[r.f]:e=>e.getUTCMinutes(),[r.i]:e=>e.getUTCSeconds(),[r.e]:e=>e.getUTCMilliseconds(),[r.c]:e=>Object(i.g)(e),[r.k]:e=>Object(i.i)(e),[r.b]:(e,t)=>o(1,e.getUTCDay(),Object(i.h)(t)),[r.k+r.b]:(e,t)=>o(Object(i.i)(e),e.getUTCDay(),Object(i.h)(t))},d={[r.h]:e=>3*e,[r.k]:(e,t)=>o(e,0,Object(i.h)(t))};function p(e,t){return u(e,t||1,l,d,i.f)}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(706),i=n(609),a=n(707),u=n(708),o=n(715),s={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},f={};function c(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(f[e]=t,this):f[e]}f.canvas=f.png={renderer:i.a,headless:i.a,handler:r.a},f.svg={renderer:u.a,headless:o.a,handler:a.a},f.none={}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(365),i=n(1);function a(e,t,n){return e===t||("path"===n?u(e,t):e instanceof Date&&t instanceof Date?+e==+t:Object(i.E)(e)&&Object(i.E)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(i.F)(e)||Object(i.F)(t))?null!=e&&null!=t&&function(e,t){var n,r,i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length)return!1;for(i.sort(),u.sort(),r=i.length-1;r>=0;r--)if(i[r]!=u[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!a(e[n],t[n],n))return!1;return typeof e==typeof t}(e,t):e==t)}function u(e,t){return a(Object(r.a)(e),Object(r.a)(t))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(1);function i(e){e.rank=++this._rank}function a(e){for(var t,n,i,a=[e];a.length;)if(this.rank(t=a.pop()),n=t._targets)for(i=n.length;--i>=0;)a.push(t=n[i]),t===e&&Object(r.n)("Cycle detected in dataflow graph.")}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(94),i={},a={},u=[].join;function o(e,t,n,a,o,s,f,c,l){var d=u.call(arguments);if(i[d])return i[d];var p=f*r.a,m=Math.sin(p),b=Math.cos(p),g=b*(c-e)*.5+m*(l-t)*.5,h=b*(l-t)*.5-m*(c-e)*.5,y=g*g/((n=Math.abs(n))*n)+h*h/((a=Math.abs(a))*a);y>1&&(n*=y=Math.sqrt(y),a*=y);var v=b/n,O=m/n,j=-m/a,$=b/a,x=v*c+O*l,k=j*c+$*l,A=v*e+O*t,F=j*e+$*t,w=(A-x)*(A-x)+(F-k)*(F-k),_=1/w-.25;_<0&&(_=0);var D=Math.sqrt(_);s==o&&(D=-D);var C=.5*(x+A)-D*(F-k),S=.5*(k+F)+D*(A-x),E=Math.atan2(k-S,x-C),q=Math.atan2(F-S,A-C),M=q-E;M<0&&1===s?M+=r.e:M>0&&0===s&&(M-=r.e);for(var B=Math.ceil(Math.abs(M/(r.c+.001))),z=[],T=0;T<B;++T){var P=E+T*M/B,R=E+(T+1)*M/B;z[T]=[C,S,P,R,n,a,m,b]}return i[d]=z}function s(e){var t=u.call(e);if(a[t])return a[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],f=e[5],c=e[6],l=e[7],d=l*s,p=-c*f,m=c*s,b=l*f,g=Math.cos(i),h=Math.sin(i),y=Math.cos(o),v=Math.sin(o),O=.5*(o-i),j=Math.sin(.5*O),$=8/3*j*j/Math.sin(O),x=n+g-$*h,k=r+h+$*g,A=n+y,F=r+v,w=A+$*v,_=F-$*y;return a[t]=[d*x+p*k,m*x+b*k,d*w+p*_,m*w+b*_,d*A+p*F,m*A+b*F]}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(709),i=n(395),a=n(396),u=n(621);function o(){var e,t,n=Object(u.a)().unknown(void 0),s=n.domain,f=n.range,c=[0,1],l=!1,d=0,p=0,m=.5;function b(){var n=s().length,a=c[1]<c[0],u=c[a-0],o=c[1-a],b=Object(r.a)(n,d,p);e=(o-u)/(b||1),l&&(e=Math.floor(e)),u+=(o-u-e*(n-d))*m,t=e*(1-d),l&&(u=Math.round(u),t=Math.round(t));var g=Object(i.a)(n).map((function(t){return u+e*t}));return f(a?g.reverse():g)}return delete n.unknown,n.domain=function(e){return arguments.length?(s(e),b()):s()},n.range=function(e){return arguments.length?(c=[+e[0],+e[1]],b()):c.slice()},n.rangeRound=function(e){return c=[+e[0],+e[1]],l=!0,b()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,b()):l},n.padding=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),d=p,b()):d},n.paddingInner=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),b()):d},n.paddingOuter=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),b()):p},n.align=function(e){return arguments.length?(m=Math.max(0,Math.min(1,e)),b()):m},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,r,i,u=+e[0],o=+e[1],l=c[1]<c[0],d=l?f().reverse():f(),p=d.length-1;if(u==u&&o==o&&(o<u&&(i=u,u=o,o=i),!(o<d[0]||u>c[1-l])))return n=Math.max(0,Object(a.b)(d,u)-1),r=u===o?n:Object(a.b)(d,o)-1,u-d[n]>t+1e-10&&++n,l&&(i=n,n=p-r,r=p-i),n>r?void 0:s().slice(n,r+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return o().domain(s()).range(c).round(l).paddingInner(d).paddingOuter(p).align(m)},b()}function s(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(o().paddingInner(1))}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},i={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(35),i=n(152),a=n(76);function u(e){var t=e.items[0].datum.orient;return t===r.r||t===r.x}function o(e,t,n,u){var o,f,c=t.items[0],l=c.datum,d=l.orient,p=null!=l.translate?l.translate:.5,m=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(l),b=c.range,g=c.offset,h=c.position,y=c.minExtent,v=c.maxExtent,O=l.title&&c.items[m[2]].items[0],j=c.titlePadding,$=c.bounds,x=O&&Object(a.I)(O),k=0,A=0;switch(i.b.clear().union($),$.clear(),(o=m[0])>-1&&$.union(c.items[o].bounds),(o=m[1])>-1&&$.union(c.items[o].bounds),d){case r.G:k=h||0,A=-g,f=Math.max(y,Math.min(v,-$.y1)),$.add(0,-f).add(b,0),O&&s(e,O,f,j,x,0,-1,$);break;case r.r:k=-g,A=h||0,f=Math.max(y,Math.min(v,-$.x1)),$.add(-f,0).add(0,b),O&&s(e,O,f,j,x,1,-1,$);break;case r.x:k=n+g,A=h||0,f=Math.max(y,Math.min(v,$.x2)),$.add(0,0).add(f,b),O&&s(e,O,f,j,x,1,1,$);break;case r.c:k=h||0,A=u+g,f=Math.max(y,Math.min(v,$.y2)),$.add(0,0).add(b,f),O&&s(e,O,f,j,0,0,1,$);break;default:k=c.x,A=c.y}return Object(a.t)($.translate(k,A),c),Object(i.a)(c,"x",k+p)|Object(i.a)(c,"y",A+p)&&(c.bounds=i.b,e.dirty(c),c.bounds=$,e.dirty(c)),c.mark.bounds.clear().union($)}function s(e,t,n,r,i,a,u,o){const s=t.bounds;if(t.auto){const o=u*(n+i+r);let f=0,c=0;e.dirty(t),a?f=(t.x||0)-(t.x=o):c=(t.y||0)-(t.y=o),t.mark.bounds.clear().union(s.translate(-f,-c)),e.dirty(t)}o.union(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(35),i=n(152),a=n(76),u=n(1);const o=(e,t)=>Math.floor(Math.min(e,t)),s=(e,t)=>Math.ceil(Math.max(e,t));function f(e){return(new a.a).set(0,0,e.width||0,e.height||0)}function c(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function l(e,t,n){var r=Object(u.F)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function d(e){return e<0?Math.ceil(-e):0}function p(e,t,n){var a,u,o,s,p,m,b,g,h,y,v,O=!n.nodirty,j=n.bounds===r.o?f:c,$=i.b.set(0,0,0,0),x=l(n.align,r.i),k=l(n.align,r.y),A=l(n.padding,r.i),F=l(n.padding,r.y),w=n.columns||t.length,_=w<0?1:Math.ceil(t.length/w),D=t.length,C=Array(D),S=Array(w),E=0,q=Array(D),M=Array(_),B=0,z=Array(D),T=Array(D),P=Array(D);for(u=0;u<w;++u)S[u]=0;for(u=0;u<_;++u)M[u]=0;for(u=0;u<D;++u)m=t[u],p=P[u]=j(m),m.x=m.x||0,z[u]=0,m.y=m.y||0,T[u]=0,o=u%w,s=~~(u/w),E=Math.max(E,b=Math.ceil(p.x2)),B=Math.max(B,g=Math.ceil(p.y2)),S[o]=Math.max(S[o],b),M[s]=Math.max(M[s],g),C[u]=A+d(p.x1),q[u]=F+d(p.y1),O&&e.dirty(t[u]);for(u=0;u<D;++u)u%w==0&&(C[u]=0),u<w&&(q[u]=0);if(x===r.j)for(o=1;o<w;++o){for(v=0,u=o;u<D;u+=w)v<C[u]&&(v=C[u]);for(u=o;u<D;u+=w)C[u]=v+S[o-1]}else if(x===r.a){for(v=0,u=0;u<D;++u)u%w&&v<C[u]&&(v=C[u]);for(u=0;u<D;++u)u%w&&(C[u]=v+E)}else for(x=!1,o=1;o<w;++o)for(u=o;u<D;u+=w)C[u]+=S[o-1];if(k===r.j)for(s=1;s<_;++s){for(v=0,a=(u=s*w)+w;u<a;++u)v<q[u]&&(v=q[u]);for(u=s*w;u<a;++u)q[u]=v+M[s-1]}else if(k===r.a){for(v=0,u=w;u<D;++u)v<q[u]&&(v=q[u]);for(u=w;u<D;++u)q[u]=v+B}else for(k=!1,s=1;s<_;++s)for(a=(u=s*w)+w;u<a;++u)q[u]+=M[s-1];for(h=0,u=0;u<D;++u)h=C[u]+(u%w?h:0),z[u]+=h-t[u].x;for(o=0;o<w;++o)for(y=0,u=o;u<D;u+=w)y+=q[u],T[u]+=y-t[u].y;if(x&&l(n.center,r.i)&&_>1)for(u=0;u<D;++u)(h=(p=x===r.a?E:S[u%w])-P[u].x2-t[u].x-z[u])>0&&(z[u]+=h/2);if(k&&l(n.center,r.y)&&1!==w)for(u=0;u<D;++u)(y=(p=k===r.a?B:M[~~(u/w)])-P[u].y2-t[u].y-T[u])>0&&(T[u]+=y/2);for(u=0;u<D;++u)$.union(P[u].translate(z[u],T[u]));switch(h=l(n.anchor,r.J),y=l(n.anchor,r.K),l(n.anchor,r.i)){case r.k:h-=$.width();break;case r.t:h-=$.width()/2}switch(l(n.anchor,r.y)){case r.k:y-=$.height();break;case r.t:y-=$.height()/2}for(h=Math.round(h),y=Math.round(y),$.clear(),u=0;u<D;++u)t[u].mark.bounds.clear();for(u=0;u<D;++u)(m=t[u]).x+=z[u]+=h,m.y+=T[u]+=y,$.union(m.mark.bounds.union(m.bounds.translate(z[u],T[u]))),O&&e.dirty(m);return $}function m(e,t,n){var i,a,u,f,c,d,m,v=function(e){for(var t,n,i=e.items,a=i.length,u=0,o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};u<a;++u)if(n=(t=i[u]).items,t.marktype===r.q)switch(t.role){case r.b:case r.s:case r.F:break;case r.A:o.rowheaders.push(...n);break;case r.z:o.rowfooters.push(...n);break;case r.g:o.colheaders.push(...n);break;case r.f:o.colfooters.push(...n);break;case r.B:o.rowtitle=n[0];break;case r.h:o.coltitle=n[0];break;default:o.marks.push(...n)}return o}(t),O=v.marks,j=n.bounds===r.o?b:g,$=n.offset,x=n.columns||O.length,k=x<0?1:Math.ceil(O.length/x),A=k*x;const F=p(e,O,n);v.rowheaders&&(d=l(n.headerBand,r.y,null),i=h(e,v.rowheaders,O,x,k,-l($,"rowHeader"),o,0,j,"x1",0,x,1,d)),v.colheaders&&(d=l(n.headerBand,r.i,null),a=h(e,v.colheaders,O,x,x,-l($,"columnHeader"),o,1,j,"y1",0,1,x,d)),v.rowfooters&&(d=l(n.footerBand,r.y,null),u=h(e,v.rowfooters,O,x,k,l($,"rowFooter"),s,0,j,"x2",x-1,x,1,d)),v.colfooters&&(d=l(n.footerBand,r.i,null),f=h(e,v.colfooters,O,x,x,l($,"columnFooter"),s,1,j,"y2",A-x,1,x,d)),v.rowtitle&&(c=l(n.titleAnchor,r.y),m=l($,"rowTitle"),m=c===r.k?u+m:i-m,d=l(n.titleBand,r.y,.5),y(e,v.rowtitle,m,0,F,d)),v.coltitle&&(c=l(n.titleAnchor,r.i),m=l($,"columnTitle"),m=c===r.k?f+m:a-m,d=l(n.titleBand,r.i,.5),y(e,v.coltitle,m,1,F,d))}function b(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function g(e,t){return e.bounds[t]}function h(e,t,n,r,i,a,u,o,s,f,c,l,d,p){var m,b,g,h,y,v,O,j,$,x=n.length,k=0,A=0;if(!x)return k;for(m=c;m<x;m+=l)n[m]&&(k=u(k,s(n[m],f)));if(!t.length)return k;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),k+=a,b=0,h=t.length;b<h;++b)e.dirty(t[b]),t[b].mark.bounds.clear();for(m=c,b=0,h=t.length;b<h;++b,m+=l){for(y=(v=t[b]).mark.bounds,g=m;g>=0&&null==(O=n[g]);g-=d);o?(j=null==p?O.x:Math.round(O.bounds.x1+p*O.bounds.width()),$=k):(j=k,$=null==p?O.y:Math.round(O.bounds.y1+p*O.bounds.height())),y.union(v.bounds.translate(j-(v.x||0),$-(v.y||0))),v.x=j,v.y=$,e.dirty(v),A=u(A,y[f])}return A}function y(e,t,n,r,i,a){if(t){e.dirty(t);var u=n,o=n;r?u=Math.round(i.x1+a*i.width()):o=Math.round(i.y1+a*i.height()),t.bounds.translate(u-(t.x||0),o-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=u,t.y=o,e.dirty(t)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(35),i=n(76);function a(e,t,n,i,a,u,o){const s=function(e,t){const n=e[t]||{};return(t,r)=>null!=n[t]?n[t]:null!=e[t]?e[t]:r}(n,t),f=(d=e,p=s("offset",0),m=-1/0,d.forEach(e=>{null!=e.offset&&(m=Math.max(m,e.offset))}),m>-1/0?m:p),c=s("anchor",r.D),l=c===r.k?1:c===r.t?.5:0;var d,p,m;const b={align:r.j,bounds:s("bounds",r.o),columns:"vertical"===s("direction")?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case r.r:b.anchor={x:Math.floor(i.x1)-f,column:r.k,y:l*(o||i.height()+2*i.y1),row:c};break;case r.x:b.anchor={x:Math.ceil(i.x2)+f,y:l*(o||i.height()+2*i.y1),row:c};break;case r.G:b.anchor={y:Math.floor(a.y1)-f,row:r.k,x:l*(u||a.width()+2*a.x1),column:c};break;case r.c:b.anchor={y:Math.ceil(a.y2)+f,x:l*(u||a.width()+2*a.x1),column:c};break;case r.H:b.anchor={x:f,y:f};break;case r.I:b.anchor={x:u-f,y:f,column:r.k};break;case r.d:b.anchor={x:f,y:o-f,row:r.k};break;case r.e:b.anchor={x:u-f,y:o-f,column:r.k,row:r.k}}return b}function u(e,t){var n,a,u,f,c=t.items[0],l=c.datum,d=c.orient,p=c.bounds,m=c.x,b=c.y;return c._bounds?c._bounds.clear().union(p):c._bounds=p.clone(),p.clear(),function(e,t,n){var i=t.padding,a=i-n.x,u=i-n.y;if(t.datum.title){var f=t.items[1].items[0],c=f.anchor,l=t.titlePadding||0,d=i-f.x,p=i-f.y;switch(f.orient){case r.r:a+=Math.ceil(f.bounds.width())+l;break;case r.x:case r.c:break;default:u+=f.bounds.height()+l}switch((a||u)&&s(e,n,a,u),f.orient){case r.r:p+=o(t,n,f,c,1,1);break;case r.x:d+=o(t,n,f,r.k,0,0)+l,p+=o(t,n,f,c,1,1);break;case r.c:d+=o(t,n,f,c,0,0),p+=o(t,n,f,r.k,-1,0,1)+l;break;default:d+=o(t,n,f,c,0,0)}(d||p)&&s(e,f,d,p),(d=Math.round(f.bounds.x1-i))<0&&(s(e,n,-d,0),s(e,f,-d,0))}else(a||u)&&s(e,n,a,u)}(e,c,c.items[0].items[0]),p=function(e,t){return e.items.forEach(e=>t.union(e.bounds)),t.x1=e.padding,t.y1=e.padding,t}(c,p),n=2*c.padding,a=2*c.padding,p.empty()||(n=Math.ceil(p.width()+n),a=Math.ceil(p.height()+a)),l.type===r.E&&(u=c.items[0].items[0].items[0].items,f=u.reduce((e,t)=>(e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e),{}),u.forEach(e=>{e.width=f[e.column],e.height=e.bounds.y2-e.y})),d!==r.u&&(c.x=m=0,c.y=b=0),c.width=n,c.height=a,Object(i.t)(p.set(m,b,m+n,b+a),c),c.mark.bounds.clear().union(p),c}function o(e,t,n,a,u,o,s){const f="symbol"!==e.datum.type,c=n.datum.vgrad,l=(!f||!o&&c||s?t:t.items[0]).bounds[u?"y2":"x2"]-e.padding,d=c&&o?l:0,p=c&&o?0:l,m=u<=0?0:Object(i.I)(n);return Math.round(a===r.D?d:a===r.k?p-m:.5*(l-m))}function s(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}},,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this.bisect(this.range,e.value),a=e.index,u=i[0],o=i[1],s=a.length;for(n=0;n<u;++n)t[a[n]]|=r;for(n=o;n<s;++n)t[a[n]]|=r;return this}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(387),i=n(396),a=n(2024);function u(){var e=Object(r.b)(0),t=[],n=0;return{insert:function(i,u,o){if(!u.length)return[];var s,f,c,l=n,d=u.length,p=Array(d),m=Object(r.b)(d);for(c=0;c<d;++c)p[c]=i(u[c]),m[c]=c;if(p=function(e,t){return e.sort.call(t,(function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0})),Object(a.a)(e,t)}(p,m),l)s=t,f=e,t=Array(l+d),e=Object(r.b)(l+d),function(e,t,n,r,i,a,u,o,s){var f,c=0,l=0;for(f=0;c<r&&l<u;++f)t[c]<i[l]?(o[f]=t[c],s[f]=n[c++]):(o[f]=i[l],s[f]=a[l++]+e);for(;c<r;++c,++f)o[f]=t[c],s[f]=n[c];for(;l<u;++l,++f)o[f]=i[l],s[f]=a[l]+e}(o,s,f,l,p,m,d,t,e);else{if(o>0)for(c=0;c<d;++c)m[c]+=o;t=p,e=m}return n=l+d,{index:m,value:p}},remove:function(r,i){var a,u,o,s=n;for(u=0;!i[e[u]]&&u<s;++u);for(o=u;u<s;++u)i[a=e[u]]||(e[o]=a,t[o]=t[u],++o);n=s-r},bisect:function(e,r){var a;return r?a=r.length:(r=t,a=n),[Object(i.a)(r,e[0],0,a),Object(i.b)(r,e[1],0,a)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return f}));var r=n(1377),i=n(14),a=n(1);const u={trap:!1};function o(e){const t=Object(a.o)({defaults:{}},e),n=(e,t)=>{t.forEach(t=>{Object(a.A)(e[t])&&(e[t]=Object(a.db)(e[t]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function s(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(a.F)(r)&&!r[n])||(e.warn(`Blocked ${t} ${n} event listener.`),!1)}function f(e,t,n){var a,o=this,f=new i.b(n),c=function(n,i){o.runAsync(null,()=>{"view"===e&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(o,t)&&n.preventDefault(),f.receive(Object(r.a)(o,n,i))})};if("timer"===e)s(o,"timer",t)&&o.timer(c,t);else if("view"===e)s(o,"view",t)&&o.addEventListener(t,c,u);else if("window"===e?s(o,"window",t)&&"undefined"!=typeof window&&(a=[window]):"undefined"!=typeof document&&s(o,"selector",t)&&(a=document.querySelectorAll(e)),a){for(var l=0,d=a.length;l<d;++l)a[l].addEventListener(t,c);o._eventListeners.push({type:t,sources:a,handler:c})}else o.warn("Can not resolve event source: "+e);return f}},function(e,t,n){"use strict";var r=n(1);const i=e=>+e||0;t.a=function(e){return Object(r.F)(e)?{top:i(e.top),bottom:i(e.bottom),left:i(e.left),right:i(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(i(e))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(281),i=n(780),a=n(630),u=n(1);function o(e,t){if(e.params){var n=t.get(e.id);n||Object(u.n)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(Object(i.a)(e.params,t),e.react,e.initonly))}}t.a=function(e,t){Object(a.c)(e.type)||!e.type?t.operator(e,e.update?Object(r.d)(e.update,t):null):t.transform(e,e.type)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(1),i={skip:!0};function a(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n}function u(e){var t=this,n=t.dataflow,a=e.data,u=e.signals;Object.keys(u||{}).forEach((function(e){n.update(t.signals[e],u[e],i)})),Object.keys(a||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(r.gb).insert(a[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(14),i=n(1);function a(e){return this._runtime.getState(e||{data:u,signals:o,recurse:!0})}function u(e,t){return t.modified&&Object(i.A)(t.input.value)&&e.indexOf("_:vega:_")}function o(e,t){return!("parent"===e||t instanceof r.s.proxy)}function s(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},e=>{e._trigger=!0}),this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return c}));var r=n(32),i=n(63),a=n(47),u=n(1),o=0,s={min:"min",max:"max",count:"sum"};function f(e,t){var n=e.type||"linear";Object(a.D)(n)||Object(u.n)("Unrecognized scale type: "+Object(u.Z)(n)),t.addScale(e.name,{type:n,domain:void 0})}function c(e,t){var n,r,i=t.getScale(e.name).params;for(n in i.domain=m(e.domain,e,t),null!=e.range&&(i.range=function e(t,n,r){var i=t.range,o=n.config.range;if(i.signal)return n.signalRef(i.signal);if(Object(u.H)(i)){if(o&&Object(u.v)(o,i))return t=Object(u.o)({},t,{range:o[i]}),e(t,n,r);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=Object(a.y)(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(u.n)("Unrecognized scale range value: "+Object(u.Z)(i))}else{if(i.scheme)return r.scheme=Object(u.A)(i.scheme)?d(i.scheme,n):l(i.scheme,n),i.extent&&(r.schemeExtent=d(i.extent,n)),void(i.count&&(r.schemeCount=l(i.count,n)));if(i.step)return void(r.rangeStep=l(i.step,n));if(Object(a.y)(t.type)&&!Object(u.A)(i))return m(i,t,n);Object(u.A)(i)||Object(u.n)("Unsupported range type: "+Object(u.Z)(i))}return i.map(e=>(Object(u.A)(e)?d:l)(e,n))}(e,t,i)),null!=e.interpolate&&function(e,t){t.interpolate=l(e.type||e),null!=e.gamma&&(t.interpolateGamma=l(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=(r=e.nice,Object(u.F)(r)?{interval:l(r.interval),step:l(r.step)}:l(r))),null!=e.bins&&(i.bins=function(e,t){return e.signal||Object(u.A)(e)?d(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(u.v)(i,n)||"name"===n||(i[n]=l(e[n],t))}function l(e,t){return Object(u.F)(e)?e.signal?t.signalRef(e.signal):Object(u.n)("Unsupported object: "+Object(u.Z)(e)):e}function d(e,t){return e.signal?t.signalRef(e.signal):e.map(e=>l(e,t))}function p(e){Object(u.n)("Can not find data set: "+Object(u.Z)(e))}function m(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(u.A)(e)?b:e.fields?h:g)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(u.n)("No scale domain defined for domainMin/domainMax to override.")}function b(e,t,n){return e.map((function(e){return l(e,n)}))}function g(e,t,n){var r=n.getData(e.data);return r||p(e.data),Object(a.y)(t.type)?r.valuesRef(n,e.field,v(e.sort,!1)):Object(a.C)(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function h(e,t,n){var r=e.data,s=e.fields.reduce((function(e,t){return t=Object(u.H)(t)?{data:r,field:t}:Object(u.A)(t)||t.signal?function(e,t){var n="_:vega:_"+o++,r=Object(i.d)({});if(Object(u.A)(e))r.value={$ingest:e};else if(e.signal){var a="setdata("+Object(u.Z)(n)+","+e.signal+")";r.params.input=t.signalRef(a)}return t.addDataPipeline(n,[r,Object(i.y)({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Object(a.y)(t.type)?y:Object(a.C)(t.type)?O:j)(e,n,s)}function y(e,t,n){var a,u,o,f,c,l=v(e.sort,!0);return a=n.map((function(e){var n=t.getData(e.data);return n||p(e.data),n.countsRef(t,e.field,l)})),u={groupby:r.m,pulse:a},l&&(o=l.op||"count",c=l.field?Object(r.e)(o,l.field):"count",u.ops=[s[o]],u.fields=[t.fieldRef(c)],u.as=[c]),o=t.add(Object(i.a)(u)),f=t.add(Object(i.d)({pulse:Object(r.p)(o)})),c=t.add(Object(i.A)({field:r.m,sort:t.sortRef(l),pulse:Object(r.p)(f)})),Object(r.p)(c)}function v(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!s[e.op]&&Object(u.n)("Multiple domain scales can not be sorted using "+e.op):Object(u.n)("No field provided for sort aggregate op: "+e.op):Object(u.F)(e)?e.field="key":e={field:"key"}),e}function O(e,t,n){var a=n.map((function(e){var n=t.getData(e.data);return n||p(e.data),n.domainRef(t,e.field)}));return Object(r.p)(t.add(Object(i.p)({values:a})))}function j(e,t,n){var a=n.map((function(e){var n=t.getData(e.data);return n||p(e.data),n.extentRef(t,e.field)}));return Object(r.p)(t.add(Object(i.o)({extents:a})))}},function(e,t,n){"use strict";var r=n(27),i=n(154),a=n(101),u=n(116),o=n(68),s=n(70),f=n(32);const c=`datum.${r.p}<=0?"${r.l}":datum.${r.p}>=1?"${r.r}":"${r.b}"`,l=`datum.${r.p}<=0?"${r.a}":datum.${r.p}>=1?"${r.w}":"${r.n}"`;t.a=function(e,t,n,d){var p,m,b,g,h,y=Object(a.f)(e,t),v=y.isVertical(),O=Object(s.c)(y.gradientThickness()),j=y.gradientLength(),$=y("labelOverlap"),x="";return p={enter:m={opacity:r.A},update:b={opacity:r.z,text:{field:r.k}},exit:{opacity:r.A}},Object(s.b)(p,{fill:y("labelColor"),fillOpacity:y("labelOpacity"),font:y("labelFont"),fontSize:y("labelFontSize"),fontStyle:y("labelFontStyle"),fontWeight:y("labelFontWeight"),limit:Object(f.r)(e.labelLimit,t.gradientLabelLimit)}),v?(m.align={value:"left"},m.baseline=b.baseline={signal:l},g="y",h="x",x="1-"):(m.align=b.align={signal:c},m.baseline={value:"top"},g="x",h="y"),m[g]=b[g]={signal:x+"datum."+r.p,mult:j},m[h]=b[h]=O,O.offset=Object(f.r)(e.labelOffset,t.gradientLabelOffset)||0,$=$?{separation:y("labelSeparation"),method:$,order:"datum."+r.j}:void 0,Object(i.a)({type:u.e,role:o.k,style:r.h,key:r.x,from:d,encode:p,overlap:$},n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(27),i=n(367),a=n(154),u=n(101),o=n(116),s=n(68),f=n(70);function c(e,t){const n=Object(u.f)(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}t.a=function(e,t,n,c,l){var d,p,m,b,g,h,y,v=Object(u.f)(e,t),O=n.entries,j=!(!O||!O.interactive),$=O?O.name:void 0,x=v("clipHeight"),k=v("symbolOffset"),A={data:"value"},F={},w=`(${l}) ? datum.${r.o} : datum.${r.s}`,_=x?Object(f.c)(x):{field:r.s},D="datum."+r.j,C=`max(1, ${l})`;_.mult=.5,F={enter:d={opacity:r.A,x:{signal:w,mult:.5,offset:k},y:_},update:p={opacity:r.z,x:d.x,y:d.y},exit:{opacity:r.A}};var S=null,E=null;return e.fill||(S=t.symbolBaseFillColor,E=t.symbolBaseStrokeColor),Object(f.b)(F,{fill:v("symbolFillColor",S),shape:v("symbolType"),size:v("symbolSize"),stroke:v("symbolStrokeColor",E),strokeDash:v("symbolDash"),strokeDashOffset:v("symbolDashOffset"),strokeWidth:v("symbolStrokeWidth")},{opacity:v("symbolOpacity")}),r.m.forEach((function(t){e[t]&&(p[t]=d[t]={scale:e[t],field:r.x})})),b=Object(a.a)({type:o.d,role:s.m,key:r.x,from:A,clip:!!x||void 0,encode:F},n.symbols),(m=Object(f.c)(k)).offset=v("labelOffset"),F={enter:d={opacity:r.A,x:{signal:w,offset:m},y:_},update:p={opacity:r.z,text:{field:r.k},x:d.x,y:d.y},exit:{opacity:r.A}},Object(f.b)(F,{align:v("labelAlign"),baseline:v("labelBaseline"),fill:v("labelColor"),fillOpacity:v("labelOpacity"),font:v("labelFont"),fontSize:v("labelFontSize"),fontStyle:v("labelFontStyle"),fontWeight:v("labelFontWeight"),limit:v("labelLimit")}),g=Object(a.a)({type:o.e,role:s.k,style:r.h,key:r.x,from:A,encode:F},n.labels),F={enter:{noBound:{value:!x},width:r.A,height:x?Object(f.c)(x):r.A,opacity:r.A},exit:{opacity:r.A},update:p={opacity:r.z,row:{signal:null},column:{signal:null}}},v.isVertical(!0)?(h=`ceil(item.mark.items.length / ${C})`,p.row.signal=`${D}%${h}`,p.column.signal=`floor(${D} / ${h})`,y={field:["row",D]}):(p.row.signal=`floor(${D} / ${C})`,p.column.signal=`${D} % ${C}`,y={field:D}),p.column.signal=`(${l})?${p.column.signal}:${D}`,c={facet:{data:c,name:"value",groupby:r.j}},Object(i.a)({role:s.p,from:c,encode:Object(f.e)(F,O,r.t),marks:[b,g],name:$,interactive:j,sort:y})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),(r=a-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]}},function(e,t,n){"use strict";var r=n(202),i=n(408),a=n(409),u=n(400),o=n(364);t.a=function(e,t){var n,s,f,c,l,d,p,m,b,g=[],h=(e=Object(i.a)(e)).map((function(e,t){return null==e?null:(g.push(t),Object(a.a)(e)?e:Object(u.a)(e).map(o.a).join("]["))})),y=g.length-1,v=Object(i.a)(t),O="var u,v;return ";if(y<0)return null;for(s=0;s<=y;++s)f=h[n=g[s]],Object(a.a)(f)?(c="(u=this."+(d="f"+n)+"(a))",l="(v=this."+d+"(b))",(p=p||{})[d]=f):(c="(u=a["+f+"])",l="(v=b["+f+"])"),d="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==v[n]?(b=1,m=-1):(b=-1,m=1),O+="("+c+"<"+l+"||u==null)&&v!=null?"+m+":(u>v||v==null)&&u!=null?"+b+":"+d+"!==u&&v===v?"+m+":v!==v&&u===u?"+b+(n<y?":":":0");return f=Function("a","b",O+";"),p&&(f=f.bind(p)),e=e.reduce((function(e,t){return Object(a.a)(t)?(Object(r.a)(t)||[]).forEach((function(t){e[t]=1})):null!=t&&(e[t+""]=1),e}),{}),Object(r.c)(f,Object.keys(e))}},function(e,t,n){"use strict";var r=n(409);t.a=function(e){return Object(r.a)(e)?e:function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}}},function(e,t,n){"use strict";t.a=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,a,u=0;if(e&&(n=e.length))if(null==t){for(r=e[u];u<n&&(null==r||r!=r);r=e[++u]);for(i=a=r;u<n;++u)null!=(r=e[u])&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=t(e[u]);u<n&&(null==r||r!=r);r=t(e[++u]));for(i=a=r;u<n;++u)null!=(r=t(e[u]))&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,a,u,o=-1,s=e.length;if(null==t){for(;++o<s;)if(null!=(r=e[o])&&r>=r){n=i=r;break}if(o===s)return[-1,-1];for(a=u=o;++o<s;)null!=(r=e[o])&&(n>r&&(n=r,a=o),i<r&&(i=r,u=o))}else{for(;++o<s;)if(null!=(r=t(e[o],o,e))&&r>=r){n=i=r;break}if(o===s)return[-1,-1];for(a=u=o;++o<s;)null!=(r=t(e[o],o,e))&&(n>r&&(n=r,a=o),i<r&&(i=r,u=o))}return[a,u]}},function(e,t,n){"use strict";var r=n(336),i={};t.a=function(e){var t,n,a={};function u(e){return Object(r.a)(a,e)&&a[e]!==i}return t={size:0,empty:0,object:a,has:u,get:function(e){return u(e)?a[e]:void 0},set:function(e,n){return u(e)||(++t.size,a[e]===i&&--t.empty),a[e]=n,this},delete:function(e){return u(e)&&(--t.size,++t.empty,a[e]=i),this},clear:function(){t.size=t.empty=0,t.object=a={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,r,u={},o=0;for(e in a)(r=a[e])===i||n&&n(r)||(u[e]=r,++o);t.size=o,t.empty=0,t.object=a=u}},e&&Object.keys(e).forEach((function(n){t.set(n,e[n])})),t}},function(e,t,n){"use strict";var r=n(306);t.a=function(e,t,n,i,a,u){if(!n&&0!==n)return u;var o,s,f=e[0],c=Object(r.a)(e),l=+n;return c<f&&(o=f,f=c,c=o),(o=Math.abs(t-f))<(s=Math.abs(c-t))&&o<=l?i:s<=l?a:u}},function(e,t,n){"use strict";t.a=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i,a=t[0],u=t[t.length-1];return a>u&&(i=a,a=u,u=i),r=void 0===r||r,((n=void 0===n||n)?a<=e:a<e)&&(r?e<=u:e<u)}},function(e,t,n){"use strict";t.a=function(e){return"boolean"==typeof e}},function(e,t,n){"use strict";t.a=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=n(202),i=n(408),a=n(400),u=n(364);t.a=function(e,t){e&&(e=t?Object(i.a)(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):Object(i.a)(e));var n=e&&e.length?Function("_","return ''+"+e.map((function(e){return"_["+(t?Object(u.a)(e):Object(a.a)(e).map(u.a).join("]["))+"]"})).join("+'|'+")+";"):function(){return""};return Object(r.c)(n,e,"key")}},function(e,t,n){"use strict";var r=n(306);t.a=function(e,t){const n=e[0],i=Object(r.a)(e),a=+t;return a?1===a?i:n+a*(i-n):n}},function(e,t,n){"use strict";var r=n(336);t.a=function(e){let t,n,i;e=+e||1e4;const a=()=>{t={},n={},i=0},u=(r,a)=>(++i>e&&(n=t,t={},i=1),t[r]=a);return a(),{clear:a,has:e=>Object(r.a)(t,e)||Object(r.a)(n,e),get:e=>Object(r.a)(t,e)?t[e]:Object(r.a)(n,e)?u(e,n[e]):void 0,set:(e,n)=>Object(r.a)(t,e)?t[e]=n:u(e,n)}}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var u=r||new t.constructor(i+a),o=0,s=0,f=0;o<i&&s<a;++f)u[f]=e(t[o],n[s])>0?n[s++]:t[o++];for(;o<i;++o,++f)u[f]=t[o];for(;s<a;++s,++f)u[f]=n[s];return u}},function(e,t,n){"use strict";var r=n(467);t.a=function(e,t,n,i){var a=n||" ",u=e+"",o=t-u.length;return o<=0?u:"left"===i?Object(r.a)(a,o)+u:"center"===i?Object(r.a)(a,~~(o/2))+u+Object(r.a)(a,Math.ceil(o/2)):u+Object(r.a)(a,o)}},function(e,t,n){"use strict";var r=n(306);t.a=function(e){return e&&Object(r.a)(e)-e[0]||0}},function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}},function(e,t,n){"use strict";var r=n(688),i=n(689);function a(e){return Object(i.a)(e)||Object(r.a)(e)?e:Date.parse(e)}t.a=function(e,t){return t=t||a,null==e||""===e?null:t(e)}},function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?null:e+""}},function(e,t,n){"use strict";t.a=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i=null!=r?r:"â€¦",a=e+"",u=a.length,o=Math.max(0,t-i.length);return u<=t?a:"left"===n?i+a.slice(u-o):"center"===n?a.slice(0,Math.ceil(o/2))+i+a.slice(u-~~(o/2)):a.slice(0,o)+i}},function(e,t,n){"use strict";t.a=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(1289),i=n(1290),a=n(1291),u=n(649),o=n(1296),s=n(971),f=n(493),c=n(858),l=n(456),d=n(1297),p=n(324),m=n(307),b=n(1);function g(){this.logger(Object(b.K)()),this.logLevel(b.b),this._clock=0,this._rank=0;try{this._loader=Object(m.e)()}catch(e){}this._touched=Object(p.a)(b.w),this._input={},this._pulse=null,this._heap=Object(d.a)((e,t)=>e.qrank-t.qrank),this._postrun=[]}var h=g.prototype;function y(e){return function(){return this._log[e].apply(this,arguments)}}h.stamp=function(){return this._clock},h.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},h.cleanThreshold=1e4,h.add=r.a,h.connect=i.a,h.rank=s.a,h.rerank=s.b,h.pulse=c.a,h.touch=c.b,h.update=c.c,h.changeset=l.a,h.ingest=u.a,h.parse=u.b,h.preload=u.c,h.request=u.d,h.events=a.a,h.on=o.a,h.evaluate=f.b,h.run=f.d,h.runAsync=f.f,h.runAfter=f.e,h._enqueue=f.a,h._getPulse=f.c,h.logger=function(e){return arguments.length?(this._log=e,this):this._log},h.error=y("error"),h.warn=y("warn"),h.info=y("info"),h.debug=y("debug"),h.logLevel=y("level")},function(e,t,n){"use strict";var r=n(402),i=n(503),a=n(1),u=n(391);t.a=function(e,t,n){t=t||{};const o=Object(i.b)(t.type||"json");return o||Object(a.n)("Unknown data format type: "+t.type),e=o(e,t),t.parse&&function(e,t,n){if(!e.length)return;n=n||u.c;var i,a,o,s,f,c,l,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=Object(r.b)(e,d));for(d=Object.keys(t),i=d.map((function(e){var i,a,o=t[e];if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return("'"===(a=(i=o.split(/:(.+)?/,2))[1])[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1)),"utc"===i[0]?Object(u.e)(a):n(a);if(!r.c[o])throw Error("Illegal format pattern: "+e+":"+o);return r.c[o]})),s=0,c=e.length,l=d.length;s<c;++s)for(a=e[s],f=0;f<l;++f)o=d[f],a[o]=i[f](a[o])}(e,t.parse,n),Object(a.v)(e,"columns")&&delete e.columns,e}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(250),i=n(1);function a(e,t){r.a.call(this,e,null,t)}var u=Object(i.y)(a,r.a);u.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then(e=>this.pulse=e):t!==e.StopPropagation&&(this.pulse=t),t);var t},u.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},u.transform=function(){}},function(e,t,n){"use strict";t.a=function(e){var t,n,r,i,a,u,o,s,f=e.maxbins||20,c=e.base||10,l=Math.log(c),d=e.divide||[5,2],p=e.extent[0],m=e.extent[1],b=e.span||m-p||Math.abs(p)||1;if(e.step)t=e.step;else if(e.steps){for(a=b/f,u=0,o=e.steps.length;u<o&&e.steps[u]<a;++u);t=e.steps[Math.max(0,u-1)]}else{for(n=Math.ceil(Math.log(f)/l),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(b)/l)-n));Math.ceil(b/t)>f;)t*=c;for(u=0,o=d.length;u<o;++u)(a=t/d[u])>=r&&b/a<=f&&(t=a)}return i=(a=Math.log(t))>=0?0:1+~~(-a/l),s=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(p=p<(a=Math.floor(p/t+s)*t)?a-t:a,m=Math.ceil(m/t)*t),{start:p,stop:m===p?p+t:m,step:t}}},function(e,t,n){"use strict";var r=n(761),i=n(214),a=n(374),u=n(576);t.a=function(e,t,n,o){if(!e.length)return[void 0,void 0];var s,f,c,l,d=Float64Array.from(Object(r.a)(e,o)),p=d.length,m=t;for(c=0,l=Array(m);c<m;++c){for(s=0,f=0;f<p;++f)s+=d[~~(Object(i.a)()*p)];l[c]=s/p}return l.sort(a.a),[Object(u.a)(l,n/2),Object(u.a)(l,1-n/2)]}},function(e,t,n){"use strict";t.a=function(e,t,n,r){r=r||(e=>e);let i,a=0,u=1,o=e.length,s=new Float64Array(o),f=r(e[0]),c=f,l=f+t;for(;u<o;++u){if(i=r(e[u]),i>=l){for(c=(f+c)/2;a<u;++a)s[a]=c;l=i+t,f=i}c=i}for(c=(f+c)/2;a<u;++a)s[a]=c;return n?function(e,t){let n,r,i=e.length,a=0,u=1;for(;e[a]===e[u];)++u;for(;u<i;){for(n=u+1;e[u]===e[n];)++n;if(e[u]-e[u-1]<t){for(r=u+(a+n-u-u>>1);r<u;)e[r++]=e[u];for(;r>u;)e[r--]=e[a]}a=u,u=n}return e}(s,t+t/4):s}},function(e,t,n){"use strict";t.a=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}},function(e,t,n){"use strict";var r=n(214);t.a=function(e,t){null==t&&(t=e,e=0);var n,i,a,u={};return u.min=function(e){return arguments.length?(a=i-(n=e||0),u):n},u.max=function(e){return arguments.length?(a=(i=e||0)-n,u):i},u.sample=function(){return n+Math.floor(a*Object(r.a)())},u.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<i?1/a:0},u.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=i?1:(t-n+1)/a},u.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*a):NaN},u.min(e).max(t)}},function(e,t,n){"use strict";var r=n(694),i=n(275),a=n(214);t.a=function(e,t){var n=Object(i.b)(),u={},o=0;return u.data=function(n){return arguments.length?(e=n,o=n?n.length:0,u.bandwidth(t)):e},u.bandwidth=function(n){return arguments.length?(!(t=n)&&e&&(t=Object(r.a)(e)),u):t},u.sample=function(){return e[~~(Object(a.a)()*o)]+t*n.sample()},u.pdf=function(r){for(var i=0,a=0;a<o;++a)i+=n.pdf((r-e[a])/t);return i/t/o},u.cdf=function(r){for(var i=0,a=0;a<o;++a)i+=n.cdf((r-e[a])/t);return i/o},u.icdf=function(){throw Error("KDE icdf not supported.")},u.data(e)}},function(e,t,n){"use strict";var r=n(214);t.a=function(e,t){var n,i={},a=0;function u(e){var t,n=[],r=0;for(t=0;t<a;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<a;++t)n[t]/=r;return n}return i.weights=function(e){return arguments.length?(n=u(t=e||[]),i):t},i.distributions=function(n){return arguments.length?(n?(a=n.length,e=n):(a=0,e=[]),i.weights(t)):e},i.sample=function(){for(var t=Object(r.a)(),i=e[a-1],u=n[0],o=0;o<a-1;u+=n[++o])if(t<u){i=e[o];break}return i.sample()},i.pdf=function(t){for(var r=0,i=0;i<a;++i)r+=n[i]*e[i].pdf(t);return r},i.cdf=function(t){for(var r=0,i=0;i<a;++i)r+=n[i]*e[i].cdf(t);return r},i.icdf=function(){throw Error("Mixture icdf not supported.")},i.distributions(e).weights(t)}},function(e,t,n){"use strict";var r=n(329),i=n(203),a=n(279);t.a=function(e,t,n){let u=0,o=0,s=0,f=0,c=0;Object(i.b)(e,t,n,(e,t)=>{++c,e=Math.log(e),u+=(e-u)/c,o+=(t-o)/c,s+=(e*t-s)/c,f+=(e*e-f)/c});const l=Object(r.a)(u,o,s,f),d=e=>l[0]+l[1]*Math.log(e);return{coef:l,predict:d,rSquared:Object(a.a)(e,t,n,o,d)}}},function(e,t,n){"use strict";var r=n(329),i=n(203),a=n(279);t.a=function(e,t,n){const[u,o,s,f]=Object(i.a)(e,t,n);let c,l,d,p=0,m=0,b=0,g=0,h=0;Object(i.b)(e,t,n,(e,t)=>{c=u[h++],l=Math.log(t),d=c*t,p+=(t*l-p)/h,m+=(d-m)/h,b+=(d*l-b)/h,g+=(c*d-g)/h});const[y,v]=Object(r.a)(m/f,p/f,b/f,g/f),O=e=>Math.exp(y+v*(e-s));return{coef:[Math.exp(y-v*s),v],predict:O,rSquared:Object(a.a)(e,t,n,f,O)}}},function(e,t,n){"use strict";var r=n(329),i=n(203),a=n(279);t.a=function(e,t,n){let u=0,o=0,s=0,f=0,c=0,l=0;Object(i.b)(e,t,n,(e,t)=>{const n=Math.log(e),r=Math.log(t);++l,u+=(n-u)/l,o+=(r-o)/l,s+=(n*r-s)/l,f+=(n*n-f)/l,c+=(t-c)/l});const d=Object(r.a)(u,o,s,f),p=e=>d[0]*Math.pow(e,d[1]);return d[0]=Math.exp(d[0]),{coef:d,predict:p,rSquared:Object(a.a)(e,t,n,c,p)}}},function(e,t,n){"use strict";var r=n(697),i=n(203),a=n(698),u=n(279);function o(e,t,n,r){const i=Array(e);let a,u,o,s;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(o=t[a],s=1,i[a]+=o,u=1;u<=a;++u)s*=(a+1-u)/u,i[a-u]+=o*Math.pow(n,u)*s;return i[0]+=r,i}t.a=function(e,t,n,s){if(1===s)return Object(r.a)(e,t,n);if(2===s)return Object(a.a)(e,t,n);const[f,c,l,d]=Object(i.a)(e,t,n),p=f.length,m=[],b=[],g=s+1;let h,y,v,O,j;for(h=0;h<g;++h){for(v=0,O=0;v<p;++v)O+=Math.pow(f[v],h)*c[v];for(m.push(O),j=new Float64Array(g),y=0;y<g;++y){for(v=0,O=0;v<p;++v)O+=Math.pow(f[v],h+y);j[y]=O}b.push(j)}b.push(m);const $=function(e){const t=e.length-1,n=[];let r,i,a,u,o;for(r=0;r<t;++r){for(u=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][u])&&(u=i);for(a=r;a<t+1;++a)o=e[a][r],e[a][r]=e[a][u],e[a][u]=o;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(o=0,a=i+1;a<t;++a)o+=e[a][i]*n[a];n[i]=(e[t][i]-o)/e[i][i]}return n}(b),x=e=>{e-=l;let t=d+$[0]+$[1]*e+$[2]*e*e;for(h=3;h<g;++h)t+=$[h]*Math.pow(e,h);return t};return{coef:o(g,$,-l,d),predict:x,rSquared:Object(u.a)(e,t,n,d,x)}}},function(e,t,n){"use strict";var r=n(329),i=n(203),a=n(1688);function u(e){return(e=1-e*e*e)*e*e}function o(e,t,n){let r=e[t],i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}t.a=function(e,t,n,s){const[f,c,l,d]=Object(i.a)(e,t,n,!0),p=f.length,m=Math.max(2,~~(s*p)),b=new Float64Array(p),g=new Float64Array(p),h=new Float64Array(p).fill(1);for(let e=-1;++e<=2;){const t=[0,m-1];for(let e=0;e<p;++e){const n=f[e],i=t[0],a=t[1],s=n-f[i]>f[a]-n?i:a;let l=0,d=0,p=0,m=0,y=0,v=1/Math.abs(f[s]-n||1);for(let e=i;e<=a;++e){const t=f[e],r=c[e],i=u(Math.abs(n-t)*v)*h[e],a=t*i;l+=i,d+=a,p+=r*i,m+=r*a,y+=t*a}const[O,j]=Object(r.a)(d/l,p/l,m/l,y/l);b[e]=O+j*n,g[e]=Math.abs(c[e]-b[e]),o(f,e+1,t)}if(2===e)break;const n=Object(a.a)(g);if(Math.abs(n)<1e-12)break;for(let e,t,r=0;r<p;++r)e=g[r]/(6*n),h[r]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t,n,r){const i=e.length,a=[];let u,o=0,s=0,f=[];for(;o<i;++o)u=e[o]+n,f[0]===u?f[1]+=(t[o]-f[1])/++s:(s=0,f[1]+=r,f=[u,t[o]],a.push(f));return f[1]+=r,a}(f,b,l,d)}},function(e,t,n){"use strict";const r=.1*Math.PI/180;function i(e,t,n){const r=Math.atan2(n[1]-e[1],n[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-i)}t.a=function(e,t,n,a){n=n||25,a=Math.max(n,a||200);const u=t=>[t,e(t)],o=t[0],s=t[1],f=s-o,c=f/a,l=[u(o)],d=[];if(n===a){for(let e=1;e<a;++e)l.push(u(o+e/n*f));return l.push(u(s)),l}d.push(u(s));for(let e=n;--e>0;)d.push(u(o+e/n*f));let p=l[0],m=d[d.length-1];for(;m;){const e=u((p[0]+m[0])/2);e[0]-p[0]>=c&&i(p,e,m)>r?d.push(e):(p=m,l.push(m),d.pop()),m=d[d.length-1]}return l}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(72),a=n(1);function u(e){r.g.call(this,null,e)}u.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var o=Object(a.y)(u,r.g);o.transform=function(e,t){var n,r=!1!==e.interval,i=this._bins(e),u=i.start,o=i.step,s=e.as||["bin0","bin1"],f=s[0],c=s[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(a.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=i(e);e[f]=t,e[c]=null==t?null:u+o*(1+(t-u)/o)}:function(e){e[f]=i(e)}),t.modifies(r?s:f)},o._bins=function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,u=Object(i.b)(e),o=u.step,s=u.start,f=s+Math.ceil((u.stop-s)/o)*o;null!=(t=e.anchor)&&(n=t-(s+o*Math.floor((t-s)/o)),s+=n,f+=n);var c=function(e){var t=r(e);return null==t?null:t<s?-1/0:t>f?1/0:(t=Math.max(s,Math.min(+t,f-o)),s+o*Math.floor(1e-14+(t-s)/o))};return c.start=s,c.stop=u.stop,c.step=o,this.value=Object(a.f)(c,Object(a.g)(r),e.name||"bin_"+Object(a.h)(r))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(762),i=n(14),a=n(1);function u(e){i.g.call(this,[],e)}u.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(a.y)(u,i.g).transform=function(e,t){var n=t.fork(t.ALL),a=Object(r.a)(i.t,this.value,n.materialize(n.ADD).add),u=e.sort,o=t.changed()||u&&(e.modified("sort")||t.modified(u.fields));return n.visit(n.REM,a.remove),this.modified(o),this.value=n.source=a.data(Object(i.q)(u),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){return this.value&&!e.modified()?this.value:Object(i.k)(e.fields,e.orders)}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var u=Object(i.y)(a,r.g);u.transform=function(e,t){function n(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(o(n),e.case,a)||[],s=0,f=i.length;s<f;++s)u.test(r=i[s])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,a=this._match,u=this._stop,o=e.field,s=e.as||["text","count"],f=n((function(e){i[e]=1+(i[e]||0)})),c=n((function(e){i[e]-=1}));return r?t.visit(t.SOURCE,f):(t.visit(t.ADD,f),t.visit(t.REM,c)),this._finish(t,s)},u._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},u._finish=function(e,t){var n,i,a,u=this._counts,o=this._tuples||(this._tuples={}),s=t[0],f=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in u)i=o[n],a=u[n]||0,!i&&a?(o[n]=i=Object(r.l)({}),i[s]=n,i[f]=a,c.add.push(i)):0===a?(i&&c.rem.push(i),u[n]=null,o[n]=null):i[f]!==a&&(i[f]=a,c.mod.push(i));return c.modifies(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(i.y)(a,r.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=this.value,u=e.as||["a","b"],o=u[0],s=u[1];return!a||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter")?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,i){for(var a,u,o=[],s={},f=e.length,c=0;c<f;++c)for(s[t]=u=e[c],a=0;a<f;++a)s[n]=e[a],i(s)&&(o.push(Object(r.l)(s)),(s={})[t]=u);return o}(a,o,s,e.filter||i.gb)):n.mod=a,n.source=this.value,n.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1301),i=n(14),a=n(72),u=n(1);function o(e){i.g.call(this,null,e)}var s=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],f={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:s},{name:"weights",type:"number",array:!0}]};o.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:s.concat(f)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(u.y)(o,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var o=Object(r.a)(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),s=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200,c=e.method||"pdf";"pdf"!==c&&"cdf"!==c&&Object(u.n)("Invalid density method: "+c),e.extent||o.data||Object(u.n)("Missing density extent parameter."),c=o[c];var l=e.as||["value","density"],d=e.extent||Object(u.p)(o.data()),p=Object(a.E)(c,d,s,f).map(e=>{var t={};return t[l[0]]=e[0],t[l[1]]=e[1],Object(i.l)(t)});this.value&&(n.rem=this.value),this.value=n.add=n.source=p}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(330),i=n(14),a=n(72),u=n(1);function o(e){i.g.call(this,null,e)}o.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},Object(u.y)(o,i.g).transform=function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const n=t.materialize(t.SOURCE).source,o=Object(r.b)(t.source,e.groupby,u.x),s=e.smooth||!1,f=e.field,c=e.step||function(e,t){return Object(u.X)(Object(u.p)(e,t))/30}(n,f),l=Object(i.q)((e,t)=>f(e)-f(t)),d=e.as||"bin",p=o.length;let m,b=1/0,g=-1/0,h=0;for(;h<p;++h){const e=o[h].sort(l);m=-1;for(const t of Object(a.j)(e,c,s,f))t<b&&(b=t),t>g&&(g=t),e[++m][d]=t}return this.value={start:b,stop:g,step:c},t.reflow(!0).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,u,e),this.modified(!0)}function u(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(i.f)(n=>t(n,e),Object(i.g)(t),Object(i.h)(t))}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[void 0,void 0],e)}a.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(i.y)(a,r.g).transform=function(e,t){var n,r=this.value,a=e.field,u=r[0],o=r[1];if(((n=t.changed()||t.modified(a.fields)||e.modified("field"))||null==u)&&(u=1/0,o=-1/0),t.visit(n?t.SOURCE:t.ADD,(function(e){var t=a(e);null!=t&&((t=+t)<u&&(u=t),t>o&&(o=t))})),!Number.isFinite(u)||!Number.isFinite(o)){let e=Object(i.h)(a);e&&(e=` for field "${e}"`),t.dataflow.warn(`Infinite extent${e}: [${u}, ${o}]`),u=o=void 0}this.value=[u,o]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){return this.value&&!e.modified()?this.value:Object(i.A)(e.name)?Object(i.i)(e.name).map((function(e){return Object(i.t)(e)})):Object(i.t)(e.name,e.as)}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,Object(i.s)(),e)}a.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow,i=this.value,a=t.fork(),u=a.add,o=a.rem,s=a.mod,f=e.expr,c=!0;function l(t){var n=Object(r.t)(t),a=f(t,e),l=i.get(n);a&&l?(i.delete(n),u.push(t)):a||l?c&&a&&!l&&s.push(t):(i.set(n,1),o.push(t))}return t.visit(t.REM,(function(e){var t=Object(r.t)(e);i.has(t)?i.delete(t):o.push(e)})),t.visit(t.ADD,(function(t){f(t,e)?u.push(t):i.set(Object(r.t)(t),1)})),t.visit(t.MOD,l),e.modified()&&(c=!1,t.visit(t.REFLOW,l)),i.empty>n.cleanThreshold&&n.runAfter(i.clean),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(330),i=n(14),a=n(1);function u(e){i.g.call(this,[],e)}u.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(a.y)(u,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=e.fields,u=Object(r.a)(a,e.as||[]),o=e.index||null,s=u.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,r,f,c=a.map(t=>t(e)),l=c.reduce((e,t)=>Math.max(e,t.length),0),d=0;d<l;++d){for(r=Object(i.k)(e),t=0;t<s;++t)r[u[t]]=null==(f=c[t][d])?null:f;o&&(r[o]=d),n.add.push(r)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[],e)}a.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(i.y)(a,r.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=e.fields,u=a.map(i.h),o=e.as||["key","value"],s=o[0],f=o[1],c=a.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,i=0;i<c;++i)(t=Object(r.k)(e))[s]=u[i],t[f]=a[i](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(i.y)(a,r.g).transform=function(e,t){var n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,t=>t[r]=n(t,e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[],e)}Object(i.y)(a,r.g).transform=function(e,t){var n,i,a,u=this.value,o=t.fork(t.ALL),s=e.size-u.length,f=e.generator;if(s>0){for(n=[];--s>=0;)n.push(a=Object(r.l)(f(e))),u.push(a);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else i=u.slice(0,-s),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(i):i,u=u.slice(-s);return o.source=this.value=u,o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),i=n(1),a=n(1688),u=n(1988),o=n(859),s=n(447),f={value:"value",median:a.a,mean:u.a,min:o.a,max:s.a},c=[];function l(e){r.g.call(this,[],e)}l.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(i.y)(l,r.g).transform=function(e,t){var n,a,u,o,s,l,d,p,m,b,g=t.fork(t.ALL),h=function(e){var t,n=e.method||f.value;if(null!=f[n])return n===f.value?(t=void 0!==e.value?e.value:0,function(){return t}):f[n];Object(i.n)("Unrecognized imputation method: "+n)}(e),y=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),v=Object(i.h)(e.field),O=Object(i.h)(e.key),j=(e.groupby||[]).map(i.h),$=function(e,t,n,r){var i,a,u,o,s,f,l,d,p=function(e){return e(d)},m=[],b=r?r.slice():[],g={},h={};for(b.forEach((function(e,t){g[e]=t+1})),o=0,l=e.length;o<l;++o)d=e[o],f=n(d),s=g[f]||(g[f]=b.push(f)),a=(i=t?t.map(p):c)+"",(u=h[a])||(u=h[a]=[],m.push(u),u.values=i),u[s-1]=d;return m.domain=b,m}(t.source,e.groupby,e.key,e.keyvals),x=[],k=this.value,A=$.domain.length;for(s=0,p=$.length;s<p;++s)for(u=(n=$[s]).values,a=NaN,d=0;d<A;++d)if(null==n[d]){for(o=$.domain[d],b={_impute:!0},l=0,m=u.length;l<m;++l)b[j[l]]=u[l];b[O]=o,b[v]=Number.isNaN(a)?a=h(n,y):a,x.push(Object(r.l)(b))}return x.length&&(g.add=g.materialize(g.ADD).add.concat(x)),k.length&&(g.rem=g.materialize(g.REM).rem.concat(k)),this.value=x,g}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(410),i=n(229),a=n(1);function u(e){r.a.call(this,e)}u.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:i.a},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var o=Object(a.y)(u,r.a);o.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){r.rem(e)})),t.visit(t.ADD,(function(e){r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(a.o)(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},o.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(330),i=n(72),a=n(14),u=n(1);function o(e){a.g.call(this,null,e)}o.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(u.y)(o,a.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=t.materialize(t.SOURCE).source,s=Object(r.b)(o,e.groupby,e.field),f=(e.groupby||[]).map(u.h),c=e.bandwidth,l=e.cumulative?"cdf":"pdf",d=e.as||["value","density"],p=[];let m=e.extent,b=e.steps||e.minsteps||25,g=e.steps||e.maxsteps||200;"pdf"!==l&&"cdf"!==l&&Object(u.n)("Invalid density method: "+l),"shared"===e.resolve&&(m||(m=Object(u.p)(o,e.field)),b=g=e.steps||g),s.forEach(t=>{const n=Object(i.r)(t,c)[l],r=e.counts?t.length:1,o=m||Object(u.p)(t);Object(i.E)(n,o,b,g).forEach(e=>{const n={};for(let e=0;e<f.length;++e)n[f[e]]=t.dims[e];n[d[0]]=e[0],n[d[1]]=e[1]*r,p.push(Object(a.l)(n))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=p}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){return this.value&&!e.modified()?this.value:Object(i.I)(e.fields,e.flat)}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[],e),this._pending=null}function u(e,t,n){n.forEach(r.l);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=n,e._pending=null,i}Object(i.y)(a,r.g).transform=function(e,t){const n=t.dataflow;if(this._pending)return u(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return u(this,t,n.parse(e.values,e.format));if(e.async){return{async:n.request(e.url,e.format).then(e=>(this._pending=Object(i.i)(e.data),e=>e.touch(this)))}}return n.request(e.url,e.format).then(e=>u(this,t,Object(i.i)(e.data)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,{},e)}a.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(i.y)(a,r.g).transform=function(e,t){var n,r,a=t,u=e.as,o=e.fields,s=e.index,f=e.values,c=null==e.default?null:e.default,l=e.modified(),d=l?t.SOURCE:t.ADD,p=o.length;return f?(r=f.length,p>1&&!u&&Object(i.n)('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==p*r&&Object(i.n)('The "as" parameter has too few output field names.'),u=u||f.map(i.h),n=function(e){for(var t,n,i=0,a=0;i<p;++i)if(null==(n=s.get(o[i](e))))for(t=0;t<r;++t,++a)e[u[a]]=c;else for(t=0;t<r;++t,++a)e[u[a]]=f[t](n)}):(u||Object(i.n)("Missing output field names."),n=function(e){for(var t,n=0;n<p;++n)t=s.get(o[n](e)),e[u[n]]=null==t?c:t}),l?a=t.reflow(!0):d|=o.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(d,n),a.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,a=-1/0,u=e.extents;for(t=0,n=u.length;t<n;++t)(r=u[t])[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,u,e)}function u(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g),a.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(410),i=n(229),a=n(1);function u(e){r.a.call(this,e)}u.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:i.a,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var o=Object(a.y)(u,r.a);o._transform=o.transform,o.transform=function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",u=Object(a.g)(n).concat(Object(a.g)(r)),o=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort((function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0)})),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:o.map((function(){return i})),fields:o.map((function(e){return function(e,t,n,r){return Object(a.f)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,u)})),as:o.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(605),i=n(14),a=n(1);function u(e){r.a.call(this,e)}Object(a.y)(u,r.a).transform=function(e,t){var n=this,r=e.subflow,u=e.field;return(e.modified("field")||u&&t.modified(Object(a.g)(u)))&&Object(a.n)("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,(function(e){var a=n.subflow(Object(i.t)(e),r,t,e);u?u(e).forEach((function(e){a.mod(e)})):a.mod(e)})),t.visit(t.ADD,(function(e){var a=n.subflow(Object(i.t)(e),r,t,e);u?u(e).forEach((function(e){a.add(Object(i.l)(e))})):a.add(e)})),t.visit(t.REM,(function(e){var a=n.subflow(Object(i.t)(e),r,t,e);u?u(e).forEach((function(e){a.rem(e)})):a.rem(e)})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(330),i=n(14),a=n(1);function u(e){i.g.call(this,null,e)}u.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(a.y)(u,i.g).transform=function(e,t){var n,a,u=e.fields,o=Object(r.a)(e.fields,e.as||[]),s=u?function(e,t){return function(e,t,n,r){for(var i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}(e,t,u,o)}:i.o;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=Object(i.t)(e);n.rem.push(a[t]),a[t]=null})),t.visit(t.ADD,(function(e){var t=s(e,Object(i.l)({}));a[Object(i.t)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){n.mod.push(s(e,a[Object(i.t)(e)]))})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(330),i=n(14),a=n(72),u=n(1),o=n(395);function s(e){i.g.call(this,null,e)}s.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};var f=Object(u.y)(s,i.g);f.transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const f=t.materialize(t.SOURCE).source,c=Object(r.b)(f,e.groupby,e.field),l=(e.groupby||[]).map(u.h),d=[],p=e.step||.01,m=e.probs||Object(o.a)(p/2,1-1e-14,p),b=m.length;return c.forEach(e=>{const t=Object(a.n)(e,m);for(let n=0;n<b;++n){const r={};for(let t=0;t<l.length;++t)r[l[t]]=e.dims[t];r[s[0]]=m[n],r[s[1]]=t[n],d.push(Object(i.l)(r))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n,i;return this.value?i=this.value:(n=t=t.addAll(),i=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,e=>{var t=Object(r.t)(e);n.rem.push(i[t]),i[t]=null}),t.visit(t.ADD,e=>{var t=Object(r.k)(e);i[Object(r.t)(e)]=t,n.add.push(t)}),t.visit(t.MOD,e=>{var t,a=i[Object(r.t)(e)];for(t in e)a[t]=e[t],n.modifies(t);n.mod.push(a)})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(72),a=n(1);function u(e){r.g.call(this,[],e),this.count=0}u.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(a.y)(u,r.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=e.modified("size"),u=e.size,o=this.value,s=this.count,f=0,c=o.reduce((function(e,t){return e[Object(r.t)(t)]=1,e}),{});function l(e){var t,a;o.length<u?o.push(e):(a=~~((s+1)*Object(i.p)()))<o.length&&a>=f&&(t=o[a],c[Object(r.t)(t)]&&n.rem.push(t),o[a]=e),++s}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=Object(r.t)(e);c[t]&&(c[t]=-1,n.rem.push(e)),--s})),o=o.filter((function(e){return-1!==c[Object(r.t)(e)]}))),(t.rem.length||a)&&o.length<u&&t.source&&(f=s=o.length,t.visit(t.SOURCE,(function(e){c[Object(r.t)(e)]||l(e)})),f=-1),a&&o.length>u){for(var d=0,p=o.length-u;d<p;++d)c[Object(r.t)(o[d])]=-1,n.rem.push(o[d]);o=o.slice(p)}return t.mod.length&&t.visit(t.MOD,(function(e){c[Object(r.t)(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,l),(t.add.length||f<0)&&(n.add=o.filter((function(e){return!c[Object(r.t)(e)]}))),this.count=s,this.value=n.source=o,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(1),a=n(395);function u(e){r.g.call(this,null,e)}u.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(i.y)(u,r.g).transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),i=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Object(a.a)(e.start,e.stop,e.step||1).map((function(e){var t={};return t[i]=e,Object(r.l)(t)})),n.add=t.add.concat(this.value),n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e),this.modified(!0)}Object(i.y)(a,r.g).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(122),a=n(1);function u(e){r.g.call(this,null,e)}const o=["unit0","unit1"];u.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:i.a,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:o}]};var s=Object(a.y)(u,r.g);s.transform=function(e,t){var n=e.field,r=!1!==e.interval,u="utc"===e.timezone,s=this._floor(e,t),f=(u?i.m:i.f)(s.unit).offset,c=e.as||o,l=c[0],d=c[1],p=s.start||1/0,m=s.stop||-1/0,b=s.step,g=t.ADD;return(e.modified()||t.modified(Object(a.g)(n)))&&(g=(t=t.reflow(!0)).SOURCE,p=1/0,m=-1/0),t.visit(g,(function(e){var t,i,a=n(e);null==a?(e[l]=null,r&&(e[d]=null)):(e[l]=t=i=s(a),r&&(e[d]=i=f(t,b)),t<p&&(p=t),i>m&&(m=i))})),s.start=p,s.stop=m,t.modifies(r?c:l)},s._floor=function(e,t){const n="utc"===e.timezone;let{units:r,step:u}=e.units?{units:e.units,step:e.step||1}:Object(i.c)({extent:e.extent||Object(a.p)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins});r=Object(i.j)(r);const o=this.value||{},s=(n?i.k:i.d)(r,u);return s.unit=Object(a.U)(r),s.units=r,s.step=u,s.start=o.start,s.stop=o.stop,this.value=s}},function(e,t,n){"use strict";var r=n(33),i=n(1),a=n(650),u=n(274);const o=[r.l,r.g,r.a,r.d,r.f,r.i,r.e],s=o.slice(0,-1),f=s.slice(0,-1),c=f.slice(0,-1),l=c.slice(0,-1),d=[r.l,r.k],p=[r.l,r.g],m=[r.l],b=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[f,1,6e4],[f,5,3e5],[f,15,9e5],[f,30,18e5],[c,1,36e5],[c,3,108e5],[c,6,216e5],[c,12,432e5],[l,1,864e5],[d,1,6048e5],[p,1,2592e6],[p,3,7776e6],[m,1,31536e6]];t.a=function(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Object(i.X)(t))/n;let s,f,c=Object(a.a)(e=>e[2]).right(b,r);return c===b.length?(s=m,f=Object(u.c)(t[0]/31536e6,t[1]/31536e6,n)):c?(c=b[r/b[c-1][2]<b[c][2]/r?c-1:c],s=c[0],f=c[1]):(s=o,f=Math.max(Object(u.c)(t[0],t[1],n),1)),{units:s,step:f}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,Object(i.s)(),e)}Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow,r=e.field,i=this.value,a=!0;function u(e){i.set(r(e),e)}return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,u)):t.changed()?(t.visit(t.REM,(function(e){i.delete(r(e))})),t.visit(t.ADD,u)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Object(r.q)(e.sort)):t.source).map(e.field))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(616),i=n(229),a=n(762),u=n(618),o=n(1302),s=n(14),f=n(1),c=n(650);function l(e){s.g.call(this,{},e),this._mlen=0,this._mods=[]}l.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:u.a.concat(i.a)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var d=Object(f.y)(l,s.g);function p(e,t,n,r){var i=r.sort,a=i&&!r.ignorePeers,u=r.frame||[null,0],o=e.data(n),s=o.length,l=0,d=a?Object(c.a)(i):null,p={i0:0,i1:0,p0:0,p1:0,index:0,data:o,compare:i||Object(f.l)(-1)};for(t.init();l<s;++l)m(p,u,l,s),a&&b(p,d),t.update(p,o[l])}function m(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function b(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,u=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<u&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}d.transform=function(e,t){var n,i,a=this,u=a.state,f=e.modified(),c=Object(s.q)(e.sort);this.stamp=t.stamp,u&&!f||(u=a.state=new o.a(e));var l=Object(r.a)(e.groupby);function d(e){return a.group(l(e))}for(f||t.modified(u.inputs)?(a.value={},t.visit(t.SOURCE,(function(e){d(e).add(e)}))):(t.visit(t.REM,(function(e){d(e).remove(e)})),t.visit(t.ADD,(function(e){d(e).add(e)}))),n=0,i=a._mlen;n<i;++n)p(a._mods[n],u,c,e);return a._mlen=0,a._mods=[],t.reflow(f).modifies(u.outputs)},d.group=function(e){var t=this.value[e];return t||((t=this.value[e]=Object(a.a)(s.t)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(35),i=n(14),a=n(76),u=n(1);function o(e){i.g.call(this,null,e)}function s(e,t,n){return t(e.bounds.clear(),e,n)}Object(u.y)(o,i.g).transform=function(e,t){var n,i=t.dataflow,u=e.mark,o=u.marktype,f=a.h[o],c=f.bound,l=u.bounds;if(f.nested)u.items.length&&i.dirty(u.items[0]),l=s(u,c),u.items.forEach((function(e){e.bounds.clear().union(l)}));else if(o===r.q||e.modified())switch(t.visit(t.MOD,e=>i.dirty(e)),l.clear(),u.items.forEach(e=>l.union(s(e,c))),u.role){case r.b:case r.s:case r.F:t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,e=>{l.union(s(e,c))}),t.visit(t.MOD,e=>{n=n||l.alignsWith(e.bounds),i.dirty(e),l.union(s(e,c))}),n&&(l.clear(),u.items.forEach(e=>l.union(e.bounds)));return Object(a.p)(u),t.modifies("bounds")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(170),i=n(700),a=n(513);function u(e){arguments.length?this.root=Object(a.a)(e):(this.root=s({marktype:"group",name:"root",role:"frame"}),this.root.items=[new i.a(this.root)])}var o=u.prototype;function s(e,t){const n={bounds:new r.a,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}o.toJSON=function(e){return Object(a.b)(this.root,e||0)},o.mark=function(e,t,n){var r=s(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(984),i=n(360);function a(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function u(e,t){for(let n in e)s(n,t(e[n]))}const o={};function s(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(o[e]=t,this):o[e]}u(r.b,a),u(r.a,e=>Object(i.b)(a(e)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(459),i=n(36),a=n(193),u=n(122),o=n(1);function s(e,t){t=t||{};const n=Math.max(3,t.maxlen||7),s=function(e,t,n){const s=n||e.type;return Object(o.H)(t)&&Object(a.g)(s)&&(t=t.replace(/%a/g,"%A").replace(/%b/g,"%B")),t||s!==i.u?t||s!==i.v?Object(r.a)(e,5,null,t,n,!0):Object(u.l)("%A, %d %B %Y, %X UTC"):Object(u.e)("%A, %d %B %Y, %X")}(e,t.format,t.formatType);if(Object(a.c)(e.type)){const t=Object(r.c)(e).slice(1).map(s),n=t.length;return`${n} boundar${1===n?"y":"ies"}: ${t.join(", ")}`}if(Object(a.b)(e.type)){const t=e.domain(),r=t.length;return`${r} value${1===r?"":"s"}: ${r>n?t.slice(0,n-2).map(s).join(", ")+", ending with "+t.slice(-1).map(s):t.map(s).join(", ")}`}{const t=e.domain();return`values from ${s(t[0])} to ${s(Object(o.U)(t))}`}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(175),i=n(1),a=n(170);function u(e,t,n){const r=[],u=(new a.a).union(t),f=e.marktype;return f?o(e,u,n,r):"group"===f?s(e,u,n,r):Object(i.n)("Intersect scene must be mark node or group item.")}function o(e,t,n,i){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const a=e.items,u=e.marktype,o=a.length;let c=0;if("group"===u)for(;c<o;++c)s(a[c],t,n,i);else for(const e=r.a[u].isect;c<o;++c){let n=a[c];f(n,t,e)&&i.push(n)}}return i}function s(e,t,n,i){n&&n(e.mark)&&f(e,t,r.a.group.isect)&&i.push(e);const a=e.items,u=a&&a.length;if(u){const r=e.x||0,s=e.y||0;t.translate(-r,-s);for(let e=0;e<u;++e)o(a[e],t,n,i);t.translate(r,s)}return i}function f(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}},function(e,t,n){"use strict";var r=n(170),i=n(325),a=n(1),u=new r.a;t.a=function(e){var t=e.clip;if(Object(a.D)(t))t(Object(i.a)(u.clear()));else{if(!t)return;u.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,0,e)}a.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(i.y)(a,r.g).transform=function(e,t){var n=function(e){var t=e._signals[":vega_identifier:"];t||(e._signals[":vega_identifier:"]=t=e.add(0));return t}(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,e=>{e[i]||(e[i]=++r)}),n.set(this.value=r),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(35),i=n(14),a=n(76),u=n(1);function o(e){i.g.call(this,null,e)}Object(u.y)(o,i.g).transform=function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var i=n.marktype===r.q?a.e:a.g;return t.visit(t.ADD,e=>i.call(e,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(35),i=n(14),a=n(76),u=n(1);function o(e){i.g.call(this,null,e)}var s=Object(u.y)(o,i.g),f={parity:e=>e.filter((e,t)=>t%2?e.opacity=0:1),greedy:(e,t)=>{var n;return e.filter((e,r)=>r&&c(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1))}};function c(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)}function l(e,t){for(var n,r=1,i=e.length,a=e[0].bounds;r<i;a=n,++r)if(c(a,n=e[r].bounds,t))return!0}function d(e){var t=e.bounds;return t.width()>1&&t.height()>1}function p(e){return e.forEach(e=>e.opacity=1),e}function m(e,t){return e.reflow(t.modified()).modifies("opacity")}s.transform=function(e,t){var n,i,o,s=f[e.method]||f.parity,c=t.materialize(t.SOURCE).source,b=e.separation||0;if(c&&c.length){if(!e.method)return e.modified("method")&&(p(c),t=m(t,e)),t;if((c=c.filter(d)).length){if(e.sort&&(c=c.slice().sort(e.sort)),n=p(c),t=m(t,e),n.length>=3&&l(n,b)){do{n=s(n,b)}while(n.length>=3&&l(n,b));n.length<3&&!Object(u.U)(c).opacity&&(n.length>1&&(Object(u.U)(n).opacity=0),Object(u.U)(c).opacity=1)}var g,h,y,v,O;return e.boundScale&&e.boundTolerance>=0&&(g=e.boundScale,h=e.boundOrient,y=+e.boundTolerance,v=g.range(),O=new a.a,h===r.G||h===r.c?O.set(v[0],-1/0,v[1],1/0):O.set(-1/0,v[0],1/0,v[1]),O.expand(y||1),i=e=>O.encloses(e.bounds),c.forEach(e=>{i(e)||(e.opacity=0)})),o=n[0].mark.bounds.clear(),c.forEach(e=>{e.opacity&&o.union(e.bounds)}),t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,e=>n.dirty(e)),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(35),i=n(985),a=n(986),u=n(987),o=n(1335),s=n(14),f=n(76),c=n(1);function l(e){s.g.call(this,null,e)}Object(c.y)(l,s.g).transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach(t=>{e.layout&&Object(a.b)(n,t,e.layout),function(e,t,n){var s,c,l,d,p,m=t.items,b=Math.max(0,t.width||0),g=Math.max(0,t.height||0),h=(new f.a).set(0,0,b,g),y=h.clone(),v=h.clone(),O=[];for(d=0,p=m.length;d<p;++d)switch((c=m[d]).role){case r.b:(Object(i.b)(c)?y:v).union(Object(i.a)(e,c,b,g));break;case r.F:s=c;break;case r.s:O.push(Object(u.a)(e,c));break;case r.p:case r.C:case r.A:case r.z:case r.B:case r.g:case r.f:case r.h:y.union(c.bounds),v.union(c.bounds);break;default:h.union(c.bounds)}if(O.length){const t={};O.forEach(e=>{(l=e.orient||r.x)!==r.u&&(t[l]||(t[l]=[])).push(e)});for(let r in t){const i=t[r];Object(a.a)(e,i,Object(u.b)(i,r,n.legends,y,v,b,g))}O.forEach(t=>{const i=t.bounds;if(i.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=i,e.dirty(t)),n.autosize&&n.autosize.type===r.l)switch(t.orient){case r.r:case r.x:h.add(i.x1,0).add(i.x2,0);break;case r.G:case r.c:h.add(0,i.y1).add(0,i.y2)}else h.union(i)})}h.union(y).union(v),s&&h.union(Object(o.a)(e,s,b,g,h));t.clip&&h.set(0,0,t.width||0,t.height||0);!function(e,t,n,i){const a=i.autosize||{},u=a.type;if(e._autosize<1||!u)return;let o=e._width,s=e._height,f=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,Math.ceil(n.x2-f)),d=Math.max(0,t.height||0),p=Math.max(0,Math.ceil(-n.y1)),m=Math.max(0,Math.ceil(n.y2-d));if(a.contains===r.w){const t=e.padding();o-=t.left+t.right,s-=t.top+t.bottom}u===r.u?(c=0,p=0,f=o,d=s):u===r.l?(f=Math.max(0,o-c-l),d=Math.max(0,s-p-m)):u===r.m?(f=Math.max(0,o-c-l),s=d+p+m):u===r.n?(o=f+c+l,d=Math.max(0,s-p-m)):u===r.v&&(o=f+c+l,s=d+p+m);e._resizeView(o,s,f,d,[c,p],a.resize)}(e,t,h,n)}(n,t,e)}),e.modified()&&t.reflow(),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(47),a=n(1);function u(e){r.g.call(this,null,e)}Object(a.y)(u,r.g).transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=this.value,u=e.scale,o=null==e.count?e.values?e.values.length:10:e.count,s=Object(i.M)(u,o,e.minstep),f=e.format||Object(i.N)(u,s,e.formatSpecifier,e.formatType,!!e.values),c=e.values?Object(i.P)(u,e.values,s):Object(i.O)(u,s);return a&&(n.rem=a),a=c.map((function(e,t){return Object(r.l)({index:t/(c.length-1||1),value:e,label:f(e)})})),e.extra&&a.length&&a.push(Object(r.l)({index:-1,extra:{value:a[0].value},label:""})),n.source=a,n.add=a,this.value=a,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}function u(){return Object(r.l)({})}function o(e){return e.exit}Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.item||u,f=e.key||r.t,c=this.value;return Object(i.A)(a.encode)&&(a.encode=null),c&&(e.modified("key")||t.modified(f))&&Object(i.n)("DataJoin does not support modified key function or fields."),c||(t=t.addAll(),this.value=c=Object(i.s)().test(o),c.lookup=function(e){return c.get(f(e))}),t.visit(t.ADD,(function(e){var t=f(e),n=c.get(t);n?n.exit?(c.empty--,a.add.push(n)):a.mod.push(n):(c.set(t,n=s(e)),a.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=f(e),n=c.get(t);n&&(n.datum=e,a.mod.push(n))})),t.visit(t.REM,(function(e){var t=f(e),n=c.get(t);e!==n.datum||n.exit||(a.rem.push(n),n.exit=!0,++c.empty)})),t.changed(t.ADD_MOD)&&a.modifies("datum"),e.clean&&c.empty>n.cleanThreshold&&n.runAfter(c.clean),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,a=e.encoders,u=t.encode;if(Object(i.A)(u)){if(!n.changed()&&!u.every((function(e){return a[e]})))return t.StopPropagation;u=u[0],n.encode=null}var o="enter"===u,s=a.update||i.r,f=a.enter||i.r,c=a.exit||i.r,l=(u&&!o?a[u]:s)||i.r;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){f(t,e),s(t,e)})),n.modifies(f.output),n.modifies(s.output),l!==i.r&&l!==s&&(t.visit(t.ADD,(function(t){l(t,e)})),n.modifies(l.output))),t.changed(t.REM)&&c!==i.r&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),o||l!==i.r){var d=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(d,(function(t){var i=f(t,e)||r;(l(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(f.output)):t.visit(d,(function(t){(l(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:t.StopPropagation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(47),a=n(1);function u(e){r.g.call(this,[],e)}Object(a.y)(u,r.g).transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,u,o,s,f,c=t.fork(t.NO_SOURCE|t.NO_FIELDS),l=this.value,d=e.type||i.n,p=e.scale,m=+e.limit,b=Object(i.M)(p,null==e.count?5:e.count,e.minstep),g=!!e.values||d===i.n,h=e.format||Object(i.E)(p,b,d,e.formatSpecifier,e.formatType,g),y=e.values||Object(i.G)(p,b);return l&&(c.rem=l),d===i.n?(m&&y.length>m?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),l=y.slice(0,m-1),f=!0):l=y,Object(a.D)(o=e.size)?(e.values||0!==p(l[0])||(l=l.slice(1)),s=l.reduce((function(t,n){return Math.max(t,o(n,e))}),0)):o=Object(a.l)(s=o||8),l=l.map((function(t,n){return Object(r.l)({index:n,label:h(t,n,l),value:t,offset:s,size:o(t,e)})})),f&&(f=y[l.length],l.push(Object(r.l)({index:l.length,label:`â€¦${y.length-l.length} entries`,value:f,offset:s,size:o(f,e)})))):d===i.d?(n=p.domain(),u=Object(i.J)(p,n[0],Object(a.U)(n)),y.length<3&&!e.values&&n[0]!==Object(a.U)(n)&&(y=[n[0],Object(a.U)(n)]),l=y.map((function(e,t){return Object(r.l)({index:t,label:h(e,t,y),value:e,perc:u(e)})}))):(o=y.length-1,u=Object(i.F)(p),l=y.map((function(e,t){return Object(r.l)({index:t,label:h(e,t,y),value:e,perc:t?u(e):0,perc2:t===o?1:u(y[t+1])})}))),c.source=l,c.add=l,this.value=l,c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),i=n(1),a=Object(i.s)({line:l,"line-radial":function(e,t,n,r){return l(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:d,"arc-radial":function(e,t,n,r){return d(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:p,"curve-radial":function(e,t,n,r){return p(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),u=Math.cos(n),o=Math.sin(n),s=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(s?1:0)+" "+t*u+","+t*o+"L"+r*u+","+r*o},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),u=Math.cos(n),o=Math.sin(n),s=(t+r)/2;return"M"+t*i+","+t*a+"C"+s*i+","+s*a+" "+s*u+","+s*o+" "+r*u+","+r*o}});function u(e){return e.source.x}function o(e){return e.source.y}function s(e){return e.target.x}function f(e){return e.target.y}function c(e){r.g.call(this,{},e)}function l(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function d(e,t,n,r){var i=n-e,a=r-t,u=Math.sqrt(i*i+a*a)/2;return"M"+e+","+t+"A"+u+","+u+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+n+","+r}function p(e,t,n,r){var i=n-e,a=r-t,u=.2*(i+a),o=.2*(a-i);return"M"+e+","+t+"C"+(e+u)+","+(t+o)+" "+(n+o)+","+(r-u)+" "+n+","+r}c.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(i.y)(c,r.g).transform=function(e,t){var n=e.sourceX||u,r=e.sourceY||o,c=e.targetX||s,l=e.targetY||f,d=e.as||"path",p=e.orient||"vertical",m=e.shape||"line",b=a.get(m+"-"+p)||a.get(m);return b||Object(i.n)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[d]=b(n(e),r(e),c(e),l(e))})),t.reflow(e.modified()).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(1),a=n(1696),u=n(395);function o(e){r.g.call(this,null,e)}o.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(i.y)(o,r.g).transform=function(e,t){var n,r,o,s=e.as||["startAngle","endAngle"],f=s[0],c=s[1],l=e.field||i.O,d=e.startAngle||0,p=null!=e.endAngle?e.endAngle:2*Math.PI,m=t.source,b=m.map(l),g=b.length,h=d,y=(p-d)/Object(a.a)(b),v=Object(u.a)(g);for(e.sort&&v.sort((function(e,t){return b[e]-b[t]})),n=0;n<g;++n)o=b[v[n]],(r=m[v[n]])[f]=h,r[c]=h+=o*y;return this.value=b,t.reflow(e.modified()).modifies(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),i=n(1),a=n(47),u=n(395),o=n(555),s=n(340);function f(e){return Object(a.x)(e)&&e!==a.l}var c=Object(i.db)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function l(e){r.g.call(this,null,e),this.modified(!0)}function d(e,t,n){Object(a.B)(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(i.Z)(t)));return t}function p(e,t,n){return Object(i.D)(e)&&(t||n)?Object(a.w)(e,m(t||[0,1],n)):e}function m(e,t){return t?e.slice().reverse():e}Object(i.y)(l,r.g).transform=function(e,t){var n=t.dataflow,r=this.value,l=function(e){var t,n=e.type,r="";if(n===a.l)return a.l+"-"+a.e;(function(e){const t=e.type;return Object(a.x)(t)&&t!==a.q&&t!==a.r&&(e.scheme||e.range&&e.range.length&&e.range.every(i.H))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,r=2===t?a.l+"-":3===t?a.c+"-":"");return(r+n||a.e).toLowerCase()}(e);for(l in r&&l===r.type||(this.value=r=Object(a.I)(l)()),e)if(!c[l]){if("padding"===l&&f(r.type))continue;Object(i.D)(r[l])?r[l](e[l]):n.warn("Unsupported scale property: "+l)}return function(e,t,n){var r=e.type,u=t.round||!1,f=t.range;if(null!=t.rangeStep)f=function(e,t,n){e!==a.a&&e!==a.h&&Object(i.n)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,u=e===a.h?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Object(a.s)(n,u,r)]}(r,t,n);else if(t.scheme&&(f=function(e,t,n){var r,u,o=t.schemeExtent;Object(i.A)(t.scheme)?u=Object(a.v)(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(u=Object(a.L)(r))||Object(i.n)("Unrecognized scheme name: "+t.scheme));return n=e===a.p?n+1:e===a.b?n-1:e===a.j||e===a.k?+t.schemeCount||5:n,Object(a.A)(e)?p(u,o,t.reverse):Object(i.D)(u)?Object(a.H)(p(u,o),n):e===a.g?u:u.slice(0,n)}(r,t,n),Object(i.D)(f))){if(e.interpolator)return e.interpolator(f);Object(i.n)(`Scale type ${r} does not support interpolating color schemes.`)}if(f&&Object(a.A)(r))return e.interpolator(Object(a.v)(m(f,t.reverse),t.interpolate,t.interpolateGamma));f&&t.interpolate&&e.interpolate?e.interpolate(Object(a.u)(t.interpolate,t.interpolateGamma)):Object(i.D)(e.round)?e.round(u):Object(i.D)(e.rangeRound)&&e.interpolate(u?o.a:s.a);f&&e.range(m(f,t.reverse))}(r,e,function(e,t,n){let r=t.bins;if(r&&!Object(i.A)(r)){let t=e.domain(),n=t[0],a=Object(i.U)(t),o=null==r.start?n:r.start,s=null==r.stop?a:r.stop,f=r.step;f||Object(i.n)("Scale bins parameter missing step property."),o<n&&(o=f*Math.ceil(n/f)),s>a&&(s=f*Math.floor(a/f)),r=Object(u.a)(o,s+f/2,f)}r?e.bins=r:e.bins&&delete e.bins;e.type===a.b&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(d(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var u,o,s=t.domain,c=e.type,l=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===a.e||t===a.i||t===a.m)}(e);if(!s)return 0;f(c)&&t.padding&&s[0]!==Object(i.U)(s)&&(s=function(e,t,n,r,u,o){var s=Math.abs(Object(i.U)(n)-n[0]),f=s/(s-2*r),c=e===a.f?Object(i.mb)(t,null,f):e===a.m?Object(i.nb)(t,null,f,.5):e===a.i?Object(i.nb)(t,null,f,u||1):e===a.o?Object(i.ob)(t,null,f,o||1):Object(i.lb)(t,null,f);return(t=t.slice())[0]=c[0],t[t.length-1]=c[1],t}(c,s,t.range,t.padding,t.exponent,t.constant));(l||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(u=(s=s.slice()).length-1||1,l&&(s[0]>0&&(s[0]=0),s[u]<0&&(s[u]=0)),null!=t.domainMin&&(s[0]=t.domainMin),null!=t.domainMax&&(s[u]=t.domainMax),null!=t.domainMid&&(((o=t.domainMid)<s[0]||o>s[u])&&n.warn("Scale domainMid exceeds domain min or max.",o),s.splice(u,0,o)));e.domain(d(c,s,n)),c===a.g&&e.unknown(t.domainImplicit?a.K:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&Object(a.M)(e,t.nice)||null);return s.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Object(r.q)(e.sort)),this.modified(n),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(1),a=["y0","y1"];function u(e){r.g.call(this,null,e)}function o(e,t,n,r,i){for(var a,u=(t-e.sum)/2,o=e.length,s=0;s<o;++s)(a=e[s])[r]=u,a[i]=u+=Math.abs(n(a))}function s(e,t,n,r,i){for(var a,u=1/e.sum,o=0,s=e.length,f=0,c=0;f<s;++f)(a=e[f])[r]=o,a[i]=o=u*(c+=Math.abs(n(a)))}function f(e,t,n,r,i){for(var a,u,o=0,s=0,f=e.length,c=0;c<f;++c)(a=+n(u=e[c]))<0?(u[r]=s,u[i]=s+=a):(u[r]=o,u[i]=o+=a)}u.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:a}]},Object(i.y)(u,r.g).transform=function(e,t){var n,u,c,l,d=e.as||a,p=d[0],m=d[1],b=Object(r.q)(e.sort),g=e.field||i.O,h="center"===e.offset?o:"normalize"===e.offset?s:f;for(n=function(e,t,n,r){var i,a,u,o,s,f,c,l,d,p=[],m=function(e){return e(s)};if(null==t)p.push(e.slice());else for(i={},a=0,u=e.length;a<u;++a)s=e[a],f=t.map(m),(c=i[f])||(i[f]=c=[],p.push(c)),c.push(s);for(f=0,d=0,o=p.length;f<o;++f){for(c=p[f],a=0,l=0,u=c.length;a<u;++a)l+=Math.abs(r(c[a]));c.sum=l,l>d&&(d=l),n&&c.sort(n)}return p.max=d,p}(t.source,e.groupby,b,g),u=0,c=n.length,l=n.max;u<c;++u)h(n[u],l,g,p,m);return t.reflow(e.modified()).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),i=n(1),a=n(716),u=n(717),o=n(768),s=n(770),f=n(769);function c(e){r.g.call(this,null,e)}c.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(i.y)(c,r.g).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,c,l=t.fork(t.NO_SOURCE|t.NO_FIELDS),d=Object(o.a)().smooth(!1!==e.smooth),p=e.values,m=e.thresholds||Object(f.a)(e.count||10,e.nice,!!p),b=e.size;return p||(p=t.materialize(t.SOURCE).source,n=Object(u.b)(Object(s.a)(),e)(p,!0),c=Object(a.b)(n,n.scale||1,n.scale||1,0,0),b=[n.width,n.height],p=n.values),m=Object(i.A)(m)?m:m(p),p=d.size(b)(p,m),c&&p.forEach(c),this.value&&(l.rem=this.value),this.value=l.source=l.add=(p||[]).map(r.l),l}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(385),i=n(14),a=n(1);function u(e){i.g.call(this,null,e)}u.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(a.y)(u,i.g).transform=function(e,t){var n,i=this._features,u=this._points,o=e.fields,s=o&&o[0],f=o&&o[1],c=e.geojson||!o&&a.x,l=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(a.g)(c))||s&&t.modified(Object(a.g)(s))||f&&t.modified(Object(a.g)(f)),this.value&&!n||(l=t.SOURCE,this._features=i=[],this._points=u=[]),c&&t.visit(l,(function(e){i.push(c(e))})),s&&f&&(t.visit(l,(function(e){var t=s(e),n=f(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&u.push([t,n])})),i=i.concat({type:r.a,geometry:{type:r.c,coordinates:u}})),this.value={type:r.b,features:i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(331),a=n(1);function u(e){r.g.call(this,null,e)}u.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(a.y)(u,r.g).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,u=e.field||a.x,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=Object(i.a)(e.projection),n.materialize().reflow()):s=u===a.x||t.modified(u.fields)?n.ADD_MOD:n.ADD;var f=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(s,(function(e){e[o]=r(u(e))})),r.pointRadius(f),n.modifies(o)}},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(i.y)(a,r.g).transform=function(e,t){var n,r=e.projection,i=e.fields[0],a=e.fields[1],u=e.as||["x","y"],o=u[0],s=u[1];function f(e){var t=r([i(e),a(e)]);t?(e[o]=t[0],e[s]=t[1]):(e[o]=void 0,e[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,f):(n=t.modified(i.fields)||t.modified(a.fields),t.visit(n?t.ADD_MOD:t.ADD,f)),t.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(331),a=n(1);function u(e){r.g.call(this,null,e)}u.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(a.y)(u,r.g).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,u=e.as||"shape",o=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),a=e.pointRadius(n)(t(r));return e.pointRadius(i),a};return r.context=function(t){return e.context(t),r},r}(Object(i.a)(e.projection),e.field||Object(a.t)("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(function(e){e[u]=r})),n.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(1),a=n(2013);function u(e){r.g.call(this,[],e),this.generator=Object(a.a)()}u.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(i.y)(u,r.g).transform=function(e,t){var n,a=this.value,u=this.generator;if(!a.length||e.modified())for(var o in e)Object(i.D)(u[o])&&u[o](e[o]);return n=u(),a.length?t.mod.push(Object(r.p)(a[0],n)):t.add.push(Object(r.l)(n)),a[0]=n,t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(447),i=n(141),a=n(280),u=n(14),o=n(1);function s(e){u.g.call(this,null,e)}function f(e){if(!Object(o.D)(e))return!1;const t=Object(o.db)(Object(o.g)(e));return t.$x||t.$y||t.$value||t.$max}s.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(o.y)(s,u.g).transform=function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,u="shared"===e.resolve,s=e.field||o.x,c=function(e,t){let n;Object(o.D)(e)?(n=n=>e(n,t),n.dep=f(e)):e?n=Object(o.l)(e):(n=e=>e.$value/e.$max||0,n.dep=!0);return n}(e.opacity,e),l=function(e,t){let n;Object(o.D)(e)?(n=n=>Object(i.g)(e(n,t)),n.dep=f(e)):n=Object(o.l)(Object(i.g)(e||"#888"));return n}(e.color,e),d=e.as||"image",p={$x:0,$y:0,$value:0,$max:u?Object(r.a)(n.map(e=>Object(r.a)(s(e).values))):0};return n.forEach(e=>{const t=s(e),n=Object(o.o)({},e,p);u||(n.$max=Object(r.a)(t.values||[])),e[d]=function(e,t,n,r){const i=e.width,u=e.height,s=e.x1||0,f=e.y1||0,c=e.x2||i,l=e.y2||u,d=e.values,p=d?e=>d[e]:o.kb,m=Object(a.a)(c-s,l-f),b=m.getContext("2d"),g=b.getImageData(0,0,c-s,l-f),h=g.data;for(let e=f,a=0;e<l;++e){t.$y=e-f;for(let u=s,o=e*i;u<c;++u,a+=4){t.$x=u-s,t.$value=p(u+o);const e=n(t);h[a+0]=e.r,h[a+1]=e.g,h[a+2]=e.b,h[a+3]=~~(255*r(t))}}return b.putImageData(g,0,0),m}(t,n,l.dep?l:Object(o.l)(l(n)),c.dep?c:Object(o.l)(c(n)))}),t.reflow(!0).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(385),i=n(14),a=n(331),u=n(1);function o(e){i.g.call(this,null,e),this.modified(!0)}function s(e,t,n){Object(u.D)(e[t])&&e[t](n)}Object(u.y)(o,i.g).transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=Object(a.b)((e||"mercator").toLowerCase());t||Object(u.n)("Unrecognized projection type: "+e);return t()}(e.type),a.c.forEach((function(t){null!=e[t]&&s(n,t,e[t])}))):a.c.forEach((function(t){e.modified(t)&&s(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(u.i)(e)).length?e[0]:{type:r.b,features:e.reduce((e,t)=>e.concat(function(e){return e.type===r.b?e.features:Object(u.i)(e).filter(e=>null!=e).map(e=>e.type===r.a?e:{type:r.a,geometry:e})}(t)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),i=n(1),a=n(448),u={center:a.a,collide:a.b,nbody:a.d,link:a.c,x:a.f,y:a.g},o=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],s=["static","iterations"],f=["x","y","vx","vy"];function c(e){r.g.call(this,null,e)}c.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:f}]};var l=Object(i.y)(c,r.g);function d(e,t,n,r){var a,u,s,f,c=Object(i.i)(t.forces);for(a=0,u=o.length;a<u;++a)"forces"!==(s=o[a])&&t.modified(s)&&e[s](t[s]);for(a=0,u=c.length;a<u;++a)f="forces"+a,(s=n||t.modified("forces",a)?m(c[a]):r&&p(c[a],r)?e.force(f):null)&&e.force(f,s);for(u=e.numForces||0;a<u;++a)e.force("forces"+a,null);return e.numForces=c.length,e}function p(e,t){var n,r;for(n in e)if(Object(i.D)(r=e[n])&&t.modified(Object(i.g)(r)))return 1;return 0}function m(e){var t,n;for(n in Object(i.v)(u,e.force)||Object(i.n)("Unrecognized force: "+e.force),t=u[e.force](),e)Object(i.D)(t[n])&&b(t[n],e[n],e);return t}function b(e,t,n){e(Object(i.D)(t)?function(e){return t(e,n)}:t)}l.transform=function(e,t){var n,r,i=this.value,u=t.changed(t.ADD_REM),f=e.modified(o),c=e.iterations||300;if(i?(u&&(t.modifies("index"),i.nodes(t.source)),(f||t.changed(t.MOD))&&d(i,e,0,t)):(this.value=i=function(e,t){var n=Object(a.e)(e),r=!1,i=n.stop,u=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,u()},n.stop=function(){return r=!0,i()},d(n,t,!0).on("end",(function(){r=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){n.touch(r).run()})),e.static||(u=!0,i.tick()),t.modifies("index")),f||u||e.modified(s)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/c)),e.static)for(i.stop();--c>=0;)i.tick();else if(i.stopped()&&i.restart(),!u)return t.StopPropagation;return this.finish(e,t)},l.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,u=i.length;a<u;++a)if("forces"===(n=i[a]).name&&"link"===n.op._argval.force)for(var o,s=n.op._argops,c=0,l=s.length;c<l;++c)if("links"===s[c].name&&(o=s[c].op.source)){r.pulse(o,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(f)}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(627),i=n(14),a=n(1),u=n(562);function o(e){i.g.call(this,null,e)}function s(e){return e.values}function f(){var e,t=[];return e={entries:e=>function e(n,r){if(++r>t.length)return n;var i,a=[];for(i in n)a.push({key:i,values:e(n[i],r)});return a}(function e(n,r){if(r>=t.length)return n;for(var i,a,u,o=-1,s=n.length,f=t[r++],c={},l={};++o<s;)(u=c[i=f(a=n[o])+""])?u.push(a):c[i]=[a];for(i in c)l[i]=e(c[i],r);return l}(e,0),0),key:n=>(t.push(n),e)}}o.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Object(a.y)(o,i.g).transform=function(e,t){t.source||Object(a.n)("Nest transform requires an upstream data source.");var n=e.generate,o=e.modified(),c=t.clone(),l=this.value;return(!l||o||t.changed())&&(l&&l.each(e=>{e.children&&Object(i.n)(e.data)&&c.rem.push(e.data)}),this.value=l=Object(u.c)({values:Object(a.i)(e.keys).reduce((e,t)=>(e.key(t),e),f()).entries(c.source)},s),n&&l.each(e=>{e.children&&(e=Object(i.l)(e.data),c.add.push(e),c.source.push(e))}),Object(r.a)(l,i.t,i.t)),c.source.root=l,c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(295),i=n(1),a=n(2015),u=["x","y","r","depth","children"];function o(e){r.a.call(this,e)}o.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:u.length,default:u}]};var s=Object(i.y)(o,r.a);s.layout=a.a,s.params=["radius","size","padding"],s.fields=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(295),i=n(1),a=n(2016),u=["x0","y0","x1","y1","depth","children"];function o(e){r.a.call(this,e)}o.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:u.length,default:u}]};var s=Object(i.y)(o,r.a);s.layout=a.a,s.params=["size","round","padding"],s.fields=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(627),i=n(14),a=n(1),u=n(1700);function o(e){i.g.call(this,null,e)}o.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(a.y)(o,i.g).transform=function(e,t){t.source||Object(a.n)("Stratify transform requires an upstream data source.");var n=this.value,i=e.modified(),o=t.fork(t.ALL).materialize(t.SOURCE),s=!this.value||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return o.source=o.source.slice(),s&&(n=o.source.length?Object(r.a)(Object(u.a)().id(e.key).parentId(e.parentKey)(o.source),e.key,a.gb):Object(r.a)(Object(u.a)()([{}]),e.key,e.key)),o.source.root=this.value=n,o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(295),i=n(1),a=n(2017),u=n(2018),o={tidy:a.a,cluster:u.a},s=["x","y","depth","children"];function f(e){r.a.call(this,e)}f.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:s.length,default:s}]};var c=Object(i.y)(f,r.a);c.layout=function(e){var t=e||"tidy";if(Object(i.v)(o,t))return o[t]();Object(i.n)("Unrecognized Tree layout method: "+t)},c.params=["size","nodeSize"],c.fields=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[],e)}a.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(i.y)(a,r.g).transform=function(e,t){var n=this.value,a=t.source&&t.source.root,u=t.fork(t.NO_SOURCE),o={};return a||Object(i.n)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(u.rem=n,t.visit(t.SOURCE,(function(e){o[Object(r.t)(e)]=1})),a.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&o[Object(r.t)(t)]&&o[Object(r.t)(n)]&&u.add.push(Object(r.l)({source:n,target:t}))})),this.value=u.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){o[Object(r.t)(e)]=1})),n.forEach((function(e){(o[Object(r.t)(e.source)]||o[Object(r.t)(e.target)])&&u.mod.push(e)}))),u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(295),i=n(1),a=n(2019),u=n(366),o=n(473),s=n(2020),f=n(563),c=n(2021),l=n(2022),d={binary:a.a,dice:u.a,slice:o.a,slicedice:s.a,squarify:f.a,resquarify:c.a},p=["x0","y0","x1","y1","depth","children"];function m(e){r.a.call(this,e)}m.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:p.length,default:p}]};var b=Object(i.y)(m,r.a);b.layout=function(){var e=Object(l.a)();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(i.v)(d,t)?e.tile(d[t]):Object(i.n)("Unrecognized Treemap layout method: "+t)},e},b.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],b.fields=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(777),i=n(72),a=n(14),u=n(1);function o(e){a.g.call(this,null,e)}o.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(u.y)(o,a.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=t.materialize(t.SOURCE).source,s=Object(r.a)(o,e.groupby),f=(e.groupby||[]).map(u.h),c=f.length,l=e.as||[Object(u.h)(e.x),Object(u.h)(e.y)],d=[];s.forEach(t=>{Object(i.z)(t,e.x,e.y,e.bandwidth||.3).forEach(e=>{const n={};for(let e=0;e<c;++e)n[f[e]]=t.dims[e];n[l[0]]=e[0],n[l[1]]=e[1],d.push(Object(a.l)(n))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(777),i=n(14),a=n(72),u=n(1);const o={linear:a.y,log:a.A,exp:a.x,pow:a.C,quad:a.D,poly:a.B};function s(e){i.g.call(this,null,e)}s.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(o)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(u.y)(s,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=t.materialize(t.SOURCE).source,f=Object(r.a)(s,e.groupby),c=(e.groupby||[]).map(u.h),l=e.method||"linear",d=e.order||3,p=function(e,t){return"poly"===e?t:"quad"===e?2:1}(l,d),m=e.as||[Object(u.h)(e.x),Object(u.h)(e.y)],b=o[l],g=[];let h=e.extent;Object(u.v)(o,l)||Object(u.n)("Invalid regression method: "+l),null!=h&&"log"===l&&h[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),h=null),f.forEach(n=>{if(n.length<=p)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const r=b(n,e.x,e.y,d);if(e.params)return void g.push(Object(i.l)({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));const o=h||Object(u.p)(n,e.x),s=e=>{const t={};for(let e=0;e<c.length;++e)t[c[e]]=n.dims[e];t[m[0]]=e[0],t[m[1]]=e[1],g.push(Object(i.l)(t))};"linear"===l?o.forEach(e=>s([e,r.predict(e)])):Object(a.E)(r.predict,o,25,200).forEach(s)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=g}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(1),a=n(2023);function u(e){r.g.call(this,null,e)}u.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const o=Object(i.y)(u,r.g),s=[-1e5,-1e5,1e5,1e5];function f(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}o.transform=function(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:s;const u=this.value=a.a.from(r,e.x,e.y).voronoi(i);for(let e=0,t=r.length;e<t;++e){const t=u.cellPolygon(e);r[e][n]=t?f(t):null}return t.reflow(e.modified()).modifies(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1372),i=n(14),a=n(1),u=n(47),o=n(72),s=["x","y","font","fontSize","fontStyle","fontWeight","angle"],f=["text","font","rotate","fontSize","fontStyle","fontWeight"];function c(e){i.g.call(this,Object(r.a)(),e)}c.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:s}]},Object(a.y)(c,i.g).transform=function(e,t){!e.size||e.size[0]&&e.size[1]||Object(a.n)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||f.some((function(n){var r=e[n];return Object(a.D)(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,c=this.value,l=e.as||s,d=e.fontSize||14;if(Object(a.D)(d)?r=e.fontSizeRange:d=Object(a.l)(d),r){var p=d,m=Object(u.I)("sqrt")().domain(Object(a.p)(i,p)).range(r);d=function(e){return m(p(e))}}i.forEach((function(e){e[l[0]]=NaN,e[l[1]]=NaN,e[l[3]]=0}));for(var b,g,h=c.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(d).random(o.p).layout(),y=c.size(),v=y[0]>>1,O=y[1]>>1,j=0,$=h.length;j<$;++j)(g=(b=h[j]).datum)[l[0]]=b.x+v,g[l[1]]=b.y+O,g[l[2]]=b.font,g[l[3]]=b.size,g[l[4]]=b.style,g[l[5]]=b.weight,g[l[6]]=b.rotate;return t.reflow(n).modifies(l)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1374),i=n(1001),a=n(1002),u=n(14),o=n(1);function s(e){u.g.call(this,Object(r.a)(),e),this._indices=null,this._dims=null}s.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var f=Object(o.y)(s,u.g);f.transform=function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},f.init=function(e,t){for(var n,r,u=e.fields,o=e.query,s=this._indices={},f=this._dims=[],c=o.length,l=0;l<c;++l)r=s[n=u[l].fname]||(s[n]=Object(a.a)()),f.push(Object(i.a)(r,l,o[l]));return this.eval(e,t)},f.reinit=function(e,t){var n,r,u,o,s,f,c,l,d,p=t.materialize().fork(),m=e.fields,b=e.query,g=this._indices,h=this._dims,y=this.value,v=y.curr(),O=y.prev(),j=y.all(),$=p.rem=p.add,x=p.mod,k=b.length,A={};if(O.set(v),t.rem.length&&(s=this.remove(e,t,p)),t.add.length&&y.add(t.add),t.mod.length)for(f={},c=0,l=(o=t.mod).length;c<l;++c)f[o[c]._index]=1;for(c=0;c<k;++c)d=m[c],(!h[c]||e.modified("fields",c)||t.modified(d.fields))&&((n=A[u=d.fname])||(g[u]=r=Object(a.a)(),A[u]=n=r.insert(d,t.source,0)),h[c]=Object(i.a)(r,c,b[c]).onAdd(n,v));for(c=0,l=y.data().length;c<l;++c)s[c]||(O[c]!==v[c]?$.push(c):f[c]&&v[c]!==j&&x.push(c));return y.mask=(1<<k)-1,p},f.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},f.insert=function(e,t,n){var r,i,a,u=t.add,o=this.value,s=this._dims,f=this._indices,c=e.fields,l={},d=n.add,p=o.size(),m=p+u.length,b=s.length;o.resize(m,b),o.add(u);var g=o.curr(),h=o.prev(),y=o.all();for(r=0;r<b;++r)a=l[i=c[r].fname]||(l[i]=f[i].insert(c[r],u,p)),s[r].onAdd(a,g);for(;p<m;++p)h[p]=y,g[p]!==y&&d.push(p)},f.modify=function(e,t){var n,r,i,a=t.mod,u=this.value,o=u.curr(),s=u.all(),f=e.mod;for(n=0,r=f.length;n<r;++n)o[i=f[n]._index]!==s&&a.push(i)},f.remove=function(e,t,n){var r,i,a,u,o=this._indices,s=this.value,f=s.curr(),c=s.prev(),l=s.all(),d={},p=n.rem,m=t.rem;for(r=0,i=m.length;r<i;++r)d[a=m[r]._index]=1,c[a]=u=f[a],f[a]=l,u!==l&&p.push(a);for(a in o)o[a].remove(i,d);return this.reindex(t,i,d),d},f.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)}))},f.update=function(e,t,n){var r,i,a=this._dims,u=e.query,o=t.stamp,s=a.length,f=0;for(n.filters=0,i=0;i<s;++i)e.modified("query",i)&&(r=i,++f);if(1===f)f=a[r].one,this.incrementOne(a[r],u[r],n.add,n.rem);else for(i=0,f=0;i<s;++i)e.modified("query",i)&&(f|=a[i].one,this.incrementAll(a[i],u[i],o,n.add),n.rem=n.add);return f},f.incrementAll=function(e,t,n,r){var i,a,u,o=this.value,s=o.seen(),f=o.curr(),c=o.prev(),l=e.index(),d=e.bisect(e.range),p=e.bisect(t),m=p[0],b=p[1],g=d[0],h=d[1],y=e.one;if(m<g)for(i=m,a=Math.min(g,b);i<a;++i)s[u=l[i]]!==n&&(c[u]=f[u],s[u]=n,r.push(u)),f[u]^=y;else if(m>g)for(i=g,a=Math.min(m,h);i<a;++i)s[u=l[i]]!==n&&(c[u]=f[u],s[u]=n,r.push(u)),f[u]^=y;if(b>h)for(i=Math.max(m,h),a=b;i<a;++i)s[u=l[i]]!==n&&(c[u]=f[u],s[u]=n,r.push(u)),f[u]^=y;else if(b<h)for(i=Math.max(g,b),a=h;i<a;++i)s[u=l[i]]!==n&&(c[u]=f[u],s[u]=n,r.push(u)),f[u]^=y;e.range=t.slice()},f.incrementOne=function(e,t,n,r){var i,a,u,o=this.value.curr(),s=e.index(),f=e.bisect(e.range),c=e.bisect(t),l=c[0],d=c[1],p=f[0],m=f[1],b=e.one;if(l<p)for(i=l,a=Math.min(p,d);i<a;++i)o[u=s[i]]^=b,n.push(u);else if(l>p)for(i=p,a=Math.min(l,m);i<a;++i)o[u=s[i]]^=b,r.push(u);if(d>m)for(i=Math.max(l,m),a=d;i<a;++i)o[u=s[i]]^=b,n.push(u);else if(d<m)for(i=Math.max(p,d),a=m;i<a;++i)o[u=s[i]]^=b,r.push(u);e.range=t.slice()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(i.y)(a,r.g).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0==(i&n))return t.StopPropagation;var a=t.fork(t.ALL),u=r.data(),o=r.curr(),s=r.prev(),f=function(e){return o[e]&n?null:u[e]};return a.filter(a.MOD,f),i&i-1?(a.filter(a.ADD,(function(e){var t=o[e]&n;return!t&&t^s[e]&n?u[e]:null})),a.filter(a.REM,(function(e){var t=o[e]&n;return t&&!(t^t^s[e]&n)?u[e]:null}))):(a.filter(a.ADD,f),a.filter(a.REM,(function(e){return(o[e]&n)===i?u[e]:null}))),a.filter(a.SOURCE,(function(e){return f(e._index)}))}},function(e){e.exports=JSON.parse('{"a":"5.11.1"}')},function(e,t,n){"use strict";var r=n(1215);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n(778),i=n(1375),a=n(1376),u=n(495),o=n(1003),s=n(1378),f=n(1379),c=n(1380),l=n(1004),d=n(1383),p=n(1384),m=n(1385),b=n(341),g=n(1386),h=n(1390),y=n(654),v=n(1007),O=n(1391),j=n(1392),$=n(629),x=n(14),k=n(1),A=n(76);function F(e,t){t=t||{},x.a.call(this),t.loader&&this.loader(t.loader),t.logger&&this.logger(t.logger),null!=t.logLevel&&this.logLevel(t.logLevel),this._el=null,this._elBind=null,this._renderType=t.renderer||A.i.Canvas,this._scenegraph=new A.o;var n=this._scenegraph.root;this._renderer=null,this._tooltip=t.tooltip||j.a,this._redraw=!0,this._handler=(new A.b).scene(n),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[],this._eventConfig=Object(o.b)(e.eventConfig);var r=Object(g.a)(this,e,t.functions);this._runtime=r,this._signals=r.signals,this._bind=(e.bindings||[]).map((function(e){return{state:null,param:Object(k.o)({},e)}})),r.root&&r.root.set(n),n.source=r.data.root.input,this.pulse(r.data.root.input,this.changeset().insert(n.items)),this._width=this.width(),this._height=this.height(),this._viewWidth=Object(y.d)(this,this._width),this._viewHeight=Object(y.c)(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,Object(y.a)(this),Object(i.a)(this),Object(a.a)(this),this.description(e.description),t.hover&&this.hover(),t.container&&this.initialize(t.container,t.bind)}var w=Object(k.y)(F,x.a);function _(e,t){return Object(k.v)(e._signals,t)?e._signals[t]:Object(k.n)("Unrecognized signal name: "+Object(k.Z)(t))}function D(e,t){var n=(e._targets||[]).filter((function(e){var n=e._update;return n&&n.handler===t}));return n.length?n[0]:null}function C(e,t,n,r){var i=D(n,r);return i||((i=Object($.a)(this,(function(){r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function S(e,t,n){var r=D(t,n);return r&&t._targets.remove(r),e}w.evaluate=async function(e,t,n){if(await x.a.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Object(b.c)(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}return n&&Object(x.h)(this,n),this},w.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},w.description=function(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&Object(r.a)(this._el,this._desc=t),this}return this._desc},w.container=function(){return this._el},w.scenegraph=function(){return this._scenegraph},w.origin=function(){return this._origin.slice()},w.signal=function(e,t,n){var r=_(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},w.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},w.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},w.padding=function(e){return arguments.length?this.signal("padding",Object(l.a)(e)):Object(l.a)(this.signal("padding"))},w.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},w.background=function(e){return arguments.length?this.signal("background",e):this.signal("background")},w.renderer=function(e){return arguments.length?(Object(A.S)(e)||Object(k.n)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},w.tooltip=function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},w.loader=function(e){return arguments.length?(e!==this._loader&&(x.a.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},w.resize=function(){return this._autosize=1,this.touch(_(this,"autosize"))},w._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},w._resizeView=y.b,w.addEventListener=function(e,t,n){var r=t;return n&&!1===n.trap||((r=Object($.a)(this,t)).raw=t),this._handler.on(e,r),this},w.removeEventListener=function(e,t){for(var n,r,i=this._handler.handlers(e),a=i.length;--a>=0;)if(r=i[a].type,n=i[a].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},w.addResizeListener=function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},w.removeResizeListener=function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},w.addSignalListener=function(e,t){return C(this,e,_(this,e),t)},w.removeSignalListener=function(e,t){return S(this,_(this,e),t)},w.addDataListener=function(e,t){return C(this,e,Object(u.c)(this,e).values,t)},w.removeDataListener=function(e,t){return S(this,Object(u.c)(this,e).values,t)},w.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},w.timer=O.a,w.events=o.a,w.finalize=f.a,w.hover=s.a,w.data=u.b,w.change=u.a,w.insert=u.d,w.remove=u.e,w.scale=h.a,w.initialize=c.a,w.toImageURL=d.a,w.toCanvas=p.a,w.toSVG=m.a,w.getState=v.a,w.setState=v.b},function(e,t,n){"use strict";var r,i,a,u,o,s=n(145);(r={})[1]="Boolean",r[2]="<end>",r[3]="Identifier",r[4]="Keyword",r[5]="Null",r[6]="Numeric",r[7]="Punctuator",r[8]="String",r[9]="RegularExpression";var f="ILLEGAL",c=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),l=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function d(e,t){if(!e)throw new Error("ASSERT: "+t)}function p(e){return e>=48&&e<=57}function m(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function b(e){return"01234567".indexOf(e)>=0}function g(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function h(e){return 10===e||13===e||8232===e||8233===e}function y(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&c.test(String.fromCharCode(e))}function v(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&l.test(String.fromCharCode(e))}var O={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function j(){for(var e;a<u&&(g(e=i.charCodeAt(a))||h(e));)++a}function $(e){var t,n,r,o=0;for(n="u"===e?4:2,t=0;t<n;++t)a<u&&m(i[a])?(r=i[a++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())):P({},"Unexpected token %0",f);return String.fromCharCode(o)}function x(){var e,t,n,r;for(t=0,"}"===(e=i[a])&&P({},"Unexpected token %0",f);a<u&&m(e=i[a++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&P({},"Unexpected token %0",f),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function k(){var e,t;for(e=i.charCodeAt(a++),t=String.fromCharCode(e),92===e&&(117!==i.charCodeAt(a)&&P({},"Unexpected token %0",f),++a,(e=$("u"))&&"\\"!==e&&y(e.charCodeAt(0))||P({},"Unexpected token %0",f),t=e);a<u&&v(e=i.charCodeAt(a));)++a,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==i.charCodeAt(a)&&P({},"Unexpected token %0",f),++a,(e=$("u"))&&"\\"!==e&&v(e.charCodeAt(0))||P({},"Unexpected token %0",f),t+=e);return t}function A(){var e,t;return e=a,{type:1===(t=92===i.charCodeAt(a)?k():function(){var e,t;for(e=a++;a<u;){if(92===(t=i.charCodeAt(a)))return a=e,k();if(!v(t))break;++a}return i.slice(e,a)}()).length?3:O.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:a}}function F(){var e,t,n,r,u=a,o=i.charCodeAt(a),s=i[a];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++a,{type:7,value:String.fromCharCode(o),start:u,end:a};default:if(61===(e=i.charCodeAt(a+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return a+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(e),start:u,end:a};case 33:case 61:return a+=2,61===i.charCodeAt(a)&&++a,{type:7,value:i.slice(u,a),start:u,end:a}}}return">>>="===(r=i.substr(a,4))?{type:7,value:r,start:u,end:a+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:u,end:a+=3}:s===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(s)>=0||"=>"===t?{type:7,value:t,start:u,end:a+=2}:"<>=!+-*%&|^/".indexOf(s)>=0?{type:7,value:s,start:u,end:++a}:void P({},"Unexpected token %0",f)}function w(){var e,t,n;if(d(p((n=i[a]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=a,e="","."!==n){if(e=i[a++],n=i[a],"0"===e){if("x"===n||"X"===n)return++a,function(e){for(var t="";a<u&&m(i[a]);)t+=i[a++];return 0===t.length&&P({},"Unexpected token %0",f),y(i.charCodeAt(a))&&P({},"Unexpected token %0",f),{type:6,value:parseInt("0x"+t,16),start:e,end:a}}(t);if(b(n))return function(e){for(var t="0"+i[a++];a<u&&b(i[a]);)t+=i[a++];return(y(i.charCodeAt(a))||p(i.charCodeAt(a)))&&P({},"Unexpected token %0",f),{type:6,value:parseInt(t,8),octal:!0,start:e,end:a}}(t);n&&p(n.charCodeAt(0))&&P({},"Unexpected token %0",f)}for(;p(i.charCodeAt(a));)e+=i[a++];n=i[a]}if("."===n){for(e+=i[a++];p(i.charCodeAt(a));)e+=i[a++];n=i[a]}if("e"===n||"E"===n)if(e+=i[a++],"+"!==(n=i[a])&&"-"!==n||(e+=i[a++]),p(i.charCodeAt(a)))for(;p(i.charCodeAt(a));)e+=i[a++];else P({},"Unexpected token %0",f);return y(i.charCodeAt(a))&&P({},"Unexpected token %0",f),{type:6,value:parseFloat(e),start:t,end:a}}function _(){var e,t,n,r;return o=null,j(),e=a,t=function(){var e,t,n,r;for(d("/"===(e=i[a]),"Regular expression literal must start with a slash"),t=i[a++],n=!1,r=!1;a<u;)if(t+=e=i[a++],"\\"===e)h((e=i[a++]).charCodeAt(0))&&P({},"Invalid regular expression: missing /"),t+=e;else if(h(e.charCodeAt(0)))P({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||P({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";a<u&&v((e=i[a]).charCodeAt(0));)++a,"\\"===e&&a<u?P({},"Unexpected token %0",f):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&P({},"Invalid regular expression",n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";P({},"Invalid regular expression")})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){P({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:a}}function D(){var e;return j(),a>=u?{type:2,start:a,end:a}:y(e=i.charCodeAt(a))?A():40===e||41===e||59===e?F():39===e||34===e?function(){var e,t,n,r,o="",s=!1;for(d("'"===(e=i[a])||'"'===e,"String literal must starts with a quote"),t=a,++a;a<u;){if((n=i[a++])===e){e="";break}if("\\"===n)if((n=i[a++])&&h(n.charCodeAt(0)))"\r"===n&&"\n"===i[a]&&++a;else switch(n){case"u":case"x":"{"===i[a]?(++a,o+=x()):o+=$(n);break;case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;default:b(n)?(0!==(r="01234567".indexOf(n))&&(s=!0),a<u&&b(i[a])&&(s=!0,r=8*r+"01234567".indexOf(i[a++]),"0123".indexOf(n)>=0&&a<u&&b(i[a])&&(r=8*r+"01234567".indexOf(i[a++]))),o+=String.fromCharCode(r)):o+=n}else{if(h(n.charCodeAt(0)))break;o+=n}}return""!==e&&P({},"Unexpected token %0",f),{type:8,value:o,octal:s,start:t,end:a}}():46===e?p(i.charCodeAt(a+1))?w():F():p(e)?w():F()}function C(){var e;return a=(e=o).end,o=D(),a=e.end,e}function S(){var e;e=a,o=D(),a=e}function E(e,t,n){var r=new s.d("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function q(e,t){var n=new s.d("CallExpression");return n.callee=e,n.arguments=t,n}function M(e){var t=new s.d("Identifier");return t.name=e,t}function B(e){var t=new s.d("Literal");return t.value=e.value,t.raw=i.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function z(e,t,n){var r=new s.d("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function T(e,t,n){var r=new s.d("Property");return r.key=t,r.value=n,r.kind=e,r}function P(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return d(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=a,n.description=i,n}function R(e){2===e.type&&P(e,"Unexpected end of input"),6===e.type&&P(e,"Unexpected number"),8===e.type&&P(e,"Unexpected string"),3===e.type&&P(e,"Unexpected identifier"),4===e.type&&P(e,"Unexpected reserved word"),P(e,"Unexpected token %0",e.value)}function I(e){var t=C();7===t.type&&t.value===e||R(t)}function V(e){return 7===o.type&&o.value===e}function L(e){return 4===o.type&&o.value===e}function U(){var e=[];for(a=o.start,I("[");!V("]");)V(",")?(C(),e.push(null)):(e.push(te()),V("]")||I(","));return C(),function(e){var t=new s.d("ArrayExpression");return t.elements=e,t}(e)}function N(){var e;return a=o.start,8===(e=C()).type||6===e.type?(e.octal&&P(e,"Octal literals are not allowed in strict mode."),B(e)):M(e.value)}function W(){var e,t,n;return a=o.start,3===(e=o).type?(n=N(),I(":"),T("init",n,te())):2!==e.type&&7!==e.type?(t=N(),I(":"),T("init",t,te())):void R(e)}function H(){var e,t,n=[],r={},i=String;for(a=o.start,I("{");!V("}");)t="$"+("Identifier"===(e=W()).key.type?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?P({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),V("}")||I(",");return I("}"),function(e){var t=new s.d("ObjectExpression");return t.properties=e,t}(n)}var G={if:1,this:1};function Y(){var e,t,n;if(V("("))return function(){var e;return I("("),e=ne(),I(")"),e}();if(V("["))return U();if(V("{"))return H();if(e=o.type,a=o.start,3===e||G[o.value])n=M(C().value);else if(8===e||6===e)o.octal&&P(o,"Octal literals are not allowed in strict mode."),n=B(C());else{if(4===e)throw new Error("Disabled.");1===e?((t=C()).value="true"===t.value,n=B(t)):5===e?((t=C()).value=null,n=B(t)):V("/")||V("/=")?(n=B(_()),S()):R(C())}return n}function Z(){var e=[];if(I("("),!V(")"))for(;a<u&&(e.push(te()),!V(")"));)I(",");return I(")"),e}function X(){return I("."),a=o.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=C())||R(e),M(e.value);var e}function J(){var e;return I("["),e=ne(),I("]"),e}function K(){var e=function(){var e;for(e=Y();;)if(V("."))e=z(".",e,X());else if(V("("))e=q(e,Z());else{if(!V("["))break;e=z("[",e,J())}return e}();if(7===o.type&&(V("++")||V("--")))throw new Error("Disabled.");return e}function Q(){var e,t,n,r,i;if(7!==o.type&&4!==o.type)t=K();else{if(V("++")||V("--"))throw new Error("Disabled.");if(V("+")||V("-")||V("~")||V("!"))e=C(),t=Q(),n=e.value,r=t,(i=new s.d("UnaryExpression")).operator=n,i.argument=r,i.prefix=!0,t=i;else{if(L("delete")||L("void")||L("typeof"))throw new Error("Disabled.");t=K()}}return t}function ee(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function te(){var e,t;return e=function(){var e,t,n,r,i,a,u,s,f,c;if(e=o,f=Q(),0===(i=ee(r=o)))return f;for(r.prec=i,C(),t=[e,o],a=[f,r,u=Q()];(i=ee(o))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)u=a.pop(),s=a.pop().value,f=a.pop(),t.pop(),n=E(s,f,u),a.push(n);(r=C()).prec=i,a.push(r),t.push(o),n=Q(),a.push(n)}for(n=a[c=a.length-1],t.pop();c>1;)t.pop(),n=E(a[c-1].value,a[c-2],n),c-=2;return n}(),V("?")&&(C(),t=te(),I(":"),e=function(e,t,n){var r=new s.d("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,te())),e}function ne(){var e=te();if(V(","))throw new Error("Disabled.");return e}t.a=function(e){a=0,u=(i=e).length,o=null,S();var t=ne();if(2!==o.type)throw new Error("Unexpect token after expression.");return t}},function(e,t,n){"use strict";var r=n(727),i=n(728),a=n(1);t.a=function(e){var t=(e=e||{}).whitelist?Object(a.db)(e.whitelist):{},n=e.blacklist?Object(a.db)(e.blacklist):{},u=e.constants||r.a,o=(e.functions||i.a)(m),s=e.globalvar,f=e.fieldvar,c={},l={},d=0,p=Object(a.D)(s)?s:function(e){return s+'["'+e+'"]'};function m(e){if(Object(a.H)(e))return e;var t=b[e.type];return null==t&&Object(a.n)("Unsupported type: "+e.type),t(e)}var b={Literal:function(e){return e.raw},Identifier:function(e){var r=e.name;return d>0?r:Object(a.v)(n,r)?Object(a.n)("Illegal identifier: "+r):Object(a.v)(u,r)?u[r]:Object(a.v)(t,r)?r:(c[r]=1,p(r))},MemberExpression:function(e){var t=!e.computed,n=m(e.object);t&&(d+=1);var r=m(e.property);return n===f&&(l[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(d-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(a.n)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(a.v)(o,t)&&o[t];return r||Object(a.n)("Unrecognized function: "+t),Object(a.D)(r)?r(n):r+"("+n.map(m).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(m).join(",")+"]"},BinaryExpression:function(e){return"("+m(e.left)+e.operator+m(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+m(e.argument)+")"},ConditionalExpression:function(e){return"("+m(e.test)+"?"+m(e.consequent)+":"+m(e.alternate)+")"},LogicalExpression:function(e){return"("+m(e.left)+e.operator+m(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(m).join(",")+"}"},Property:function(e){d+=1;var t=m(e.key);return d-=1,t+":"+m(e.value)}};function g(e){var t={code:m(e),globals:Object.keys(c),fields:Object.keys(l)};return c={},l={},t}return g.functions=o,g.constants=u,g}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(317),i=n(1);function a(e,t){for(var n,r,a=t.fields,u=t.values,o=a.length,s=0;s<o;++s)if((r=a[s]).getter=i.t.getter||Object(i.t)(r.field),n=r.getter(e),Object(i.C)(n)&&(n=Object(i.cb)(n)),Object(i.C)(u[s])&&(u[s]=Object(i.cb)(u[s])),Object(i.C)(u[s][0])&&(u[s]=u[s].map(i.cb)),"E"===r.type){if(Object(i.A)(u[s])?u[s].indexOf(n)<0:n!==u[s])return!1}else if("R"===r.type){if(!Object(i.z)(n,u[s]))return!1}else if("R-RE"===r.type){if(!Object(i.z)(n,u[s],!0,!1))return!1}else if("R-E"===r.type){if(!Object(i.z)(n,u[s],!1,!1))return!1}else if("R-LE"===r.type&&!Object(i.z)(n,u[s],!1,!0))return!1;return!0}function u(e,t,n){for(var i,u,o,s,f,c=this.context.data[e],l=c?c.values.value:[],d=c?c["index:unit"]&&c["index:unit"].value:void 0,p=n===r.b,m=l.length,b=0;b<m;++b)if(i=l[b],d&&p){if(-1===(o=(u=u||{})[s=i.unit]||0))continue;if(f=a(t,i),u[s]=f?-1:++o,f&&1===d.size)return!0;if(!f&&o===d.get(s).count)return!1}else if(p^(f=a(t,i)))return f;return m&&p}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(317),i=n(1);function a(e,t,n){for(var a,o,s,f,c,l,d,p,m,b,g,h=this.context.data[e],y=h?h.values.value:[],v={},O={},j={},$=y.length,x=0;x<$;++x){for(f=(a=y[x]).unit,o=a.fields,s=a.values,b=0,g=o.length;b<g;++b)c=o[b],d=(l=v[c.field]||(v[c.field]={}))[f]||(l[f]=[]),j[c.field]=p=c.type.charAt(0),m=u[p+"_union"],l[f]=m(d,Object(i.i)(s[b]));n&&(d=O[f]||(O[f]=[])).push(Object(i.i)(s).reduce((e,t,n)=>(e[o[n].field]=t,e),{}))}return t=t||r.d,Object.keys(v).forEach((function(e){v[e]=Object.keys(v[e]).map(t=>v[e][t]).reduce((n,r)=>void 0===n?r:u[j[e]+"_"+t](n,r))})),y=Object.keys(O),n&&y.length&&(v[r.e]=t===r.d?{[r.c]:y.reduce((e,t)=>(e.push.apply(e,O[t]),e),[])}:{[r.a]:y.map(e=>({[r.c]:O[e]}))}),v}var u={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(i.cb)(t[0]),r=Object(i.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(i.cb)(t[0]),r=Object(i.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(317),i=n(207),a=n(1);function u(e,t,n,u){t[0].type!==i.c&&Object(a.n)("First argument to selection functions must be a string literal.");const o=t[0].value,s=":"+o;(t.length>=2&&Object(a.U)(t).value)!==r.b||Object(a.v)(u,"@unit")||(u["@unit"]=n.getData(o).indataRef(n,"unit")),Object(a.v)(u,s)||(u[s]=n.getData(o).tuplesRef())}},function(e,t,n){"use strict";var r=n(1006),i=n(630);function a(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function u(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}t.a=function(e,t,n){return new a(e,t,n)},a.prototype=u.prototype={fork:function(){var e=new u(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,a=r.dataflow;if(r.set(e.id,t),Object(i.b)(e.type)&&(n=e.value)&&(n.$ingest?a.ingest(t,n.$ingest,n.$format):n.$request?a.preload(t,n.$request,n.$format):a.pulse(t,a.changeset().insert(n))),e.root&&(r.root=t),e.parent){var u=r.get(e.parent.$ref);u?(a.connect(u,[t]),t.targets().add(u)):(r.unresolved=r.unresolved||[]).push((function(){u=r.get(e.parent.$ref),a.connect(u,[t]),t.targets().add(u)}))}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var o in e.data)n=r.data[o]||(r.data[o]={}),e.data[o].forEach((function(e){n[e]=t}))},resolve:function(){return(this.unresolved||[]).forEach((function(e){e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[Object(i.a)(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:r.a,setState:r.b}},function(e,t,n){"use strict";var r=n(1223);n.d(t,"a",(function(){return r.a}));n(738),n(521),n(735),n(736),n(68),n(737),n(327)},function(e,t,n){"use strict";var r=n(1393),i=n(737),a=n(738),u=n(1);t.a=function(e,t){return Object(u.F)(e)||Object(u.n)("Input Vega specification must be an object."),t=Object(u.N)(Object(a.a)(),t,e.config),Object(r.a)(e,new i.a(t)).toRuntime()}},function(e,t,n){"use strict";t.a=function(e,t,n){return r=t||a,i=n||o,f(e.trim()).map(c)};var r,i,a="view",u=/[[\]{}]/,o={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function s(e,t,n,r,i){for(var a,u=0,o=e.length;t<o;++t){if(a=e[t],!u&&a===n)return t;i&&i.indexOf(a)>=0?--u:r&&r.indexOf(a)>=0&&++u}return t}function f(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=s(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function c(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=s(e,i,"]","[","]"))===r)throw"Empty between selector: "+e;if(2!==(t=f(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;if(t=t.map(c),(n=c(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,a={source:r},o=[],f=[0,0],c=0,l=0,d=e.length,p=0;if("}"===e[d-1]){if(!((p=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{f=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!=n)throw e;return n}))}(e.substring(p+1,d-1))}catch(t){throw"Invalid throttle specification: "+e}e=e.slice(0,p).trim(),d=e.length,p=0}if(!d)throw e;"@"===e[0]&&(c=++p);(t=s(e,p,":"))<d&&(o.push(e.substring(l,t).trim()),l=p=++t);if((p=s(e,p,"["))===d)o.push(e.substring(l,d).trim());else if(o.push(e.substring(l,p).trim()),n=[],(l=++p)===d)throw"Unmatched left bracket: "+e;for(;p<d;){if((p=s(e,p,"]"))===d)throw"Unmatched left bracket: "+e;if(n.push(e.substring(l,p).trim()),p<d-1&&"["!==e[++p])throw"Expected left bracket: "+e;l=++p}if(!(d=o.length)||u.test(o[d-1]))throw"Invalid event selector: "+e;d>1?(a.type=o[1],c?a.markname=o[0].slice(1):(m=o[0],i[m]?a.marktype=o[0]:a.source=o[0])):a.type=o[0];var m;"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=n&&(a.filter=n);f[0]&&(a.throttle=f[0]);f[1]&&(a.debounce=f[1]);return a}(e)}},,,,,,,,,function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","title":"Vega Visualization Specification Language","defs":{"autosize":{"oneOf":[{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},{"type":"object","properties":{"type":{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},"resize":{"type":"boolean"},"contains":{"enum":["content","padding"]}},"required":["type"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"axis":{"type":"object","properties":{"orient":{"enum":["top","bottom","left","right"]},"scale":{"type":"string"},"format":{"oneOf":[{"type":"string"},{"type":"object","properties":{"year":{"type":"string"},"quarter":{"type":"string"},"month":{"type":"string"},"date":{"type":"string"},"week":{"type":"string"},"day":{"type":"string"},"hours":{"type":"string"},"minutes":{"type":"string"},"seconds":{"type":"string"},"milliseconds":{"type":"string"}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"formatType":{"oneOf":[{"enum":["number","time","utc"]},{"$ref":"#/refs/signal"}]},"minExtent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"maxExtent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"position":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"bandPosition":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"translate":{"type":"number"},"values":{"$ref":"#/refs/arrayOrSignal"},"zindex":{"type":"number"},"aria":{"type":"boolean"},"description":{"type":"string"},"title":{"$ref":"#/refs/textOrSignal"},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"titleAngle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleX":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleY":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domain":{"type":"boolean"},"domainCap":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"domainColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"domainDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"domainDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domainOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domainWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"ticks":{"type":"boolean"},"tickBand":{"$ref":"#/refs/tickBand"},"tickCap":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"tickColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"tickDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"tickDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickRound":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/booleanValue"}]},"tickSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickCount":{"$ref":"#/refs/tickCount"},"tickExtra":{"$ref":"#/refs/booleanOrSignal"},"tickMinStep":{"$ref":"#/refs/numberOrSignal"},"grid":{"type":"boolean"},"gridScale":{"type":"string"},"gridCap":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"gridColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"gridDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"gridDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gridOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gridWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labels":{"type":"boolean"},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"labelBound":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"labelFlush":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"labelFlushOffset":{"$ref":"#/refs/numberOrSignal"},"labelOverlap":{"$ref":"#/refs/labelOverlap"},"labelAngle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelPadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelSeparation":{"$ref":"#/refs/numberOrSignal"},"encode":{"type":"object","properties":{"axis":{"$ref":"#/defs/guideEncode"},"ticks":{"$ref":"#/defs/guideEncode"},"labels":{"$ref":"#/defs/guideEncode"},"title":{"$ref":"#/defs/guideEncode"},"grid":{"$ref":"#/defs/guideEncode"},"domain":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}},"required":["orient","scale"],"additionalProperties":false},"background":{"$ref":"#/refs/stringOrSignal"},"bind":{"oneOf":[{"type":"object","properties":{"input":{"enum":["checkbox"]},"element":{"$ref":"#/refs/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["radio","select"]},"element":{"$ref":"#/refs/element"},"options":{"type":"array"},"labels":{"type":"array","items":{"type":"string"}},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input","options"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["range"]},"element":{"$ref":"#/refs/element"},"min":{"type":"number"},"max":{"type":"number"},"step":{"type":"number"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"not":{"enum":["checkbox","radio","range","select"]}},"element":{"$ref":"#/refs/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":true}]},"data":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"source":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"},"minItems":1}]},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["source","name"],"additionalProperties":false},{"type":"object","properties":{"url":{"$ref":"#/refs/stringOrSignal"},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]},"property":{"$ref":"#/refs/stringOrSignal"},"copy":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/refs/signal"}]},"async":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["url","name"],"additionalProperties":false},{"type":"object","properties":{"values":{"oneOf":[{},{"$ref":"#/refs/signal"}]},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]},"property":{"$ref":"#/refs/stringOrSignal"},"copy":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/refs/signal"}]},"async":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["values","name"],"additionalProperties":false}]},"rule":{"type":"object","properties":{"test":{"type":"string"}}},"encodeEntry":{"type":"object","properties":{"x":{"$ref":"#/refs/numberValue"},"x2":{"$ref":"#/refs/numberValue"},"xc":{"$ref":"#/refs/numberValue"},"width":{"$ref":"#/refs/numberValue"},"y":{"$ref":"#/refs/numberValue"},"y2":{"$ref":"#/refs/numberValue"},"yc":{"$ref":"#/refs/numberValue"},"height":{"$ref":"#/refs/numberValue"},"opacity":{"$ref":"#/refs/numberValue"},"fill":{"$ref":"#/refs/colorValue"},"fillOpacity":{"$ref":"#/refs/numberValue"},"stroke":{"$ref":"#/refs/colorValue"},"strokeOpacity":{"$ref":"#/refs/numberValue"},"strokeWidth":{"$ref":"#/refs/numberValue"},"strokeCap":{"$ref":"#/refs/strokeCapValue"},"strokeDash":{"$ref":"#/refs/arrayValue"},"strokeDashOffset":{"$ref":"#/refs/numberValue"},"strokeJoin":{"$ref":"#/refs/strokeJoinValue"},"strokeMiterLimit":{"$ref":"#/refs/numberValue"},"blend":{"$ref":"#/refs/blendValue"},"cursor":{"$ref":"#/refs/stringValue"},"tooltip":{"$ref":"#/refs/anyValue"},"zindex":{"$ref":"#/refs/numberValue"},"description":{"$ref":"#/refs/stringValue"},"aria":{"$ref":"#/refs/booleanValue"},"ariaRole":{"$ref":"#/refs/stringValue"},"ariaRoleDescription":{"$ref":"#/refs/stringValue"},"clip":{"$ref":"#/refs/booleanValue"},"strokeForeground":{"$ref":"#/refs/booleanValue"},"strokeOffset":{"$ref":"#/refs/numberValue"},"cornerRadius":{"$ref":"#/refs/numberValue"},"cornerRadiusTopLeft":{"$ref":"#/refs/numberValue"},"cornerRadiusTopRight":{"$ref":"#/refs/numberValue"},"cornerRadiusBottomRight":{"$ref":"#/refs/numberValue"},"cornerRadiusBottomLeft":{"$ref":"#/refs/numberValue"},"angle":{"$ref":"#/refs/numberValue"},"size":{"$ref":"#/refs/numberValue"},"shape":{"$ref":"#/refs/stringValue"},"path":{"$ref":"#/refs/stringValue"},"scaleX":{"$ref":"#/refs/numberValue"},"scaleY":{"$ref":"#/refs/numberValue"},"innerRadius":{"$ref":"#/refs/numberValue"},"outerRadius":{"$ref":"#/refs/numberValue"},"startAngle":{"$ref":"#/refs/numberValue"},"endAngle":{"$ref":"#/refs/numberValue"},"padAngle":{"$ref":"#/refs/numberValue"},"interpolate":{"$ref":"#/refs/stringValue"},"tension":{"$ref":"#/refs/numberValue"},"orient":{"$ref":"#/refs/directionValue"},"defined":{"$ref":"#/refs/booleanValue"},"url":{"$ref":"#/refs/stringValue"},"align":{"$ref":"#/refs/alignValue"},"baseline":{"$ref":"#/refs/baselineValue"},"aspect":{"$ref":"#/refs/booleanValue"},"smooth":{"$ref":"#/refs/booleanValue"},"text":{"$ref":"#/refs/textValue"},"dir":{"$ref":"#/refs/stringValue"},"ellipsis":{"$ref":"#/refs/stringValue"},"limit":{"$ref":"#/refs/numberValue"},"lineBreak":{"$ref":"#/refs/stringValue"},"lineHeight":{"$ref":"#/refs/numberValue"},"dx":{"$ref":"#/refs/numberValue"},"dy":{"$ref":"#/refs/numberValue"},"radius":{"$ref":"#/refs/numberValue"},"theta":{"$ref":"#/refs/numberValue"},"font":{"$ref":"#/refs/stringValue"},"fontSize":{"$ref":"#/refs/numberValue"},"fontWeight":{"$ref":"#/refs/fontWeightValue"},"fontStyle":{"$ref":"#/refs/stringValue"}},"additionalProperties":true},"encode":{"type":"object","additionalProperties":false,"patternProperties":{"^.+$":{"$ref":"#/defs/encodeEntry"}}},"layout":{"oneOf":[{"type":"object","properties":{"align":{"oneOf":[{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},"column":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]}},"additionalProperties":false}]},"bounds":{"oneOf":[{"enum":["full","flush"]},{"$ref":"#/refs/signal"}]},"center":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"row":{"$ref":"#/refs/booleanOrSignal"},"column":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false}]},"columns":{"$ref":"#/refs/numberOrSignal"},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"rowHeader":{"$ref":"#/refs/numberOrSignal"},"rowFooter":{"$ref":"#/refs/numberOrSignal"},"rowTitle":{"$ref":"#/refs/numberOrSignal"},"columnHeader":{"$ref":"#/refs/numberOrSignal"},"columnFooter":{"$ref":"#/refs/numberOrSignal"},"columnTitle":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"headerBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"footerBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"titleBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"titleAnchor":{"oneOf":[{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]},"column":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]}},"additionalProperties":false}]}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"guideEncode":{"type":"object","properties":{"name":{"type":"string"},"interactive":{"type":"boolean","default":false},"style":{"$ref":"#/refs/style"}},"additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/defs/encodeEntry"}}},"legend":{"allOf":[{"type":"object","properties":{"size":{"type":"string"},"shape":{"type":"string"},"fill":{"type":"string"},"stroke":{"type":"string"},"opacity":{"type":"string"},"strokeDash":{"type":"string"},"strokeWidth":{"type":"string"},"type":{"enum":["gradient","symbol"]},"direction":{"enum":["vertical","horizontal"]},"orient":{"oneOf":[{"enum":["none","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"right"},{"$ref":"#/refs/signal"}]},"tickCount":{"$ref":"#/refs/tickCount"},"tickMinStep":{"$ref":"#/refs/numberOrSignal"},"symbolLimit":{"$ref":"#/refs/numberOrSignal"},"values":{"$ref":"#/refs/arrayOrSignal"},"zindex":{"type":"number"},"aria":{"type":"boolean"},"description":{"type":"string"},"cornerRadius":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"fillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"strokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"legendX":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"legendY":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"title":{"$ref":"#/refs/textOrSignal"},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOrient":{"oneOf":[{"enum":["left","right","top","bottom"]},{"$ref":"#/refs/orientValue"}]},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientLength":{"$ref":"#/refs/numberOrSignal"},"gradientOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"gradientStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientThickness":{"$ref":"#/refs/numberOrSignal"},"clipHeight":{"$ref":"#/refs/numberOrSignal"},"columns":{"$ref":"#/refs/numberOrSignal"},"columnPadding":{"$ref":"#/refs/numberOrSignal"},"rowPadding":{"$ref":"#/refs/numberOrSignal"},"gridAlign":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},"symbolDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"symbolDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolFillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"symbolOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"symbolStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolType":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"format":{"oneOf":[{"type":"string"},{"type":"object","properties":{"year":{"type":"string"},"quarter":{"type":"string"},"month":{"type":"string"},"date":{"type":"string"},"week":{"type":"string"},"day":{"type":"string"},"hours":{"type":"string"},"minutes":{"type":"string"},"seconds":{"type":"string"},"milliseconds":{"type":"string"}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"formatType":{"oneOf":[{"enum":["number","time","utc"]},{"$ref":"#/refs/signal"}]},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOverlap":{"$ref":"#/refs/labelOverlap"},"labelSeparation":{"$ref":"#/refs/numberOrSignal"},"encode":{"type":"object","properties":{"title":{"$ref":"#/defs/guideEncode"},"labels":{"$ref":"#/defs/guideEncode"},"legend":{"$ref":"#/defs/guideEncode"},"entries":{"$ref":"#/defs/guideEncode"},"symbols":{"$ref":"#/defs/guideEncode"},"gradient":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}},"additionalProperties":false},{"anyOf":[{"type":"object","required":["size"]},{"type":"object","required":["shape"]},{"type":"object","required":["fill"]},{"type":"object","required":["stroke"]},{"type":"object","required":["opacity"]},{"type":"object","required":["strokeDash"]},{"type":"object","required":["strokeWidth"]}]}]},"mark":{"type":"object","properties":{"type":{"$ref":"#/refs/marktype"},"role":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"aria":{"type":"boolean"},"style":{"$ref":"#/refs/style"},"key":{"type":"string"},"clip":{"$ref":"#/refs/markclip"},"sort":{"$ref":"#/refs/compare"},"interactive":{"$ref":"#/refs/booleanOrSignal"},"encode":{"$ref":"#/defs/encode"},"transform":{"type":"array","items":{"$ref":"#/defs/transformMark"}},"on":{"$ref":"#/defs/onMarkTrigger"}},"required":["type"]},"markGroup":{"allOf":[{"type":"object","properties":{"type":{"enum":["group"]},"from":{"oneOf":[{"$ref":"#/refs/from"},{"$ref":"#/refs/facet"}]}},"required":["type"]},{"$ref":"#/defs/mark"},{"$ref":"#/defs/scope"}]},"markVisual":{"allOf":[{"type":"object","properties":{"type":{"not":{"enum":["group"]}},"from":{"$ref":"#/refs/from"}}},{"$ref":"#/defs/mark"}]},"listener":{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"scale":{"type":"string"}},"required":["scale"]},{"$ref":"#/defs/stream"}]},"onEvents":{"type":"array","items":{"allOf":[{"type":"object","properties":{"events":{"oneOf":[{"$ref":"#/refs/selector"},{"$ref":"#/defs/listener"},{"type":"array","items":{"$ref":"#/defs/listener"},"minItems":1}]},"force":{"type":"boolean"}},"required":["events"]},{"oneOf":[{"type":"object","properties":{"encode":{"type":"string"}},"required":["encode"]},{"type":"object","properties":{"update":{"oneOf":[{"$ref":"#/refs/exprString"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]}]}},"required":["update"]}]}]}},"onTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/refs/exprString"},"insert":{"$ref":"#/refs/exprString"},"remove":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/exprString"}]},"toggle":{"$ref":"#/refs/exprString"},"modify":{"$ref":"#/refs/exprString"},"values":{"$ref":"#/refs/exprString"}},"required":["trigger"],"additionalProperties":false}},"onMarkTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/refs/exprString"},"modify":{"$ref":"#/refs/exprString"},"values":{"$ref":"#/refs/exprString"}},"required":["trigger"],"additionalProperties":false}},"padding":{"oneOf":[{"type":"number"},{"type":"object","properties":{"top":{"type":"number"},"bottom":{"type":"number"},"left":{"type":"number"},"right":{"type":"number"}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"projection":{"type":"object","properties":{"name":{"type":"string"},"type":{"$ref":"#/refs/stringOrSignal"},"clipAngle":{"$ref":"#/refs/numberOrSignal"},"clipExtent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"scale":{"$ref":"#/refs/numberOrSignal"},"translate":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"center":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"rotate":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":3},{"$ref":"#/refs/signal"}]},"parallels":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"precision":{"$ref":"#/refs/numberOrSignal"},"pointRadius":{"$ref":"#/refs/numberOrSignal"},"fit":{"oneOf":[{"type":"object"},{"type":"array"}]},"extent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]}},"required":["name"],"additionalProperties":true},"scale":{"oneOf":[{"type":"object","properties":{"type":{"enum":["identity"]},"nice":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["ordinal"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"$ref":"#/refs/stringOrSignal"},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/refs/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/refs/signal"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"domainImplicit":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["band"]},"paddingInner":{"$ref":"#/refs/numberOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"padding":{"$ref":"#/refs/numberOrSignal"},"paddingOuter":{"$ref":"#/refs/numberOrSignal"},"align":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["point"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"padding":{"$ref":"#/refs/numberOrSignal"},"paddingOuter":{"$ref":"#/refs/numberOrSignal"},"align":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantize","threshold"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantile"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["bin-ordinal"]},"bins":{"$ref":"#/refs/scaleBins"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["time","utc"]},"nice":{"oneOf":[{"type":"boolean"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/refs/signal"}]},"step":{"$ref":"#/refs/numberOrSignal"}},"required":["interval"],"additionalProperties":false}]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["linear","sqrt","sequential"]},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["log"]},"base":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["pow"]},"exponent":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["symlog"]},"constant":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false}]},"scope":{"type":"object","properties":{"encode":{"$ref":"#/defs/encode"},"layout":{"$ref":"#/defs/layout"},"signals":{"type":"array","items":{"$ref":"#/defs/signal"}},"data":{"type":"array","items":{"$ref":"#/defs/data"}},"scales":{"type":"array","items":{"$ref":"#/defs/scale"}},"projections":{"type":"array","items":{"$ref":"#/defs/projection"}},"axes":{"type":"array","items":{"$ref":"#/defs/axis"}},"legends":{"type":"array","items":{"$ref":"#/defs/legend"}},"title":{"$ref":"#/defs/title"},"marks":{"type":"array","items":{"oneOf":[{"$ref":"#/defs/markGroup"},{"$ref":"#/defs/markVisual"}]}},"usermeta":{"type":"object"}}},"signalName":{"type":"string","not":{"enum":["parent","datum","event","item"]}},"signal":{"oneOf":[{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"push":{"enum":["outer"]},"on":{"$ref":"#/defs/onEvents"}},"required":["name","push"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"value":{},"react":{"type":"boolean","default":true},"update":{"$ref":"#/refs/exprString"},"on":{"$ref":"#/defs/onEvents"},"bind":{"$ref":"#/defs/bind"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"value":{},"init":{"$ref":"#/refs/exprString"},"on":{"$ref":"#/defs/onEvents"},"bind":{"$ref":"#/defs/bind"}},"required":["name","init"],"additionalProperties":false}]},"stream":{"allOf":[{"type":"object","properties":{"between":{"type":"array","items":{"$ref":"#/defs/stream"},"minItems":2,"maxItems":2},"marktype":{"type":"string"},"markname":{"type":"string"},"filter":{"oneOf":[{"$ref":"#/refs/exprString"},{"type":"array","items":{"$ref":"#/refs/exprString"},"minItems":1}]},"throttle":{"type":"number"},"debounce":{"type":"number"},"consume":{"type":"boolean"}}},{"oneOf":[{"type":"object","properties":{"type":{"type":"string"},"source":{"type":"string"}},"required":["type"]},{"type":"object","properties":{"stream":{"$ref":"#/defs/stream"}},"required":["stream"]},{"type":"object","properties":{"merge":{"type":"array","items":{"$ref":"#/defs/stream"},"minItems":1}},"required":["merge"]}]}]},"title":{"oneOf":[{"type":"string"},{"type":"object","properties":{"orient":{"oneOf":[{"enum":["none","left","right","top","bottom"],"default":"top"},{"$ref":"#/refs/signal"}]},"anchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"frame":{"oneOf":[{"enum":["group","bounds"]},{"$ref":"#/refs/stringValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"aria":{"type":"boolean"},"limit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"zindex":{"type":"number"},"align":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"angle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"baseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"dx":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"dy":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"text":{"$ref":"#/refs/textOrSignal"},"color":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"font":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"fontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"fontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"fontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"lineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"subtitle":{"$ref":"#/refs/textOrSignal"},"subtitleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"subtitleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"subtitleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"subtitleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"subtitleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"subtitleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"subtitlePadding":{"$ref":"#/refs/numberOrSignal"},"encode":{"anyOf":[{"type":"object","additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/defs/encodeEntry"}}},{"type":"object","properties":{"group":{"$ref":"#/defs/guideEncode"},"title":{"$ref":"#/defs/guideEncode"},"subtitle":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}]},"name":{"type":"string"},"interactive":{"type":"boolean"},"style":{"$ref":"#/refs/style"}},"additionalProperties":false}]},"transform":{"oneOf":[{"$ref":"#/defs/crossfilterTransform"},{"$ref":"#/defs/resolvefilterTransform"},{"$ref":"#/defs/linkpathTransform"},{"$ref":"#/defs/pieTransform"},{"$ref":"#/defs/stackTransform"},{"$ref":"#/defs/forceTransform"},{"$ref":"#/defs/contourTransform"},{"$ref":"#/defs/geojsonTransform"},{"$ref":"#/defs/geopathTransform"},{"$ref":"#/defs/geopointTransform"},{"$ref":"#/defs/geoshapeTransform"},{"$ref":"#/defs/graticuleTransform"},{"$ref":"#/defs/heatmapTransform"},{"$ref":"#/defs/isocontourTransform"},{"$ref":"#/defs/kde2dTransform"},{"$ref":"#/defs/nestTransform"},{"$ref":"#/defs/packTransform"},{"$ref":"#/defs/partitionTransform"},{"$ref":"#/defs/stratifyTransform"},{"$ref":"#/defs/treeTransform"},{"$ref":"#/defs/treelinksTransform"},{"$ref":"#/defs/treemapTransform"},{"$ref":"#/defs/labelTransform"},{"$ref":"#/defs/loessTransform"},{"$ref":"#/defs/regressionTransform"},{"$ref":"#/defs/aggregateTransform"},{"$ref":"#/defs/binTransform"},{"$ref":"#/defs/collectTransform"},{"$ref":"#/defs/countpatternTransform"},{"$ref":"#/defs/crossTransform"},{"$ref":"#/defs/densityTransform"},{"$ref":"#/defs/dotbinTransform"},{"$ref":"#/defs/extentTransform"},{"$ref":"#/defs/filterTransform"},{"$ref":"#/defs/flattenTransform"},{"$ref":"#/defs/foldTransform"},{"$ref":"#/defs/formulaTransform"},{"$ref":"#/defs/imputeTransform"},{"$ref":"#/defs/joinaggregateTransform"},{"$ref":"#/defs/kdeTransform"},{"$ref":"#/defs/lookupTransform"},{"$ref":"#/defs/pivotTransform"},{"$ref":"#/defs/projectTransform"},{"$ref":"#/defs/quantileTransform"},{"$ref":"#/defs/sampleTransform"},{"$ref":"#/defs/sequenceTransform"},{"$ref":"#/defs/timeunitTransform"},{"$ref":"#/defs/windowTransform"},{"$ref":"#/defs/identifierTransform"},{"$ref":"#/defs/voronoiTransform"},{"$ref":"#/defs/wordcloudTransform"}]},"transformMark":{"oneOf":[{"$ref":"#/defs/crossfilterTransform"},{"$ref":"#/defs/resolvefilterTransform"},{"$ref":"#/defs/linkpathTransform"},{"$ref":"#/defs/pieTransform"},{"$ref":"#/defs/stackTransform"},{"$ref":"#/defs/forceTransform"},{"$ref":"#/defs/geojsonTransform"},{"$ref":"#/defs/geopathTransform"},{"$ref":"#/defs/geopointTransform"},{"$ref":"#/defs/geoshapeTransform"},{"$ref":"#/defs/heatmapTransform"},{"$ref":"#/defs/packTransform"},{"$ref":"#/defs/partitionTransform"},{"$ref":"#/defs/stratifyTransform"},{"$ref":"#/defs/treeTransform"},{"$ref":"#/defs/treemapTransform"},{"$ref":"#/defs/labelTransform"},{"$ref":"#/defs/binTransform"},{"$ref":"#/defs/collectTransform"},{"$ref":"#/defs/dotbinTransform"},{"$ref":"#/defs/extentTransform"},{"$ref":"#/defs/formulaTransform"},{"$ref":"#/defs/joinaggregateTransform"},{"$ref":"#/defs/lookupTransform"},{"$ref":"#/defs/sampleTransform"},{"$ref":"#/defs/timeunitTransform"},{"$ref":"#/defs/windowTransform"},{"$ref":"#/defs/identifierTransform"},{"$ref":"#/defs/voronoiTransform"},{"$ref":"#/defs/wordcloudTransform"}]},"crossfilterTransform":{"type":"object","properties":{"type":{"enum":["crossfilter"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"query":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]}},"required":["type","fields","query"],"additionalProperties":false},"resolvefilterTransform":{"type":"object","properties":{"type":{"enum":["resolvefilter"]},"signal":{"type":"string"},"ignore":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"filter":{}},"required":["type","ignore","filter"],"additionalProperties":false},"linkpathTransform":{"type":"object","properties":{"type":{"enum":["linkpath"]},"signal":{"type":"string"},"sourceX":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"source.x"},"sourceY":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"source.y"},"targetX":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"target.x"},"targetY":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"target.y"},"orient":{"anyOf":[{"enum":["horizontal","vertical","radial"]},{"$ref":"#/refs/signal"}],"default":"vertical"},"shape":{"anyOf":[{"enum":["line","arc","curve","diagonal","orthogonal"]},{"$ref":"#/refs/signal"}],"default":"line"},"require":{"$ref":"#/refs/signal"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type"],"additionalProperties":false},"pieTransform":{"type":"object","properties":{"type":{"enum":["pie"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"startAngle":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"endAngle":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":6.283185307179586},"sort":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["startAngle","endAngle"]}},"required":["type"],"additionalProperties":false},"stackTransform":{"type":"object","properties":{"type":{"enum":["stack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"sort":{"$ref":"#/refs/compare"},"offset":{"anyOf":[{"enum":["zero","center","normalize"]},{"$ref":"#/refs/signal"}],"default":"zero"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["y0","y1"]}},"required":["type"],"additionalProperties":false},"forceTransform":{"type":"object","properties":{"type":{"enum":["force"]},"signal":{"type":"string"},"static":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"restart":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":300},"alpha":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"alphaMin":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.001},"alphaTarget":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"velocityDecay":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.4},"forces":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"force":{"enum":["center"]},"x":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"y":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["collide"]},"radius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.7},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["nbody"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":-30},"theta":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.9},"distanceMin":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"distanceMax":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["link"]},"links":{"type":"string"},"id":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"distance":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":30},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["x"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.1},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["y"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.1},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["force"],"additionalProperties":false}]}},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["x","y","vx","vy"]}},"required":["type"],"additionalProperties":false},"contourTransform":{"type":"object","properties":{"type":{"enum":["contour"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"values":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"weight":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"cellSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"count":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true}},"required":["type","size"],"additionalProperties":false},"geojsonTransform":{"type":"object","properties":{"type":{"enum":["geojson"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"geojson":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"geopathTransform":{"type":"object","properties":{"type":{"enum":["geopath"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type"],"additionalProperties":false},"geopointTransform":{"type":"object","properties":{"type":{"enum":["geopoint"]},"signal":{"type":"string"},"projection":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["x","y"]}},"required":["type","projection","fields"],"additionalProperties":false},"geoshapeTransform":{"type":"object","properties":{"type":{"enum":["geoshape"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"datum"},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"shape"}},"required":["type"],"additionalProperties":false},"graticuleTransform":{"type":"object","properties":{"type":{"enum":["graticule"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extentMajor":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extentMinor":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"step":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"stepMajor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[90,360]},"stepMinor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[10,10]},"precision":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":2.5}},"required":["type"],"additionalProperties":false},"heatmapTransform":{"type":"object","properties":{"type":{"enum":["heatmap"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"color":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"opacity":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"image"}},"required":["type"],"additionalProperties":false},"isocontourTransform":{"type":"object","properties":{"type":{"enum":["isocontour"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"levels":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"zero":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"scale":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"translate":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]}},{"$ref":"#/refs/signal"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}],"default":"contour"}},"required":["type"],"additionalProperties":false},"kde2dTransform":{"type":"object","properties":{"type":{"enum":["kde2d"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"weight":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"cellSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"bandwidth":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"counts":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"grid"}},"required":["type","size","x","y"],"additionalProperties":false},"nestTransform":{"type":"object","properties":{"type":{"enum":["nest"]},"signal":{"type":"string"},"keys":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"generate":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"packTransform":{"type":"object","properties":{"type":{"enum":["pack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"radius":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":5,"minItems":5,"default":["x","y","r","depth","children"]}},"required":["type"],"additionalProperties":false},"partitionTransform":{"type":"object","properties":{"type":{"enum":["partition"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":6,"minItems":6,"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"stratifyTransform":{"type":"object","properties":{"type":{"enum":["stratify"]},"signal":{"type":"string"},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"parentKey":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","key","parentKey"],"additionalProperties":false},"treeTransform":{"type":"object","properties":{"type":{"enum":["tree"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"method":{"anyOf":[{"enum":["tidy","cluster"]},{"$ref":"#/refs/signal"}],"default":"tidy"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"nodeSize":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"separation":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":4,"minItems":4,"default":["x","y","depth","children"]}},"required":["type"],"additionalProperties":false},"treelinksTransform":{"type":"object","properties":{"type":{"enum":["treelinks"]},"signal":{"type":"string"}},"required":["type"],"additionalProperties":false},"treemapTransform":{"type":"object","properties":{"type":{"enum":["treemap"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"method":{"anyOf":[{"enum":["squarify","resquarify","binary","dice","slice","slicedice"]},{"$ref":"#/refs/signal"}],"default":"squarify"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingInner":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingOuter":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingTop":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingRight":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingBottom":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingLeft":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"ratio":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1.618033988749895},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":6,"minItems":6,"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"labelTransform":{"type":"object","properties":{"type":{"enum":["label"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"sort":{"$ref":"#/refs/compare"},"anchor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"]},"offset":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":[1]},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"lineAnchor":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"end"},"markIndex":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"avoidBaseMark":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"avoidMarks":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"naive"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":5,"minItems":5,"default":["x","y","opacity","align","baseline"]}},"required":["type","size"],"additionalProperties":false},"loessTransform":{"type":"object","properties":{"type":{"enum":["loess"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.3},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","x","y"],"additionalProperties":false},"regressionTransform":{"type":"object","properties":{"type":{"enum":["regression"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"linear"},"order":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":3},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"params":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","x","y"],"additionalProperties":false},"aggregateTransform":{"type":"object","properties":{"type":{"enum":["aggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"drop":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"cross":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"binTransform":{"type":"object","properties":{"type":{"enum":["bin"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"interval":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"anchor":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"maxbins":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":20},"base":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":10},"divide":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":[5,2]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"span":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"steps":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"minstep":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"name":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["bin0","bin1"]}},"required":["type","field","extent"],"additionalProperties":false},"collectTransform":{"type":"object","properties":{"type":{"enum":["collect"]},"signal":{"type":"string"},"sort":{"$ref":"#/refs/compare"}},"required":["type"],"additionalProperties":false},"countpatternTransform":{"type":"object","properties":{"type":{"enum":["countpattern"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"case":{"anyOf":[{"enum":["upper","lower","mixed"]},{"$ref":"#/refs/signal"}],"default":"mixed"},"pattern":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"[\\\\w\\"]+"},"stopwords":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["text","count"]}},"required":["type","field"],"additionalProperties":false},"crossTransform":{"type":"object","properties":{"type":{"enum":["cross"]},"signal":{"type":"string"},"filter":{"$ref":"#/refs/exprString"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["a","b"]}},"required":["type"],"additionalProperties":false},"densityTransform":{"type":"object","properties":{"type":{"enum":["density"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":200},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"pdf"},"distribution":{"oneOf":[{"type":"object","properties":{"function":{"enum":["normal"]},"mean":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stdev":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["lognormal"]},"mean":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stdev":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["uniform"]},"min":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"max":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["kde"]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"from":{"type":"string"},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["function","field"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["mixture"]},"distributions":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]},"weights":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["function"],"additionalProperties":false}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["value","density"]}},"required":["type"],"additionalProperties":false},"dotbinTransform":{"type":"object","properties":{"type":{"enum":["dotbin"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"bin"}},"required":["type","field"],"additionalProperties":false},"extentTransform":{"type":"object","properties":{"type":{"enum":["extent"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","field"],"additionalProperties":false},"filterTransform":{"type":"object","properties":{"type":{"enum":["filter"]},"signal":{"type":"string"},"expr":{"$ref":"#/refs/exprString"}},"required":["type","expr"],"additionalProperties":false},"flattenTransform":{"type":"object","properties":{"type":{"enum":["flatten"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"index":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","fields"],"additionalProperties":false},"foldTransform":{"type":"object","properties":{"type":{"enum":["fold"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["key","value"]}},"required":["type","fields"],"additionalProperties":false},"formulaTransform":{"type":"object","properties":{"type":{"enum":["formula"]},"signal":{"type":"string"},"expr":{"$ref":"#/refs/exprString"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"initonly":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type","expr","as"],"additionalProperties":false},"imputeTransform":{"type":"object","properties":{"type":{"enum":["impute"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"keyvals":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"enum":["value","mean","median","max","min"]},{"$ref":"#/refs/signal"}],"default":"value"},"value":{}},"required":["type","field","key"],"additionalProperties":false},"joinaggregateTransform":{"type":"object","properties":{"type":{"enum":["joinaggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"kdeTransform":{"type":"object","properties":{"type":{"enum":["kde"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"cumulative":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"counts":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":200},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["value","density"]}},"required":["type","field"],"additionalProperties":false},"lookupTransform":{"type":"object","properties":{"type":{"enum":["lookup"]},"signal":{"type":"string"},"from":{"type":"string"},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"values":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"default":{}},"required":["type","from","key","fields"],"additionalProperties":false},"pivotTransform":{"type":"object","properties":{"type":{"enum":["pivot"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"value":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"op":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#/refs/signal"}],"default":"sum"},"limit":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","field","value"],"additionalProperties":false},"projectTransform":{"type":"object","properties":{"type":{"enum":["project"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"quantileTransform":{"type":"object","properties":{"type":{"enum":["quantile"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"probs":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.01},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["prob","value"]}},"required":["type","field"],"additionalProperties":false},"sampleTransform":{"type":"object","properties":{"type":{"enum":["sample"]},"signal":{"type":"string"},"size":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1000}},"required":["type"],"additionalProperties":false},"sequenceTransform":{"type":"object","properties":{"type":{"enum":["sequence"]},"signal":{"type":"string"},"start":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stop":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"data"}},"required":["type","start","stop"],"additionalProperties":false},"timeunitTransform":{"type":"object","properties":{"type":{"enum":["timeunit"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"interval":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"units":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["year","quarter","month","week","date","day","dayofyear","hours","minutes","seconds","milliseconds"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"maxbins":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":40},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"timezone":{"anyOf":[{"enum":["local","utc"]},{"$ref":"#/refs/signal"}],"default":"local"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["unit0","unit1"]}},"required":["type","field"],"additionalProperties":false},"windowTransform":{"type":"object","properties":{"type":{"enum":["window"]},"signal":{"type":"string"},"sort":{"$ref":"#/refs/compare"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","prev_value","next_value","values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"params":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"frame":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[null,0]},"ignorePeers":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"identifierTransform":{"type":"object","properties":{"type":{"enum":["identifier"]},"signal":{"type":"string"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},"required":["type","as"],"additionalProperties":false},"voronoiTransform":{"type":"object","properties":{"type":{"enum":["voronoi"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extent":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[[-100000,-100000],[100000,100000]]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type","x","y"],"additionalProperties":false},"wordcloudTransform":{"type":"object","properties":{"type":{"enum":["wordcloud"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"font":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"sans-serif"},"fontStyle":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"normal"},"fontWeight":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"normal"},"fontSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":14},"fontSizeRange":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"},{"type":"null"}],"default":[10,50]},"rotate":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"text":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"spiral":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":7,"minItems":7,"default":["x","y","font","fontSize","fontStyle","fontWeight","angle"]}},"required":["type"],"additionalProperties":false}},"refs":{"labelOverlap":{"oneOf":[{"type":"boolean"},{"enum":["parity","greedy"]},{"$ref":"#/refs/signal"}]},"tickBand":{"oneOf":[{"enum":["center","extent"]},{"$ref":"#/refs/signal"}]},"tickCount":{"oneOf":[{"type":"number"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/refs/signal"}]},"step":{"$ref":"#/refs/numberOrSignal"}},"required":["interval"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"element":{"type":"string"},"paramField":{"type":"object","properties":{"field":{"type":"string"},"as":{"type":"string"}},"required":["field"],"additionalProperties":false},"field":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"datum":{"$ref":"#/refs/field"}},"required":["datum"],"additionalProperties":false},{"type":"object","properties":{"group":{"$ref":"#/refs/field"},"level":{"type":"number"}},"required":["group"],"additionalProperties":false},{"type":"object","properties":{"parent":{"$ref":"#/refs/field"},"level":{"type":"number"}},"required":["parent"],"additionalProperties":false}]},"scale":{"$ref":"#/refs/field"},"stringModifiers":{"type":"object","properties":{"scale":{"$ref":"#/refs/scale"}}},"numberModifiers":{"type":"object","properties":{"exponent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"mult":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"round":{"type":"boolean","default":false},"scale":{"$ref":"#/refs/scale"},"band":{"oneOf":[{"type":"number"},{"type":"boolean"}]},"extra":{"type":"boolean"}}},"anyValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"blendValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"numberValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"stringValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"textValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"booleanValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"arrayValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"fontWeightValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"anchorValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"alignValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"baselineValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"directionValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"orientValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeCapValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeJoinValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"baseColorValue":{"oneOf":[{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]},{"type":"object","properties":{"value":{"$ref":"#/refs/linearGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"value":{"$ref":"#/refs/radialGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"gradient":{"$ref":"#/refs/scale"},"start":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"stop":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"count":{"type":"number"}},"required":["gradient"],"additionalProperties":false},{"type":"object","properties":{"color":{"oneOf":[{"$ref":"#/refs/colorRGB"},{"$ref":"#/refs/colorHSL"},{"$ref":"#/refs/colorLAB"},{"$ref":"#/refs/colorHCL"}]}},"required":["color"],"additionalProperties":false}]},"colorRGB":{"type":"object","properties":{"r":{"$ref":"#/refs/numberValue"},"g":{"$ref":"#/refs/numberValue"},"b":{"$ref":"#/refs/numberValue"}},"required":["r","g","b"]},"colorHSL":{"type":"object","properties":{"h":{"$ref":"#/refs/numberValue"},"s":{"$ref":"#/refs/numberValue"},"l":{"$ref":"#/refs/numberValue"}},"required":["h","s","l"]},"colorLAB":{"type":"object","properties":{"l":{"$ref":"#/refs/numberValue"},"a":{"$ref":"#/refs/numberValue"},"b":{"$ref":"#/refs/numberValue"}},"required":["l","a","b"]},"colorHCL":{"type":"object","properties":{"h":{"$ref":"#/refs/numberValue"},"c":{"$ref":"#/refs/numberValue"},"l":{"$ref":"#/refs/numberValue"}},"required":["h","c","l"]},"colorValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"$ref":"#/refs/baseColorValue"}]}},{"$ref":"#/refs/baseColorValue"}]},"gradientStops":{"type":"array","items":{"type":"object","properties":{"offset":{"type":"number"},"color":{"type":"string"}},"required":["offset","color"],"additionalProperties":false}},"linearGradient":{"type":"object","properties":{"gradient":{"enum":["linear"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"stops":{"$ref":"#/refs/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"radialGradient":{"type":"object","properties":{"gradient":{"enum":["radial"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"r1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"r2":{"type":"number"},"stops":{"$ref":"#/refs/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"expr":{"type":"object","properties":{"expr":{"type":"string"},"as":{"type":"string"}},"required":["expr"]},"exprString":{"type":"string"},"compare":{"oneOf":[{"type":"object","properties":{"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/expr"}]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/expr"}]}},"order":{"type":"array","items":{"$ref":"#/refs/sortOrder"}}},"additionalProperties":false}]},"from":{"type":"object","properties":{"data":{"type":"string"}},"additionalProperties":false},"facet":{"type":"object","properties":{"data":{"type":"string"},"facet":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"field":{"type":"string"}},"required":["name","data","field"],"additionalProperties":false},{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"groupby":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"aggregate":{"type":"object","properties":{"cross":{"type":"boolean"},"fields":{"type":"array","items":{"type":"string"}},"ops":{"type":"array","items":{"type":"string"}},"as":{"type":"array","items":{"type":"string"}}},"additionalProperties":false}},"required":["name","data","groupby"],"additionalProperties":false}]}},"required":["facet"],"additionalProperties":false},"markclip":{"oneOf":[{"$ref":"#/refs/booleanOrSignal"},{"type":"object","properties":{"path":{"$ref":"#/refs/stringOrSignal"}},"required":["path"],"additionalProperties":false},{"type":"object","properties":{"sphere":{"$ref":"#/refs/stringOrSignal"}},"required":["sphere"],"additionalProperties":false}]},"style":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"marktype":{"type":"string"},"scaleField":{"$ref":"#/refs/stringOrSignal"},"sortOrder":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#/refs/signal"}]},"scaleBins":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"},"start":{"$ref":"#/refs/numberOrSignal"},"stop":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"scaleInterpolate":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"gamma":{"$ref":"#/refs/numberOrSignal"}},"required":["type"],"additionalProperties":false}]},"scaleData":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"$ref":"#/refs/stringOrSignal"},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/refs/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/refs/signal"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},"selector":{"type":"string"},"signal":{"type":"object","properties":{"signal":{"type":"string"}},"required":["signal"]},"arrayOrSignal":{"oneOf":[{"type":"array"},{"$ref":"#/refs/signal"}]},"booleanOrSignal":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"numberOrSignal":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stringOrSignal":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"textOrSignal":{"oneOf":[{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},{"$ref":"#/refs/signal"}]}},"type":"object","allOf":[{"$ref":"#/defs/scope"},{"properties":{"$schema":{"type":"string","format":"uri"},"config":{"type":"object"},"description":{"type":"string"},"width":{"$ref":"#/refs/numberOrSignal"},"height":{"$ref":"#/refs/numberOrSignal"},"padding":{"$ref":"#/defs/padding"},"autosize":{"$ref":"#/defs/autosize"},"background":{"$ref":"#/defs/background"},"style":{"$ref":"#/refs/style"}}}]}')},,,,function(e,t,n){"use strict";const r={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}};t.a=r},function(e,t,n){"use strict";const r={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}};t.a=r},function(e,t,n){"use strict";const r={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}};t.a=r},function(e,t,n){"use strict";const r={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}};t.a=r},function(e,t,n){"use strict";const r="Benton Gothic Bold, sans-serif",i={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},a={background:"#ffffff",title:{anchor:"start",color:"#000000",font:r,fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:r,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:r,titleFontSize:13,titleFontWeight:"normal"},range:{category:i["category-6"],diverging:i["fireandice-6"],heatmap:i["fire-7"],ordinal:i["fire-7"],ramp:i["fire-7"]}};t.a=a},function(e,t,n){"use strict";const r={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}};t.a=r},function(e,t,n){"use strict";const r={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}};t.a=r},function(e,t,n){"use strict";const r={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},i={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:r["six-groups-cat-1"],diverging:r["diverging-colors"],heatmap:r["diverging-colors"],ordinal:r["six-groups-seq"],ramp:r["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}};t.a=i},function(e,t,n){"use strict";const r={arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}};t.a=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(250),i=n(1);t.a=function(e,t,n,a){var u,o=1;return e instanceof r.a?u=e:e&&e.prototype instanceof r.a?u=new e:Object(i.D)(e)?u=new r.a(null,e):(o=0,u=new r.a(e,t)),this.rank(u),o&&(a=n,n=t),n&&this.connect(u,u.parameters(n,a)),this.touch(u),u}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)}},function(e,t,n){"use strict";var r=n(690),i=n(1);t.a=function(e,t,n,a){for(var u,o=this,s=Object(r.b)(n,a),f=function(e){e.dataflow=o;try{s.receive(e)}catch(e){o.error(e)}finally{o.run()}},c=0,l=(u="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):Object(i.i)(e)).length;c<l;++c)u[c].addEventListener(t,f);return s}},function(e,t,n){"use strict";var r=n(1);const i=/^([A-Za-z]+:)?\/\//,a=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,u=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;async function o(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function s(e,t){t=Object(r.o)({},this.options,t);const n=this.fileAccess,o={href:null};let s,f,c;const l=a.test(e.replace(u,""));null!=e&&"string"==typeof e&&l||Object(r.n)("Sanitize failure, invalid URI: "+Object(r.Z)(e));const d=i.test(e);return(c=t.baseURL)&&!d&&(e.startsWith("/")||"/"===c[c.length-1]||(e="/"+e),e=c+e),f=(s=e.startsWith("file://"))||"file"===t.mode||"http"!==t.mode&&!d&&n,s?e=e.slice("file://".length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),f=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(o,"localFile",{value:!!f}),o.href=e,t.target&&(o.target=t.target+""),t.rel&&(o.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(o.crossOrigin=t.crossOrigin+""),o}function f(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:c}async function c(){Object(r.n)("No file system access.")}function l(e){return e?async function(t,n){const i=Object(r.o)({},this.options.http,n),a=n&&n.response,u=await e(t,i);return u.ok?Object(r.D)(u[a])?u[a]():u.text():Object(r.n)(u.status+""+u.statusText)}:d}async function d(){Object(r.n)("No HTTP fetch method available.")}t.a=function(e,t){return function(n){return{options:n||{},sanitize:s,load:o,fileAccess:!!t,file:f(t),http:l(e)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(757),i=n(969),a=n(1);const u={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function o(e,t){let n,o,s,f;return e=Object(r.a)(e,t),t&&t.feature?(n=i.a,s=t.feature):t&&t.mesh?(n=i.b,s=t.mesh,f=u[t.filter]):Object(a.n)("Missing TopoJSON feature or mesh parameter."),o=(o=e.objects[s])?n(e,o,f):Object(a.n)("Invalid TopoJSON object: "+s),o&&o.features||[o]}o.responseType="json"},,,function(e,t,n){"use strict";var r=n(250),i=n(456),a=n(1),u={skip:!0};function o(e,t,n,o,s,f){var c,l,d=Object(a.o)({},f,u);Object(a.D)(n)||(n=Object(a.l)(n)),void 0===o?c=t=>e.touch(n(t)):Object(a.D)(o)?(l=new r.a(null,o,s,!1),c=t=>{l.evaluate(t);const r=n(t),a=l.value;Object(i.b)(a)?e.pulse(r,a,f):e.update(r,a,d)}):c=t=>e.update(n(t),o,d),t.apply(c)}function s(e,t,n,i,u,o){if(void 0===i)t.targets().add(n);else{const s=o||{},f=new r.a(null,function(e,t){return t=Object(a.D)(t)?t:Object(a.l)(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,i),u,!1);f.modified(s.force),f.rank=t.rank,t.targets().add(f),n&&(f.skip(!0),f.value=n.value,f.targets().add(n),e.connect(n,[f]))}}t.a=function(e,t,n,i,a){return(e instanceof r.a?s:o)(this,e,t,n,i,a),this}},function(e,t,n){"use strict";function r(e){var t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),i(t,0,t.length-1,e)),pop:()=>{var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,a=t,u=e.length,o=e[t],s=1+(t<<1);for(;s<u;)(r=s+1)<u&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],s=1+((t=s)<<1);e[t]=o,i(e,a,t,n)}(t,0,e)):n=r,n}}}function i(e,t,n,r){var i,a,u;for(i=e[n];n>t&&r(i,a=e[u=n-1>>1])<0;)e[n]=a,n=u;return e[n]=i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var r=n(410);n.d(t,"aggregate",(function(){return r.a}));var i=n(1107);n.d(t,"bin",(function(){return i.a}));var a=n(1108);n.d(t,"collect",(function(){return a.a}));var u=n(1109);n.d(t,"compare",(function(){return u.a}));var o=n(1110);n.d(t,"countpattern",(function(){return o.a}));var s=n(1111);n.d(t,"cross",(function(){return s.a}));var f=n(1112);n.d(t,"density",(function(){return f.a}));var c=n(1113);n.d(t,"dotbin",(function(){return c.a}));var l=n(1114);n.d(t,"expression",(function(){return l.a}));var d=n(1115);n.d(t,"extent",(function(){return d.a}));var p=n(605);n.d(t,"facet",(function(){return p.a}));var m=n(1116);n.d(t,"field",(function(){return m.a}));var b=n(1117);n.d(t,"filter",(function(){return b.a}));var g=n(1118);n.d(t,"flatten",(function(){return g.a}));var h=n(1119);n.d(t,"fold",(function(){return h.a}));var y=n(1120);n.d(t,"formula",(function(){return y.a}));var v=n(1121);n.d(t,"generate",(function(){return v.a}));var O=n(1122);n.d(t,"impute",(function(){return O.a}));var j=n(1123);n.d(t,"joinaggregate",(function(){return j.a}));var $=n(1124);n.d(t,"kde",(function(){return $.a}));var x=n(1125);n.d(t,"key",(function(){return x.a}));var k=n(1126);n.d(t,"load",(function(){return k.a}));var A=n(1127);n.d(t,"lookup",(function(){return A.a}));var F=n(1128);n.d(t,"multiextent",(function(){return F.a}));var w=n(1129);n.d(t,"multivalues",(function(){return w.a}));var _=n(1130);n.d(t,"params",(function(){return _.a}));var D=n(1131);n.d(t,"pivot",(function(){return D.a}));var C=n(1132);n.d(t,"prefacet",(function(){return C.a}));var S=n(1133);n.d(t,"project",(function(){return S.a}));var E=n(1134);n.d(t,"proxy",(function(){return E.a}));var q=n(1135);n.d(t,"quantile",(function(){return q.a}));var M=n(1136);n.d(t,"relay",(function(){return M.a}));var B=n(1137);n.d(t,"sample",(function(){return B.a}));var z=n(1138);n.d(t,"sequence",(function(){return z.a}));var T=n(1139);n.d(t,"sieve",(function(){return T.a}));var P=n(699);n.d(t,"subflow",(function(){return P.a}));var R=n(1140);n.d(t,"timeunit",(function(){return R.a}));var I=n(1142);n.d(t,"tupleindex",(function(){return I.a}));var V=n(1143);n.d(t,"values",(function(){return V.a}));var L=n(1144);n.d(t,"window",(function(){return L.a}))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(72),i=n(1),a={kde:r.r,mixture:r.u,normal:r.v,lognormal:r.t,uniform:r.w};function u(e,t){var n=e.function;Object(i.v)(a,n)||Object(i.n)("Unknown distribution function: "+n);var r=a[n]();for(var o in e)"field"===o?r.data((e.from||t()).map(e[o])):"distributions"===o?r[o](e[o].map((function(e){return u(e,t)}))):"function"==typeof r[o]&&r[o](e[o]);return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(229),i=n(760),a=n(618),u=n(1);function o(e){let t=this,n=Object(u.i)(e.ops),o=Object(u.i)(e.fields),s=Object(u.i)(e.params),f=Object(u.i)(e.as),c=t.outputs=[],l=t.windows=[],d={},p={},m=!0,b=[],g=[];function h(e){Object(u.i)(Object(u.g)(e)).forEach(e=>d[e]=1)}h(e.sort),n.forEach((function(e,t){let n=o[t],i=Object(u.h)(n),d=Object(r.d)(e,i,f[t]);if(h(n),c.push(d),Object(u.v)(a.c,e))l.push(Object(a.b)(e,o[t],s[t],d));else{if(null==n&&"count"!==e&&Object(u.n)("Null aggregate field specified."),"count"===e)return void b.push(d);m=!1;let t=p[i];t||(t=p[i]=[],t.field=n,g.push(t)),t.push(Object(r.c)(e,d))}})),(b.length||g.length)&&(t.cell=function(e,t,n){e=e.map(e=>Object(r.b)(e,e.field));let a={num:0,agg:null,store:!1,count:t};if(!n)for(var u=e.length,o=a.agg=Array(u),s=0;s<u;++s)o[s]=new e[s](a);if(a.store)var f=a.data=new i.a;return a.add=function(e){if(a.num+=1,!n){f&&f.add(e);for(let t=0;t<u;++t)o[t].add(o[t].get(e),e)}},a.rem=function(e){if(a.num-=1,!n){f&&f.rem(e);for(let t=0;t<u;++t)o[t].rem(o[t].get(e),e)}},a.set=function(e){let r,i;for(f&&f.values(),r=0,i=t.length;r<i;++r)e[t[r]]=a.num;if(!n)for(r=0,i=o.length;r<i;++r)o[r].set(e)},a.init=function(){a.num=0,f&&f.reset();for(let e=0;e<u;++e)o[e].init()},a}(g,b,m)),t.inputs=Object.keys(d)}const s=o.prototype;s.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},s.update=function(e,t){let n,r=this.cell,i=this.windows,a=e.data,u=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(a[n]);for(n=e.p1;n<e.i1;++n)r.add(a[n]);r.set(t)}for(n=0;n<u;++n)i[n].update(e,t)}},function(e,t,n){"use strict";n.r(t);var r=n(1145);n.d(t,"bound",(function(){return r.a}));var i=n(1156);n.d(t,"identifier",(function(){return i.a}));var a=n(1157);n.d(t,"mark",(function(){return a.a}));var u=n(1158);n.d(t,"overlap",(function(){return u.a}));var o=n(1159);n.d(t,"render",(function(){return o.a}));var s=n(1160);n.d(t,"viewlayout",(function(){return s.a}))},function(e,t,n){"use strict";var r=n(147),i=n(528);t.a=Object(i.a)("arc",r.a)},,,,,,,function(e,t,n){"use strict";var r=n(280);function i(e,t){return null==e?t:e}function a(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}t.a=function(e,t,n){const u=n.width(),o=n.height();let s;if("radial"===t.gradient)s=e.createRadialGradient(n.x1+i(t.x1,.5)*u,n.y1+i(t.y1,.5)*o,Math.max(u,o)*i(t.r1,0),n.x1+i(t.x2,.5)*u,n.y1+i(t.y2,.5)*o,Math.max(u,o)*i(t.r2,.5));else{const f=i(t.x1,0),c=i(t.y1,0),l=i(t.x2,1),d=i(t.y2,0);if(f!==l&&c!==d&&u!==o){const n=Object(r.a)(Math.ceil(u),Math.ceil(o)),i=n.getContext("2d");return i.scale(u,o),i.fillStyle=a(i.createLinearGradient(f,c,l,d),t.stops),i.fillRect(0,0,u,o),e.createPattern(n,"no-repeat")}s=e.createLinearGradient(n.x1+f*u,n.y1+c*o,n.x1+l*u,n.y1+d*o)}return a(s,t.stops)}},function(e,t,n){"use strict";var r=n(147),i=n(529),a=n(530);t.a=Object(a.a)("area",r.b,i.a)},function(e,t,n){"use strict";var r=n(147),i=n(243),a=n(153),u=n(146),o=n(309),s=n(764),f=n(469),c=n(337),l=n(204),d=n(403),p=n(225);function m(e){var t=null!=(t=e.strokeWidth)?t:1;return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function b(e,t){var n=m(t);e("d",Object(r.e)(null,t,n,n))}function g(e,t,n,i){var a=m(t);e.beginPath(),Object(r.e)(e,t,(n||0)+a,(i||0)+a)}var h=Object(l.a)(g),y=Object(l.a)(g,!1);t.a={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Object(p.d)(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,a=n.length;r<a;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Object(i.a)(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;Object(u.b)(t,(function(t){var i=t.x||0,a=t.y||0,l=t.strokeForeground,d=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&d&&(g(e,t,i,a),Object(o.a)(e,t),t.fill&&Object(f.a)(e,t,d)&&e.fill(),t.stroke&&!l&&Object(c.a)(e,t,d)&&e.stroke()),e.save(),e.translate(i,a),t.clip&&Object(s.a)(e,t),n&&n.translate(-i,-a),Object(u.b)(t,(function(t){r.draw(e,t,n)})),n&&n.translate(i,a),e.restore(),l&&t.stroke&&d&&(g(e,t,i,a),Object(o.a)(e,t),Object(c.a)(e,t,d)&&e.stroke())}))},pick:function(e,t,n,i,a,o){if(t.bounds&&!t.bounds.contains(a,o)||!t.items)return null;var s=this,f=n*e.pixelRatio,c=i*e.pixelRatio;return Object(u.a)(t,(function(l){var d,p,m,b,g,v,O,j,$;if((!(j=l.bounds)||j.contains(a,o))&&(b=l.x||0,g=l.y||0,v=b+(l.width||0),O=g+(l.height||0),!($=l.clip)||!(a<b||a>v||o<b||o>O)))return e.save(),e.translate(b,g),b=a-b,g=o-g,$&&Object(r.c)(l)&&!h(e,l,f,c)?(e.restore(),null):(p=l.strokeForeground,(m=!1!==t.interactive)&&p&&l.stroke&&y(e,l,f,c)?(e.restore(),l):(!(d=Object(u.a)(l,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,b,g)?s.pick(e,n,i,b,g):null})))&&m&&(l.fill||!p&&l.stroke)&&h(e,l,f,c)&&(d=l),e.restore(),d||null))}))},isect:a.d,content:function(e,t,n){e("clip-path",t.clip?Object(d.a)(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),b(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?b(e,t):e("d","")}}},function(e,t,n){"use strict";var r=n(146),i=n(309),a=n(204),u=n(225),o=n(1);function s(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(t=>{e.image=t,e.image.url=e.url})),n}function f(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function c(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function l(e,t){return"center"===e?t/2:"right"===e?t:0}function d(e,t){return"middle"===e?t/2:"bottom"===e?t:0}t.a={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=s(t,n),i=t.x||0,a=t.y||0,o=f(t,r),p=c(t,r),m=!1===t.aspect?"none":"xMidYMid";i-=l(t.align,o),a-=d(t.baseline,p),!r.src&&r.toDataURL?e("href",r.toDataURL(),"http://www.w3.org/1999/xlink","xlink:href"):e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",Object(u.c)(i,a)),e("width",o),e("height",p),e("preserveAspectRatio",m)},bound:function(e,t){var n=t.image,r=t.x||0,i=t.y||0,a=f(t,n),u=c(t,n);return r-=l(t.align,a),i-=d(t.baseline,u),e.set(r,i,r+a,i+u)},draw:function(e,t,n){var a=this;Object(r.b)(t,(function(t){if(!n||n.intersects(t.bounds)){var r,u,o,p,m=s(t,a),b=t.x||0,g=t.y||0,h=f(t,m),y=c(t,m);b-=l(t.align,h),g-=d(t.baseline,y),!1!==t.aspect&&(u=m.width/m.height,o=t.width/t.height,u==u&&o==o&&u!==o&&(o<u?(g+=(y-(p=h/u))/2,y=p):(b+=(h-(p=y*u))/2,h=p))),(m.complete||m.toDataURL)&&(Object(i.a)(e,t),e.globalAlpha=null!=(r=t.opacity)?r:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(m,b,g,h,y))}}))},pick:Object(a.b)(),isect:o.gb,get:s,xOffset:l,yOffset:d}},function(e,t,n){"use strict";var r=n(147),i=n(529),a=n(530);t.a=Object(a.a)("line",r.d,i.b)},function(e,t,n){"use strict";var r=n(243),i=n(325),a=n(365),u=n(463),o=n(153),s=n(411),f=n(204),c=n(225),l=n(94);function d(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,f=(t.angle||0)*l.a,c=t.pathCache;c&&c.path===n||((t.pathCache=c=Object(a.a)(n)).path=n),f&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(f),Object(u.a)(e,c,0,0,o,s),e.rotate(-f),e.translate(-r,-i)):Object(u.a)(e,c,r,i,o,s)}t.a={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",Object(c.b)(t)),e("d",t.path)},bound:function(e,t){return d(Object(i.a)(e),t)?e.set(0,0,0,0):Object(r.a)(e,t,!0),t.angle&&e.rotate(t.angle*l.a,t.x||0,t.y||0),e},draw:Object(s.a)(d),pick:Object(f.c)(d),isect:Object(o.b)(d)}},function(e,t,n){"use strict";var r=n(243),i=n(147),a=n(153),u=n(411),o=n(204);function s(e,t){e.beginPath(),Object(i.e)(e,t)}t.a={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",Object(i.e)(null,t))},bound:function(e,t){var n,i;return Object(r.a)(e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0),t)},draw:Object(u.a)(s),pick:Object(o.c)(s),isect:a.d}},function(e,t,n){"use strict";var r=n(243),i=n(153),a=n(146),u=n(309),o=n(204),s=n(337),f=n(225);function c(e,t,n){var r,i,a,u;return!(!t.stroke||!Object(s.a)(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,u=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,u),!0)}t.a={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Object(f.d)(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,i;return Object(r.a)(e.set(n=t.x||0,i=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:i),t)},draw:function(e,t,n){Object(a.b)(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&c(e,t,r)&&(Object(u.a)(e,t),e.stroke())}}))},pick:Object(o.b)((function(e,t,n,r){return!!e.isPointInStroke&&(c(e,t,1)&&e.isPointInStroke(n,r))})),isect:i.e}},function(e,t,n){"use strict";var r=n(147),i=n(528);t.a=Object(i.a)("shape",r.f)},function(e,t,n){"use strict";var r=n(147),i=n(153),a=n(528);t.a=Object(a.a)("symbol",r.g,i.c)},function(e,t,n){"use strict";var r=n(170),i=n(94),a=n(107),u=n(153),o=n(146),s=n(309),f=n(469),c=n(204),l=n(337),d=n(225),p=n(1),m={left:"start",center:"middle",right:"end"},b=new r.a;function g(e){var t,n=e.x||0,r=e.y||0,a=e.radius||0;return a&&(t=(e.theta||0)-i.c,n+=a*Math.cos(t),r+=a*Math.sin(t)),b.x1=n,b.y1=r,b}function h(e,t,n){var r,u=a.h.height(t),o=t.align,s=g(t),f=s.x1,c=s.y1,l=t.dx||0,d=(t.dy||0)+Object(a.f)(t)-Math.round(.8*u),m=Object(a.g)(t);if(Object(p.A)(m)?(u+=Object(a.d)(t)*(m.length-1),r=m.reduce((e,n)=>Math.max(e,a.h.width(t,n)),0)):r=a.h.width(t,m),"center"===o?l-=r/2:"right"===o&&(l-=r),e.set(l+=f,d+=c,l+r,d+u),t.angle&&!n)e.rotate(t.angle*i.a,f,c);else if(2===n)return e.rotatedPoints(t.angle*i.a,f,c);return e}t.a={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+Object(a.f)(t),u=g(t),o=u.x1,s=u.y1,f=t.angle||0;e("text-anchor",m[t.align]||"start"),f?(n=Object(d.c)(o,s)+" "+Object(d.a)(f),(r||i)&&(n+=" "+Object(d.c)(r,i))):n=Object(d.c)(o+r,s+i),e("transform",n)},bound:h,draw:function(e,t,n){Object(o.b)(t,(function(t){var r,u,o,c,d,m,b,h=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===h||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=Object(a.a)(t),e.textAlign=t.align||"left",u=(r=g(t)).x1,o=r.y1,t.angle&&(e.save(),e.translate(u,o),e.rotate(t.angle*i.a),u=o=0),u+=t.dx||0,o+=(t.dy||0)+Object(a.f)(t),m=Object(a.g)(t),Object(s.a)(e,t),Object(p.A)(m))for(d=Object(a.d)(t),c=0;c<m.length;++c)b=Object(a.i)(t,m[c]),t.fill&&Object(f.a)(e,t,h)&&e.fillText(b,u,o),t.stroke&&Object(l.a)(e,t,h)&&e.strokeText(b,u,o),o+=d;else b=Object(a.i)(t,m),t.fill&&Object(f.a)(e,t,h)&&e.fillText(b,u,o),t.stroke&&Object(l.a)(e,t,h)&&e.strokeText(b,u,o);t.angle&&e.restore()}}))},pick:Object(c.b)((function(e,t,n,r,a,u){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=g(t),s=o.x1,f=o.y1,c=h(b,t,1),l=-t.angle*i.a,d=Math.cos(l),p=Math.sin(l),m=d*a-p*u+(s-d*s+p*f),y=p*a+d*u+(f-p*s-d*f);return c.contains(m,y)})),isect:function(e,t){var n=h(b,e,2);return Object(u.a)(t,n[0],n[1],n[2],n[3])||Object(u.a)(t,n[0],n[1],n[4],n[5])||Object(u.a)(t,n[4],n[5],n[6],n[7])||Object(u.a)(t,n[2],n[3],n[6],n[7])}}},function(e,t,n){"use strict";var r=n(147),i=n(529),a=n(530);t.a=Object(a.a)("trail",r.h,i.c)},function(e,t,n){"use strict";var r=n(175),i=n(514);t.a=function(e,t,n,a){var u,o,s=e&&e.mark;if(s&&(u=r.a[s.marktype]).tip){for((o=Object(i.a)(t,n))[0]-=a[0],o[1]-=a[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=u.tip(s.items,o)}return e}},function(e,t,n){"use strict";var r="undefined"!=typeof window&&window.devicePixelRatio||1;t.a=function(e,t,n,i,a,u){const o="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext("2d"),f=o?r:a;e.width=t*f,e.height=n*f;for(const e in u)s[e]=u[e];return o&&1!==f&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=f,s.setTransform(f,0,0,f,f*i[0],f*i[1]),e}},function(e,t,n){"use strict";t.a=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}},function(e,t,n){"use strict";t.a=function(e){return function(t){var n,r,i,a,u=e.range(),o=t[0],s=t[1],f=-1;for(s<o&&(r=o,o=s,s=r),i=0,a=u.length;i<a;++i)u[i]>=o&&u[i]<=s&&(f<0&&(f=i),n=i);if(!(f<0))return o=e.invertExtent(u[f]),s=e.invertExtent(u[n]),[void 0===o[0]?o[1]:o[0],void 0===s[1]?s[0]:s[1]]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(396),i=n(860),a=n(1),u=n(1328),o=n(1329);function s(){var e=[],t=[];function n(n){return null==n||n!=n?void 0:t[(Object(r.c)(e,n)-1)%t.length]}return n.domain=function(t){return arguments.length?(e=Object(u.a)(t),n):e.slice()},n.range=function(e){return arguments.length?(t=o.a.call(e),n):t.slice()},n.tickFormat=function(t,n){return Object(i.a)(e[0],Object(a.U)(e),null==t?10:t,n)},n.copy=function(){return s().domain(n.domain()).range(n.range())},n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=Array.prototype.map;function i(e){return r.call(e,(function(e){return+e}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.prototype.slice},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(35),i=n(152);function a(e,t,n,a,u){var o,s=t.items[0],f=s.frame,c=s.orient,l=s.anchor,d=s.offset,p=s.padding,m=s.items[0].items[0],b=s.items[1]&&s.items[1].items[0],g=c===r.r||c===r.x?a:n,h=0,y=0,v=0,O=0,j=0;if(f!==r.q?c===r.r?(h=u.y2,g=u.y1):c===r.x?(h=u.y1,g=u.y2):(h=u.x1,g=u.x2):c===r.r&&(h=a,g=0),o=l===r.D?h:l===r.k?g:(h+g)/2,b&&b.text){switch(c){case r.G:case r.c:j=m.bounds.height()+p;break;case r.r:O=m.bounds.width()+p;break;case r.x:O=-m.bounds.width()-p}i.b.clear().union(b.bounds),i.b.translate(O-(b.x||0),j-(b.y||0)),Object(i.a)(b,"x",O)|Object(i.a)(b,"y",j)&&(e.dirty(b),b.bounds.clear().union(i.b),b.mark.bounds.clear().union(i.b),e.dirty(b)),i.b.clear().union(b.bounds)}else i.b.clear();switch(i.b.union(m.bounds),c){case r.G:y=o,v=u.y1-i.b.height()-d;break;case r.r:y=u.x1-i.b.width()-d,v=o;break;case r.x:y=u.x2+i.b.width()+d,v=o;break;case r.c:y=o,v=u.y2+d;break;default:y=s.x,v=s.y}return Object(i.a)(s,"x",y)|Object(i.a)(s,"y",v)&&(i.b.translate(y,v),e.dirty(s),s.bounds.clear().union(i.b),t.bounds.clear().union(i.b),e.dirty(s)),s.bounds}},function(e,t,n){"use strict";n.r(t);var r=n(1161);n.d(t,"axisticks",(function(){return r.a}));var i=n(1162);n.d(t,"datajoin",(function(){return i.a}));var a=n(1163);n.d(t,"encode",(function(){return a.a}));var u=n(1164);n.d(t,"legendentries",(function(){return u.a}));var o=n(1165);n.d(t,"linkpath",(function(){return o.a}));var s=n(1166);n.d(t,"pie",(function(){return s.a}));var f=n(1167);n.d(t,"scale",(function(){return f.a}));var c=n(1168);n.d(t,"sortitems",(function(){return c.a}));var l=n(1169);n.d(t,"stack",(function(){return l.a}))},function(e,t,n){"use strict";n.r(t);var r=n(1170);n.d(t,"contour",(function(){return r.a}));var i=n(1171);n.d(t,"geojson",(function(){return i.a}));var a=n(1172);n.d(t,"geopath",(function(){return a.a}));var u=n(1187);n.d(t,"geopoint",(function(){return u.a}));var o=n(1188);n.d(t,"geoshape",(function(){return o.a}));var s=n(1189);n.d(t,"graticule",(function(){return s.a}));var f=n(1190);n.d(t,"heatmap",(function(){return f.a}));var c=n(716);n.d(t,"isocontour",(function(){return c.a}));var l=n(717);n.d(t,"kde2d",(function(){return l.a}));var d=n(1191);n.d(t,"projection",(function(){return d.a}))},,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1192);n.d(t,"force",(function(){return r.a}))},,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1200);n.d(t,"nest",(function(){return r.a}));var i=n(1201);n.d(t,"pack",(function(){return i.a}));var a=n(1202);n.d(t,"partition",(function(){return a.a}));var u=n(1203);n.d(t,"stratify",(function(){return u.a}));var o=n(1204);n.d(t,"tree",(function(){return o.a}));var s=n(1205);n.d(t,"treelinks",(function(){return s.a}));var f=n(1206);n.d(t,"treemap",(function(){return f.a}))},,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1207);n.d(t,"loess",(function(){return r.a}));var i=n(1208);n.d(t,"regression",(function(){return i.a}))},function(e,t,n){"use strict";n.r(t);var r=n(1209);n.d(t,"voronoi",(function(){return r.a}))},,function(e,t,n){"use strict";n.r(t);var r=n(1210);n.d(t,"wordcloud",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(280),i=Math.PI/180;function a(e,t,n,r){if(!t.sprite){var a=e.context,u=e.ratio;a.clearRect(0,0,2048/u,2048/u);var o,s,f,c,l,d=0,p=0,m=0,b=n.length;for(--r;++r<b;){if(t=n[r],a.save(),a.font=t.style+" "+t.weight+" "+~~((t.size+1)/u)+"px "+t.font,o=a.measureText(t.text+"m").width*u,f=t.size<<1,t.rotate){var g=Math.sin(t.rotate*i),h=Math.cos(t.rotate*i),y=o*h,v=o*g,O=f*h,j=f*g;o=Math.max(Math.abs(y+j),Math.abs(y-j))+31>>5<<5,f=~~Math.max(Math.abs(v+O),Math.abs(v-O))}else o=o+31>>5<<5;if(f>m&&(m=f),d+o>=2048&&(d=0,p+=m,m=0),p+f>=2048)break;a.translate((d+(o>>1))/u,(p+(f>>1))/u),t.rotate&&a.rotate(t.rotate*i),a.fillText(t.text,0,0),t.padding&&(a.lineWidth=2*t.padding,a.strokeText(t.text,0,0)),a.restore(),t.width=o,t.height=f,t.xoff=d,t.yoff=p,t.x1=o>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,d+=o}for(var $=a.getImageData(0,0,2048/u,2048/u).data,x=[];--r>=0;)if((t=n[r]).hasText){for(s=(o=t.width)>>5,f=t.y1-t.y0,c=0;c<f*s;c++)x[c]=0;if(null==(d=t.xoff))return;p=t.yoff;var k=0,A=-1;for(l=0;l<f;l++){for(c=0;c<o;c++){var F=s*l+(c>>5),w=$[2048*(p+l)+(d+c)<<2]?1<<31-c%32:0;x[F]|=w,k|=w}k?A=l:(t.y0++,f--,l--,p++)}t.y1=t.y0+A,t.sprite=x.slice(0,(t.y1-t.y0)*s)}}}function u(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,u=e.x-(a<<4),o=127&u,s=32-o,f=e.y1-e.y0,c=(e.y+e.y0)*n+(u>>5),l=0;l<f;l++){r=0;for(var d=0;d<=a;d++)if((r<<s|(d<a?(r=i[l*a+d])>>>o:0))&t[c+d])return!0;c+=n}return!1}function o(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function s(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function f(e){return"function"==typeof e?e:function(){return e}}t.a=function(){var e,t,n,i,l,d,p,m=[256,256],b=s,g=[],h=Math.random,y={};function v(e,t,n){for(var r,i,a,o,s,f=t.x,c=t.y,l=Math.sqrt(m[0]*m[0]+m[1]*m[1]),d=b(m),p=h()<.5?1:-1,g=-p;(r=d(g+=p))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=l));)if(t.x=f+i,t.y=c+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>m[0]||t.y+t.y1>m[1]||n&&u(t,e,m[0])||n&&(s=n,!((o=t).x+o.x1>s[0].x&&o.x+o.x0<s[1].x&&o.y+o.y1>s[0].y&&o.y+o.y0<s[1].y)))){for(var y,v=t.sprite,O=t.width>>5,j=m[0]>>5,$=t.x-(O<<4),x=127&$,k=32-x,A=t.y1-t.y0,F=(t.y+t.y0)*j+($>>5),w=0;w<A;w++){y=0;for(var _=0;_<=O;_++)e[F+_]|=y<<k|(_<O?(y=v[w*O+_])>>>x:0);F+=j}return t.sprite=null,!0}return!1}return y.layout=function(){for(var u=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Object(r.a)()),s=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((m[0]>>5)*m[1]),f=null,c=g.length,b=-1,y=[],O=g.map((function(r){return{text:e(r),font:t(r),style:i(r),weight:l(r),rotate:d(r),size:~~(n(r)+1e-14),padding:p(r),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:r}})).sort((function(e,t){return t.size-e.size}));++b<c;){var j=O[b];j.x=m[0]*(h()+.5)>>1,j.y=m[1]*(h()+.5)>>1,a(u,j,O,b),j.hasText&&v(s,j,f)&&(y.push(j),f?o(f,j):f=[{x:j.x+j.x0,y:j.y+j.y0},{x:j.x+j.x1,y:j.y+j.y1}],j.x-=m[0]>>1,j.y-=m[1]>>1)}return y},y.words=function(e){return arguments.length?(g=e,y):g},y.size=function(e){return arguments.length?(m=[+e[0],+e[1]],y):m},y.font=function(e){return arguments.length?(t=f(e),y):t},y.fontStyle=function(e){return arguments.length?(i=f(e),y):i},y.fontWeight=function(e){return arguments.length?(l=f(e),y):l},y.rotate=function(e){return arguments.length?(d=f(e),y):d},y.text=function(t){return arguments.length?(e=f(t),y):e},y.spiral=function(e){return arguments.length?(b=c[e]||e,y):b},y.fontSize=function(e){return arguments.length?(n=f(e),y):n},y.padding=function(e){return arguments.length?(p=f(e),y):p},y.random=function(e){return arguments.length?(h=e,y):h},y};var c={archimedean:s,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}}},function(e,t,n){"use strict";n.r(t);var r=n(1211);n.d(t,"crossfilter",(function(){return r.a}));var i=n(1212);n.d(t,"resolvefilter",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(387);function i(){var e=8,t=[],n=Object(r.b)(0),i=a(0,e),u=a(0,e);return{data:function(){return t},seen:function(){return n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length)},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var r,a,o,s=t.length,f=Array(s-e),c=t;for(a=0;!n[a]&&a<s;++a)f[a]=t[a],c[a]=a;for(o=a;a<s;++a)r=t[a],n[a]?c[a]=-1:(c[a]=o,i[o]=i[a],u[o]=u[a],f[o]=r,r._index=o++),i[a]=0;return t=f,c},size:function(){return t.length},curr:function(){return i},prev:function(){return u},reset:function(e){u[e]=i[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){i[e]|=t},clear:function(e,t){i[e]&=~t},resize:function(t,n){(t>i.length||n>e)&&(e=Math.max(n,e),i=a(t,e,i),u=a(t,e))}}}function a(e,t,n){var i=(t<257?r.c:t<65537?r.a:r.b)(e);return n&&i.set(n),i}},function(e,t,n){"use strict";t.a=function(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){var t=e._signals.cursor;t||(e._signals.cursor=t=e.add({user:"default",item:null})),e.on(e.events("view","mousemove"),t,(function(e,n){var i=t.value,a=i?Object(r.H)(i)?i:i.user:"default",u=n.item&&n.item.cursor||null;return i&&a===i.user&&u==i.item?i:{user:a,item:u}})),e.add(null,(function(e){var t=e.cursor,n=this.value;return Object(r.H)(t)||(n=t.item,t=t.user),function(e){"undefined"!=typeof document&&document.body&&(document.body.style.cursor=e)}(t&&"default"!==t?t:n||t),n}),{cursor:t})}},function(e,t,n){"use strict";var r=n(341),i=n(1),a=n(76);t.a=function(e,t,n){var u,o,s,f=e._renderer,c=f&&f.canvas();return c&&(s=Object(r.b)(e),o=t.changedTouches?t.changedTouches[0]:t,(u=Object(a.R)(o,c))[0]-=s[0],u[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function a(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function u(e){if(!e)return n;Object(i.H)(e)&&(e=a(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(i.l)(e),item:Object(i.l)(t||{}),group:a,xy:u,x:function(e){return u(e)[0]},y:function(e){return u(e)[1]}}}(e,n,u),t}},function(e,t,n){"use strict";function r(e){return e.item}function i(e){return e.item.mark.source}function a(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}t.a=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",r),i,a(e)),this.on(this.events("view","mouseout",r),i,a(t)),this}},function(e,t,n){"use strict";t.a=function(){var e,t,n,r=this._tooltip,i=this._timers,a=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=a.length;--e>=0;)for(t=(n=a[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this}},function(e,t,n){"use strict";var r=n(778),i=n(1381),a=n(241),u=n(779),o=n(1382),s=n(76);function f(e,t){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}t.a=function(e,t){const n=this,c=n._renderType,l=n._eventConfig.bind,d=Object(s.S)(c);e=n._el=e?f(n,e):null,Object(r.b)(n),d||n.error("Unrecognized renderer type: "+c);const p=d.handler||s.b,m=e?d.renderer:d.headless;return n._renderer=m?Object(u.a)(n,n._renderer,e,m):null,n._handler=Object(o.a)(n,n._handler,e,p),n._redraw=!0,e&&"none"!==l&&(t=t?n._elBind=f(n,t):e.appendChild(Object(a.a)("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==l&&(e.element=f(n,e.param.element))})),n._bind.forEach((function(e){Object(i.a)(n,e.element||t,e)}))),n}},function(e,t,n){"use strict";var r=n(241),i=n(1),a=n(274);function u(e,t,n,i){const a=Object(r.a)("input");for(const e in n)"signal"!==e&&"element"!==e&&a.setAttribute("input"===e?"type":e,n[e]);a.setAttribute("name",n.signal),a.value=i,t.appendChild(a),a.addEventListener("input",()=>e.update(a.value)),e.elements=[a],e.set=e=>a.value=e}function o(e,t,n,i){const a={type:"checkbox",name:n.signal};i&&(a.checked=!0);const u=Object(r.a)("input",a);t.appendChild(u),u.addEventListener("change",()=>e.update(u.checked)),e.elements=[u],e.set=e=>u.checked=!!e||null}function s(e,t,n,i){const a=Object(r.a)("select",{name:n.signal}),u=n.labels||[];n.options.forEach((e,t)=>{const n={value:e};l(e,i)&&(n.selected=!0),a.appendChild(Object(r.a)("option",n,(u[t]||e)+""))}),t.appendChild(a),a.addEventListener("change",()=>{e.update(n.options[a.selectedIndex])}),e.elements=[a],e.set=e=>{for(let t=0,r=n.options.length;t<r;++t)if(l(n.options[t],e))return void(a.selectedIndex=t)}}function f(e,t,n,i){const a=Object(r.a)("span",{class:"vega-bind-radio"}),u=n.labels||[];t.appendChild(a),e.elements=n.options.map((t,o)=>{const s={type:"radio",name:n.signal,value:t};l(t,i)&&(s.checked=!0);const f=Object(r.a)("input",s);f.addEventListener("change",()=>e.update(t));const c=Object(r.a)("label",{},(u[o]||t)+"");return c.prepend(f),a.appendChild(c),f}),e.set=t=>{const n=e.elements,r=n.length;for(let e=0;e<r;++e)l(n[e].value,t)&&(n[e].checked=!0)}}function c(e,t,n,i){i=void 0!==i?i:(+n.max+ +n.min)/2;const u=null!=n.max?n.max:Math.max(100,+i)||100,o=n.min||Math.min(0,u,+i)||0,s=n.step||Object(a.c)(o,u,100),f=Object(r.a)("input",{type:"range",name:n.signal,min:o,max:u,step:s});f.value=i;const c=Object(r.a)("span",{},+i);t.appendChild(f),t.appendChild(c);const l=()=>{c.textContent=f.value,e.update(+f.value)};f.addEventListener("input",l),f.addEventListener("change",l),e.elements=[f],e.set=e=>{f.value=e,c.textContent=e}}function l(e,t){return e===t||e+""==t+""}t.a=function(e,t,n){if(!t)return;const a=n.param;let l=n.state;return l||(l=n.state={elements:null,active:!1,set:null,update:t=>{t!==e.signal(a.signal)&&e.runAsync(null,(function(){l.source=!0,e.signal(a.signal,t)}))}},a.debounce&&(l.update=Object(i.m)(a.debounce,l.update))),function(e,t,n,i){const a=Object(r.a)("div",{class:"vega-bind"}),l="radio"===n.input?a:a.appendChild(Object(r.a)("label"));l.appendChild(Object(r.a)("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(a);let d=u;switch(n.input){case"checkbox":d=o;break;case"select":d=s;break;case"radio":d=f;break;case"range":d=c}d(e,l,n,i)}(l,t,a,e.signal(a.signal)),l.active||(e.on(e._signals[a.signal],null,()=>{l.source?l.source=!1:l.set(e.signal(a.signal))}),l.active=!0),l}},function(e,t,n){"use strict";var r=n(341),i=n(629);t.a=function(e,t,n,a){var u=new a(e.loader(),Object(i.a)(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,Object(r.b)(e),e);return t&&t.handlers().forEach((function(e){u.on(e.type,e.handler)})),u}},function(e,t,n){"use strict";var r=n(532),i=n(76),a=n(1);t.a=async function(e,t){e!==i.i.Canvas&&e!==i.i.SVG&&e!==i.i.PNG&&Object(a.n)("Unrecognized image type: "+e);const n=await Object(r.a)(this,e,t);return e===i.i.SVG?(u=n.svg(),o=new Blob([u],{type:"image/svg+xml"}),window.URL.createObjectURL(o)):n.canvas().toDataURL("image/png");var u,o}},function(e,t,n){"use strict";var r=n(532),i=n(76);t.a=async function(e,t){return(await Object(r.a)(this,i.i.Canvas,e,t)).canvas()}},function(e,t,n){"use strict";var r=n(532),i=n(76);t.a=async function(e){return(await Object(r.a)(this,i.i.SVG,e)).svg()}},function(e,t,n){"use strict";var r=n(14),i=n(245),a=n(520);t.a=function(e,t,n){var u=n||i.g;return Object(a.b)(t,Object(a.a)(e,r.s,u))}},function(e,t,n){"use strict";var r=n(76),i=n(1);t.a=function(e,t,n){if(!e)return[];const[a,u]=e,o=(new r.a).set(a[0],a[1],u[0],u[1]),s=n||this.context.dataflow.scenegraph().root;return Object(r.C)(s,o,function(e){let t=null;if(e){const n=Object(i.i)(e.marktype),r=Object(i.i)(e.markname);t=e=>(!n.length||n.some(t=>e.marktype===t))&&(!r.length||r.some(t=>e.name===t))}return t}(t))}},function(e,t,n){"use strict";var r=n(281),i=n(1);t.a=function(e,t){var n,a=null!=e.filter?Object(r.b)(e.filter,t):void 0,u=null!=e.stream?t.get(e.stream):void 0;e.source?u=t.events(e.source,e.type,a):e.merge&&(u=(n=e.merge.map(t.get.bind(t)))[0].merge.apply(n[0],n.slice(1))),e.between&&(n=e.between.map(t.get.bind(t)),u=u.between(n[0],n[1])),e.filter&&(u=u.filter(a)),null!=e.throttle&&(u=u.throttle(+e.throttle)),null!=e.debounce&&(u=u.debounce(+e.debounce)),null==u&&Object(i.n)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&u.consume(!0),t.stream(e,u)}},function(e,t,n){"use strict";var r=n(281),i=n(780),a=n(1);t.a=function(e,t){var n=Object(a.F)(n=e.source)?n.$ref:n,u=t.get(n),o=null,s=e.update,f=void 0;u||Object(a.n)("Source not defined: "+e.source),o=e.target&&e.target.$expr?Object(r.b)(e.target.$expr,t):t.get(e.target),s&&s.$expr&&(s.$params&&(f=Object(i.a)(s.$params,t)),s=Object(r.c)(s.$expr,t)),t.update(e,u,o,s,f)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=this._runtime.scales;return Object(r.v)(t,e)||Object(r.n)("Unrecognized scale or projection: "+e),t[e].value}},function(e,t,n){"use strict";var r=n(2025);t.a=function(e,t){this._timers.push(Object(r.a)((function(t){e({timestamp:Date.now(),elapsed:t})}),t))}},function(e,t,n){"use strict";var r=n(1);function i(e){return"["+e.map(a).join(", ")+"]"}function a(e){return Object(r.A)(e)?"[â€¦]":Object(r.F)(e)&&!Object(r.C)(e)?"{â€¦}":e}t.a=function(e,t,n,u){var o=e.element();o&&o.setAttribute("title",function(e){return null==e?"":Object(r.A)(e)?i(e):Object(r.F)(e)&&!Object(r.C)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(r.A)(n)?i(n):a(n))})).join("\n")):e+"";var t}(u))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1394),i=n(1395),a=n(521),u=n(413),o=n(70),s=n(116),f=n(68),c=n(32),l=n(327),d=n(63),p=n(1);function m(e,t){var n,m,g,h,y,v,O=t.config;return y=Object(c.p)(t.root=t.add(Object(c.o)())),(v=function(e,t){const n=n=>Object(c.r)(e[n],t[n]),a=[b("background",n("background")),b("autosize",Object(r.a)(n("autosize"))),b("padding",Object(i.a)(n("padding"))),b("width",n("width")||0),b("height",n("height")||0)],u=a.reduce((e,t)=>(e[t.name]=t,e),{}),o={};return Object(p.i)(e.signals).forEach(e=>{Object(p.v)(u,e.name)?e=Object(p.o)(u[e.name],e):a.push(e),o[e.name]=e}),Object(p.i)(t.signals).forEach(e=>{Object(p.v)(o,e.name)||Object(p.v)(u,e.name)||a.push(e)}),a}(e,O)).forEach(e=>Object(a.a)(e,t)),t.description=e.description||O.description,t.eventConfig=O.events,t.legends=t.objectProperty(O.legend&&O.legend.layout),m=t.add(Object(d.d)()),g=Object(o.e)({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),g=t.add(Object(d.g)(Object(o.d)(g,s.a,f.g,e.style,t,{pulse:Object(c.p)(m)}))),h=t.add(Object(d.B)({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:y,pulse:Object(c.p)(g)})),t.operators.pop(),t.pushState(Object(c.p)(g),Object(c.p)(h),null),Object(u.a)(e,t,v),t.operators.push(h),n=t.add(Object(d.c)({mark:y,pulse:Object(c.p)(h)})),n=t.add(Object(d.w)({pulse:Object(c.p)(n)})),n=t.add(Object(d.y)({pulse:Object(c.p)(n)})),t.addData("root",new l.a(t,m,m,n)),t}function b(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){return Object(r.F)(e)?e:{type:e||"pad"}}},function(e,t,n){"use strict";var r=n(1);const i=e=>+e||0;t.a=function(e){return Object(r.F)(e)?e.signal?e:{top:i(e.top),bottom:i(e.bottom),left:i(e.left),right:i(e.right)}:{top:t=i(e),bottom:t,left:t,right:t};var t}},function(e,t,n){"use strict";var r=n(194),i=n(736),a=n(32),u=n(246),o=n(1),s="var datum=event.item&&event.item.datum;";function f(e){return{signal:"["+e.map(e=>e.scale?'scale("'+e.scale+'")':e.signal)+"]"}}t.a=function(e,t,n){var c=e.events,l=e.update,d=e.encode,p=[],m={target:n};c||Object(o.n)("Signal update missing events specification."),Object(o.H)(c)&&(c=Object(u.a)(c,t.isSubscope()?a.c:a.d)),c=Object(o.i)(c).filter(e=>e.signal||e.scale?(p.push(e),0):1),p.length>1&&(p=[f(p)]),c.length&&p.push(c.length>1?{merge:c}:c[0]),null!=d&&(l&&Object(o.n)("Signal encode and update are mutually exclusive."),l="encode(item(),"+Object(o.Z)(d)+")"),m.update=Object(o.H)(l)?Object(r.a)(l,t,s):null!=l.expr?Object(r.a)(l.expr,t,s):null!=l.value?l.value:null!=l.signal?{$expr:"_.value",$params:{value:t.signalRef(l.signal)}}:Object(o.n)("Invalid signal update specification."),e.force&&(m.options={force:!0}),p.forEach((function(e){t.addUpdate(Object(o.o)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Object(i.a)(e,t)}}(e,t),m))}))}},function(e,t,n){"use strict";var r=n(1);function i(e,t,n){return Object(r.A)(e)?e.map((function(e){return i(e,t,n)})):Object(r.F)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(r.n)("Unsupported parameter object: "+Object(r.Z)(e)):e}t.a=function(e,t){var n=t.config.projection||{},r={};for(var a in e)"name"!==a&&(r[a]=i(e[a],a,t));for(a in n)null==r[a]&&(r[a]=i(n[a],a,t));t.addProjection(e.name,r)}},function(e,t,n){"use strict";var r=n(27),i=n(1399),a=n(1405),u=n(1009),o=n(1010),s=n(1406),f=n(367),c=n(101),l=n(194),d=n(415),p=n(68),m=n(70),b=n(32),g=n(63),h=n(47),y=n(1);function v(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Object(c.d)(e,n[0].encode)}t.a=function(e,t){var n,O,j,$,x,k,A,F,w=t.config.legend,_=e.encode||{},D=_.legend||{},C=D.name||void 0,S=D.interactive,E=D.style,q=Object(c.f)(e,w),M={},B=0;return r.m.forEach(t=>e[t]?(M[t]=e[t],B=B||e[t]):0),B||Object(y.n)("Missing valid scale for legend."),x=function(e,t){var n=e.type||r.v;e.type||1!==function(e){return r.m.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Object(h.x)(t)?r.e:Object(h.z)(t)?r.c:r.v);return n!==r.e?n:Object(h.z)(t)?r.c:r.e}(e,t.scaleType(B)),k={title:null!=e.title,scales:M,type:x,vgrad:"symbol"!==x&&q.isVertical()},A=Object(b.p)(t.add(Object(g.d)(null,[k]))),D=Object(m.e)(function(e,t,n){var r={enter:{},update:{}};return Object(m.b)(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}(q,e,w),D,r.t),n={enter:{x:{value:0},y:{value:0}}},F=Object(b.p)(t.add(Object(g.l)(j={type:x,scale:t.scaleRef(B),count:t.objectProperty(q("tickCount")),limit:t.property(q("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),x===r.e?($=[Object(i.a)(e,B,w,_.gradient),Object(u.a)(e,w,_.labels,F)],j.count=j.count||t.signalRef(`max(2,2*floor((${Object(b.g)(q.gradientLength())})/100))`)):x===r.c?$=[Object(a.a)(e,B,w,_.gradient,F),Object(u.a)(e,w,_.labels,F)]:(O=Object(o.b)(e,w),$=[Object(o.a)(e,w,_,F,Object(b.g)(O.columns))],j.size=function(e,t,n){var i=Object(b.g)(v("size",e,n)),a=Object(b.g)(v("strokeWidth",e,n)),u=Object(b.g)(function(e,t,n){return Object(c.d)("fontSize",e)||Object(c.e)("fontSize",t,n)}(n[1].encode,t,r.h));return Object(l.a)(`max(ceil(sqrt(${i})+${a}),${u})`,t)}(e,t,$[0].marks)),$=[Object(f.a)({role:p.i,from:A,encode:n,marks:$,layout:O,interactive:S})],k.title&&$.push(Object(s.a)(e,w,_.title,A)),Object(d.a)(Object(f.a)({role:p.l,from:A,encode:D,marks:$,aria:q("aria"),description:q("description"),zindex:q("zindex"),name:C,interactive:S,style:E}),t)}},function(e,t,n){"use strict";var r=n(27),i=n(154),a=n(101),u=n(116),o=n(68),s=n(70),f=n(1);t.a=function(e,t,n,c){var l,d,p,m,b,g,h=Object(a.f)(e,n),y=h.isVertical(),v=h.gradientThickness(),O=h.gradientLength();return y?(p=[0,1],m=[0,0],b=v,g=O):(p=[0,0],m=[1,0],b=O,g=v),l={enter:d={opacity:r.A,x:r.A,y:r.A,width:Object(s.c)(b),height:Object(s.c)(g)},update:Object(f.o)({},d,{opacity:r.z,fill:{gradient:t,start:p,stop:m}}),exit:{opacity:r.A}},Object(s.b)(l,{stroke:h("gradientStrokeColor"),strokeWidth:h("gradientStrokeWidth")},{opacity:h("gradientOpacity")}),Object(i.a)({type:u.b,role:o.j,encode:l},c)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1401),i=n(342),a=n(1404),u=n(783),o=n(1);function s(e,t,n,s){var f,c,l,d={},p="var o=item,datum=o.datum,m=0,$;";for(f in e)c=e[f],Object(o.A)(c)?p+=Object(a.a)(f,c,s,n,d):(l=Object(i.a)(f,c,s,n,d),p+=Object(u.a)("o",f,l));return p+=Object(r.a)(e,t),{$expr:p+="return m;",$fields:Object.keys(d),$output:Object.keys(e)}}},function(e,t,n){"use strict";var r=n(1),i=Object(r.db)(["rule"]),a=Object(r.db)(["group","image","rect"]);t.a=function(e,t){var n="";return i[t]||(e.x2&&(e.x?(a[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(a[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}},function(e,t,n){"use strict";var r=n(342);t.a=function(e,t,n,i){function a(e,a,u,o){return"this."+e+"("+[Object(r.a)(null,a,t,n,i),Object(r.a)(null,u,t,n,i),Object(r.a)(null,o,t,n,i)].join(",")+").toString()"}return e.c?a("hcl",e.h,e.c,e.l):e.h||e.s?a("hsl",e.h,e.s,e.l):e.l||e.a?a("lab",e.l,e.a,e.b):e.r||e.g||e.b?a("rgb",e.r,e.g,e.b):null}},function(e,t,n){"use strict";var r=n(782),i=n(1);t.a=function(e,t,n,a){return"this.gradient("+Object(r.b)(e.gradient,t,n,a)+","+Object(i.Z)(e.start)+","+Object(i.Z)(e.stop)+","+Object(i.Z)(e.count)+")"}},function(e,t,n){"use strict";var r=n(342),i=n(783),a=n(414),u=n(1);t.a=function(e,t,n,o,s){var f="";return t.forEach((function(t){var i=Object(r.a)(e,t,n,o,s);f+=t.test?Object(a.a)(t.test,n,o,s)+"?"+i+":":i})),":"===Object(u.U)(f)&&(f+="null"),Object(i.a)("o",e,f)}},function(e,t,n){"use strict";var r=n(27),i=n(154),a=n(101),u=n(116),o=n(68),s=n(70),f=n(1);t.a=function(e,t,n,c,l){var d,p,m,b,g,h,y=Object(a.f)(e,n),v=y.isVertical(),O=y.gradientThickness(),j=y.gradientLength(),$="";return v?(m="y",g="y2",b="x",h="width",$="1-"):(m="x",g="x2",b="y",h="height"),(p={opacity:r.A,fill:{scale:t,field:r.x}})[m]={signal:$+"datum."+r.p,mult:j},p[b]=r.A,p[g]={signal:$+"datum."+r.q,mult:j},p[h]=Object(s.c)(O),d={enter:p,update:Object(f.o)({},p,{opacity:r.z}),exit:{opacity:r.A}},Object(s.b)(d,{stroke:y("gradientStrokeColor"),strokeWidth:y("gradientStrokeWidth")},{opacity:y("gradientOpacity")}),Object(i.a)({type:u.b,role:o.h,key:r.x,from:l,encode:d},c)}},function(e,t,n){"use strict";var r=n(27),i=n(154),a=n(101),u=n(116),o=n(68),s=n(70);const f='item.orient === "left"',c='item.orient === "right"',l=`(${f} || ${c})`,d="datum.vgrad && "+l,p=Object(a.b)('"top"','"bottom"','"middle"'),m=`datum.vgrad && ${c} ? (${Object(a.b)('"right"','"left"','"center"')}) : (${l} && !(datum.vgrad && ${f})) ? "left" : ${a.a}`,b=`item._anchor || (${l} ? "middle" : "start")`,g=`${d} ? (${f} ? -90 : 90) : 0`,h=`${l} ? (datum.vgrad ? (${c} ? "bottom" : "top") : ${p}) : "top"`;t.a=function(e,t,n,f){var c,l=Object(a.f)(e,t);return c={enter:{opacity:r.A},update:{opacity:r.z,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:r.A}},Object(s.b)(c,{orient:l("titleOrient"),_anchor:l("titleAnchor"),anchor:{signal:b},angle:{signal:g},align:{signal:m},baseline:{signal:h},text:e.title,fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign"),baseline:l("titleBaseline")}),Object(i.a)({type:u.e,role:o.n,style:r.i,from:f,encode:c},n)}},function(e,t,n){"use strict";var r=n(1);function i(e){return Object(r.F)(e)&&e.signal?e.signal:Object(r.Z)(e)}t.a=function(e,t){var n;return Object(r.F)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+i(e.path)+")":e.sphere&&(n="geoShape("+i(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}},function(e,t,n){"use strict";var r=n(784);t.a=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Object(r.a)(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}},function(e,t,n){"use strict";t.a=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}},function(e,t,n){"use strict";var r=n(785),i=n(413),a=n(327),u=n(32),o=n(63),s=n(1);t.a=function(e,t,n){var f,c,l,d,p=e.from.facet,m=p.name,b=Object(r.b)(p,t);p.name||Object(s.n)("Facet must have a name: "+Object(s.Z)(p)),p.data||Object(s.n)("Facet must reference a data set: "+Object(s.Z)(p)),p.field?d=t.add(Object(o.s)({field:t.fieldRef(p.field),pulse:b})):p.groupby?d=t.add(Object(o.i)({key:t.keyRef(p.groupby),group:Object(u.p)(t.proxy(n.parent)),pulse:b})):Object(s.n)("Facet must specify groupby or field: "+Object(s.Z)(p)),c=(f=t.fork()).add(Object(o.d)()),l=f.add(Object(o.y)({pulse:Object(u.p)(c)})),f.addData(m,new a.a(f,c,c,l)),f.addSignal("parent",null),d.params.subflow={$subflow:Object(i.a)(e,f).toRuntime()}}},function(e,t,n){"use strict";var r=n(413),i=n(63);t.a=function(e,t,n){var a=t.add(Object(i.s)({pulse:n.pulse})),u=t.fork();u.add(Object(i.y)()),u.addSignal("parent",null),a.params.subflow={$subflow:Object(r.a)(e,u).toRuntime()}}},function(e,t,n){"use strict";var r=n(27),i=n(367),a=n(154),u=n(101),o=n(415),s=n(116),f=n(68),c=n(70),l=n(32),d=n(63),p=n(1);const m=`item.orient==="${r.l}"?-90:item.orient==="${r.r}"?90:0`;function b(e,t){var n={enter:{},update:{}};return Object(c.b)(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:u.a},angle:{signal:m},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Object(c.e)(n,t,r.t)}t.a=function(e,t){e=Object(p.H)(e)?{text:e}:e;var n,m,g=Object(u.f)(e,t.config.title),h=e.encode||{},y=h.group||{},v=y.name||void 0,O=y.interactive,j=y.style,$=[];return n={},m=Object(l.p)(t.add(Object(d.d)(null,[n]))),$.push(function(e,t,n,i){var u={value:0},o=e.text,l={enter:{opacity:u},update:{opacity:{value:1}},exit:{opacity:u}};return Object(c.b)(l,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Object(a.a)({type:s.e,role:f.s,style:r.g,from:i,encode:l},n)}(e,g,function(e){const t=e.encode;return t&&t.title||Object(p.o)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),m)),e.subtitle&&$.push(function(e,t,n,i){var u={value:0},o=e.subtitle,l={enter:{opacity:u},update:{opacity:{value:1}},exit:{opacity:u}};return Object(c.b)(l,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Object(a.a)({type:s.e,role:f.r,style:r.f,from:i,encode:l},n)}(e,g,h.subtitle,m)),Object(o.a)(Object(i.a)({role:f.q,from:m,encode:b(g,y),marks:$,aria:g("aria"),description:g("description"),zindex:g("zindex"),name:v,interactive:O,style:j}),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(533),i=n(786),a=n(32),u=n(63),o=n(1);function s(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(Object(r.a)(e,t))})),e.on&&e.on.forEach((function(n){Object(i.a)(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,i,s,l,d,p=[],m=null,b=!1,g=!1;e.values?Object(a.j)(e.values)||Object(a.j)(e.format)?(p.push(c(t,e)),p.push(m=f())):p.push(m=f({$ingest:e.values,$format:e.format})):e.url?Object(a.j)(e.url)||Object(a.j)(e.format)?(p.push(c(t,e)),p.push(m=f())):p.push(m=f({$request:e.url,$format:e.format})):e.source&&(m=r=Object(o.i)(e.source).map((function(e){return Object(a.p)(t.getData(e).output)})),p.push(null));for(i=0,s=n.length;i<s;++i)l=n[i],d=l.metadata,m||d.source||p.push(m=f()),p.push(l),d.generates&&(g=!0),d.modifies&&!g&&(b=!0),d.source?m=l:d.changes&&(m=null);r&&(s=r.length-1,p[0]=Object(u.v)({derive:b,pulse:s?r:r[0]}),(b||s)&&p.splice(1,0,f()));m||p.push(f());return p.push(Object(u.y)({})),p}(e,t,n))}function f(e){var t=Object(u.d)({},e);return t.metadata={source:!0},t}function c(e,t){return Object(u.m)({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}},function(e,t,n){"use strict";var r=n(1415),i=n(1416),a=n(1417),u=n(1418),o=n(1419),s=n(1420),f=n(367),c=n(101),l=n(68),d=n(415),p=n(70),m=n(27),b=n(32),g=n(63);t.a=function(e,t){var n,h,y,v,O,j=Object(r.a)(e,t),$=e.encode||{},x=$.axis||{},k=x.name||void 0,A=x.interactive,F=x.style,w=Object(c.f)(e,j),_=Object(c.g)(w);return n={orient:e.orient,scale:e.scale,ticks:!!w("ticks"),labels:!!w("labels"),grid:!!w("grid"),domain:!!w("domain"),title:null!=e.title,translate:w("translate")},h=Object(b.p)(t.add(Object(g.d)({},[n]))),x=Object(p.e)(function(e,t){var n={enter:{},update:{}};return Object(p.b)(n,{offset:e("offset")||0,position:Object(b.r)(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},format:t.format,formatType:t.formatType}),n}(w,e),x,m.t),y=Object(b.p)(t.add(Object(g.b)({scale:t.scaleRef(e.scale),extra:t.property(_.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),O=[],n.grid&&O.push(Object(a.a)(e,j,$.grid,y,_)),n.ticks&&(v=w("tickSize"),O.push(Object(u.a)(e,j,$.ticks,y,v,_))),n.labels&&(v=n.ticks?v:0,O.push(Object(o.a)(e,j,$.labels,y,v,_))),n.domain&&O.push(Object(i.a)(e,j,$.domain,h)),n.title&&O.push(Object(s.a)(e,j,$.title,h)),Object(d.a)(Object(f.a)({role:l.d,from:h,encode:x,marks:O,aria:w("aria"),description:w("description"),zindex:w("zindex"),name:k,interactive:A,style:F}),t)}},function(e,t,n){"use strict";var r=n(27),i=n(1);t.a=function(e,t){var n=t.config,a=e.orient,u=a===r.w||a===r.a?n.axisX:n.axisY,o=n["axis"+a[0].toUpperCase()+a.slice(1)],s="band"===t.scaleType(e.scale)&&n.axisBand;return u||o||s?Object(i.o)({},n.axis,u,o,s):n.axis}},function(e,t,n){"use strict";var r=n(27),i=n(154),a=n(101),u=n(116),o=n(68),s=n(70);function f(e,t){return{scale:e.scale,range:t}}t.a=function(e,t,n,c){var l,d,p,m,b,g,h=Object(a.f)(e,t),y=e.orient;return l={enter:d={opacity:r.A},update:p={opacity:r.z},exit:{opacity:r.A}},Object(s.b)(l,{stroke:h("domainColor"),strokeCap:h("domainCap"),strokeDash:h("domainDash"),strokeDashOffset:h("domainDashOffset"),strokeWidth:h("domainWidth"),strokeOpacity:h("domainOpacity")}),y===r.w||y===r.a?(m="x",g="y"):(m="y",g="x"),b=m+"2",d[g]=r.A,p[m]=d[m]=f(e,0),p[b]=d[b]=f(e,1),Object(i.a)({type:u.c,role:o.a,from:c,encode:l},n)}},function(e,t,n){"use strict";var r=n(27),i=n(154),a=n(101),u=n(116),o=n(68),s=n(70),f=n(1);t.a=function(e,t,n,c,l){var d,p,m,b,g,h,y,v,O,j=Object(a.f)(e,t),$=e.orient,x=e.gridScale,k=$===r.l||$===r.w?1:-1,A=function(e,t){if(1===t);else if(Object(f.F)(e)){for(var n=e=Object(f.o)({},e);null!=n.mult;){if(!Object(f.F)(n.mult))return n.mult*=t,e;n=n.mult=Object(f.o)({},n.mult)}n.mult=t}else e=t*(e||0);return e}(e.offset,k);return d={enter:p={opacity:r.A},update:b={opacity:r.z},exit:m={opacity:r.A}},Object(s.b)(d,{stroke:j("gridColor"),strokeCap:j("gridCap"),strokeDash:j("gridDash"),strokeDashOffset:j("gridDashOffset"),strokeOpacity:j("gridOpacity"),strokeWidth:j("gridWidth")}),g={scale:e.scale,field:r.x,band:l.band,extra:l.extra,offset:l.offset,round:j("tickRound")},$===r.w||$===r.a?(h="x",y="y",O="height"):(h="y",y="x",O="width"),v=y+"2",b[h]=p[h]=m[h]=g,x?(b[y]=p[y]={scale:x,range:0,mult:k,offset:A},b[v]=p[v]={scale:x,range:1,mult:k,offset:A}):(b[y]=p[y]={value:0,offset:A},b[v]=p[v]={signal:O,mult:k,offset:A}),Object(i.a)({type:u.c,role:o.b,key:r.x,from:c,encode:d},n)}},function(e,t,n){"use strict";var r=n(27),i=n(154),a=n(101),u=n(116),o=n(68),s=n(70);t.a=function(e,t,n,f,c,l){var d,p,m,b,g,h,y=Object(a.f)(e,t),v=e.orient,O=v===r.l||v===r.w?-1:1;return d={enter:p={opacity:r.A},update:b={opacity:r.z},exit:m={opacity:r.A}},Object(s.b)(d,{stroke:y("tickColor"),strokeCap:y("tickCap"),strokeDash:y("tickDash"),strokeDashOffset:y("tickDashOffset"),strokeOpacity:y("tickOpacity"),strokeWidth:y("tickWidth")}),(g=Object(s.c)(c)).mult=O,h={scale:e.scale,field:r.x,band:l.band,extra:l.extra,offset:l.offset,round:y("tickRound")},v===r.w||v===r.a?(b.y=p.y=r.A,b.y2=p.y2=g,b.x=p.x=m.x=h):(b.x=p.x=r.A,b.x2=p.x2=g,b.y=p.y=m.y=h),Object(i.a)({type:u.c,role:o.e,key:r.x,from:f,encode:d},n)}},function(e,t,n){"use strict";var r=n(27),i=n(154),a=n(101),u=n(116),o=n(68),s=n(70),f=n(32);function c(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}t.a=function(e,t,n,l,d,p){var m,b,g,h,y,v,O,j,$,x=Object(a.f)(e,t),k=e.orient,A=k===r.l||k===r.w?-1:1,F=k===r.w||k===r.a,w=e.scale,_=Object(f.g)(x("labelFlush")),D=Object(f.g)(x("labelFlushOffset")),C=0===_||!!_,S=x("labelAlign"),E=x("labelBaseline");return(g=Object(s.c)(d)).mult=A,g.offset=Object(s.c)(x("labelPadding")||0),g.offset.mult=A,h={scale:w,field:r.x,band:.5,offset:Object(a.c)(p.offset,x("labelOffset"))},F?(y=S||(C?c(w,_,'"left"','"right"','"center"'):"center"),v=E||(k===r.w?"bottom":"top"),O=!S):(y=S||(k===r.r?"left":"right"),v=E||(C?c(w,_,'"top"','"bottom"','"middle"'):"middle"),O=!E),O=O&&C&&D?c(w,_,"-("+D+")",D,0):null,m={enter:b={opacity:r.A,x:F?h:g,y:F?g:h},update:{opacity:r.z,text:{field:r.k},x:b.x,y:b.y},exit:{opacity:r.A,x:b.x,y:b.y}},Object(s.b)(m,{[F?"dx":"dy"]:O,align:y,baseline:v,angle:x("labelAngle"),fill:x("labelColor"),fillOpacity:x("labelOpacity"),font:x("labelFont"),fontSize:x("labelFontSize"),fontWeight:x("labelFontWeight"),fontStyle:x("labelFontStyle"),limit:x("labelLimit"),lineHeight:x("labelLineHeight")}),j=x("labelBound"),$=($=x("labelOverlap"))||j?{separation:x("labelSeparation"),method:$,order:"datum.index",bound:j?{scale:w,orient:k,tolerance:j}:null}:void 0,Object(i.a)({type:u.e,role:o.c,style:r.h,key:r.x,from:l,encode:m,overlap:$},n)}},function(e,t,n){"use strict";var r=n(27),i=n(154),a=n(101),u=n(70),o=n(116),s=n(68),f=n(1);t.a=function(e,t,n,c){var l,d,p,m,b=Object(a.f)(e,t),g=e.orient,h=g===r.l||g===r.w?-1:1,y=g===r.w||g===r.a;return l={enter:d={opacity:r.A,anchor:Object(u.c)(b("titleAnchor")),align:{signal:a.a}},update:p=Object(f.o)({},d,{opacity:r.z,text:Object(u.c)(e.title)}),exit:{opacity:r.A}},m={signal:`lerp(range("${e.scale}"), ${Object(a.b)(0,1,.5)})`},y?(p.x=m,d.angle={value:0},d.baseline={value:g===r.w?"bottom":"top"}):(p.y=m,d.angle={value:90*h},d.baseline={value:"bottom"}),Object(u.b)(l,{angle:b("titleAngle"),baseline:b("titleBaseline"),fill:b("titleColor"),fillOpacity:b("titleOpacity"),font:b("titleFont"),fontSize:b("titleFontSize"),fontStyle:b("titleFontStyle"),fontWeight:b("titleFontWeight"),limit:b("titleLimit"),lineHeight:b("titleLineHeight")},{align:b("titleAlign")}),!Object(u.a)(l,"x",b("titleX"),"update")&&!y&&!Object(u.f)("x",n)&&(l.enter.auto={value:!0}),!Object(u.a)(l,"y",b("titleY"),"update")&&y&&!Object(u.f)("y",n)&&(l.enter.auto={value:!0}),Object(i.a)({type:o.e,role:s.f,style:r.i,from:c,encode:l},n)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"name":"vega-tooltip","version":"0.23.0","description":"A tooltip plugin for Vega-Lite and Vega visualizations.","main":"build/vega-tooltip.js","module":"build/src/index.js","unpkg":"build/vega-tooltip.min.js","jsdelivr":"build/vega-tooltip.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-tooltip.git"},"keywords":["vega-lite","vega","tooltip"],"author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"collaborators":["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-tooltip/issues"},"homepage":"https://github.com/vega/vega-tooltip#readme","scripts":{"prepare":"beemo create-config --silent","tsc:src":"tsc -b tsconfig.src.json","build":"yarn tsc:src && rollup -c","clean":"rm -rf build examples/data && rm -f src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","postbuild":"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js","prebuild":"mkdir -p build && yarn copy:data && ./build-style.sh","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'browser-sync start -s -f build examples --serveStatic examples\' \'yarn tsc:src -w\' \'rollup -c -w\'","pretest":"./build-style.sh","test":"jest"},"devDependencies":{"@rollup/plugin-commonjs":"11.1.0","@rollup/plugin-json":"^4.0.3","@rollup/plugin-node-resolve":"^7.1.3","@types/jest":"^25.2.1","browser-sync":"^2.26.7","concurrently":"^5.2.0","gh-pages":"^2.2.0","jest":"^26.0.1","node-sass":"^4.14.1","path":"^0.12.7","rollup":"^2.8.2","terser":"^4.6.13","ts-jest":"^25.5.0","typescript":"^3.8.3","vega-datasets":"^1.30.2","vega-lite-dev-config":"^0.10.0","vega-typings":"^0.16.0"},"dependencies":{"vega-util":"^1.13.2"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]},"jest":{"testURL":"http://localhost/","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["node_modules","<rootDir>/build","src"]}}')},function(e,t,n){"use strict";t.a="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return p}));var r=n(1645),i=n(1237);n.d(t,"dark",(function(){return i.a}));var a=n(1238);n.d(t,"excel",(function(){return a.a}));var u=n(1239);n.d(t,"fivethirtyeight",(function(){return u.a}));var o=n(1240);n.d(t,"ggplot2",(function(){return o.a}));var s=n(1241);n.d(t,"latimes",(function(){return s.a}));var f=n(1242);n.d(t,"quartz",(function(){return f.a}));var c=n(1243);n.d(t,"vox",(function(){return c.a}));var l=n(1244);n.d(t,"urbaninstitute",(function(){return l.a}));var d=n(1245);n.d(t,"googlecharts",(function(){return d.a}));const p=r.version},function(e){e.exports=JSON.parse('{"name":"vega-themes","version":"2.8.3","description":"Themes for stylized Vega and Vega-Lite visualizations.","keywords":["vega","vega-lite","themes","style"],"license":"BSD-3-Clause","author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"contributors":[{"name":"Emily Gu","url":"https://github.com/emilygu"},{"name":"Arvind Satyanarayan","url":"http://arvindsatya.com"},{"name":"Jeffrey Heer","url":"https://idl.cs.washington.edu"},{"name":"Dominik Moritz","url":"https://www.domoritz.de"}],"main":"build/vega-themes.js","module":"build/src/index.js","unpkg":"build/vega-themes.min.js","jsdelivr":"build/vega-themes.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-themes.git"},"scripts":{"prepare":"beemo create-config --silent","clean":"rm -rf build examples/build","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'src/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","prebuild":"mkdir -p build","build":"tsc && rollup -c","postbuild":"terser build/vega-themes.js -cm > build/vega-themes.min.js","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","serve":"browser-sync start -s -f build examples --serveStatic examples","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'yarn serve\' \'tsc -w\' \'rollup -c -w\'"},"devDependencies":{"@rollup/plugin-json":"^4.0.2","browser-sync":"^2.26.7","concurrently":"^5.1.0","gh-pages":"^2.2.0","rollup":"^2.1.0","terser":"^4.6.7","typescript":"^3.8.3","vega":"^5.10.0","vega-lite":"^4.8.1","vega-lite-dev-config":"^0.5.0"},"peerDependencies":{"vega":"*","vega-lite":"*"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"Bar Charts":[{"name":"bar-chart"},{"name":"stacked-bar-chart"},{"name":"grouped-bar-chart"},{"name":"nested-bar-chart"},{"name":"population-pyramid"}],"Line & Area Charts":[{"name":"line-chart"},{"name":"area-chart"},{"name":"stacked-area-chart"},{"name":"horizon-graph"},{"name":"job-voyager"}],"Circular Charts":[{"name":"pie-chart"},{"name":"donut-chart"},{"name":"radial-plot"},{"name":"radar-chart"}],"Scatter Plots":[{"name":"scatter-plot"},{"name":"scatter-plot-null-values"},{"name":"connected-scatter-plot"},{"name":"error-bars"},{"name":"barley-trellis-plot"},{"name":"regression"},{"name":"loess-regression"}],"Distributions":[{"name":"top-k-plot"},{"name":"top-k-plot-with-others"},{"name":"histogram"},{"name":"histogram-null-values"},{"name":"dot-plot"},{"name":"probability-density"},{"name":"box-plot"},{"name":"violin-plot"},{"name":"binned-scatter-plot"},{"name":"contour-plot"},{"name":"wheat-plot"},{"name":"quantile-quantile-plot"},{"name":"quantile-dot-plot"},{"name":"hypothetical-outcome-plots"},{"name":"time-units"}],"Geographic Maps":[{"name":"county-unemployment"},{"name":"dorling-cartogram"},{"name":"world-map"},{"name":"earthquakes"},{"name":"projections"},{"name":"zoomable-world-map"},{"name":"distortion-comparison"},{"name":"volcano-contours"},{"name":"wind-vectors"},{"name":"annual-precipitation"}],"Tree Diagrams":[{"name":"tree-layout"},{"name":"radial-tree-layout"},{"name":"treemap"},{"name":"circle-packing"},{"name":"sunburst"}],"Network Diagrams":[{"name":"edge-bundling"},{"name":"force-directed-layout"},{"name":"reorderable-matrix"},{"name":"arc-diagram"},{"name":"airport-connections"}],"Other Chart Types":[{"name":"heatmap"},{"name":"density-heatmaps"},{"name":"parallel-coordinates"},{"name":"word-cloud"},{"name":"beeswarm-plot"}],"Custom Visual Designs":[{"name":"budget-forecasts"},{"name":"wheat-and-wages"},{"name":"falkensee-population"},{"name":"annual-temperature"},{"name":"weekly-temperature"},{"name":"timelines"},{"name":"u-district-cuisine"},{"name":"clock"},{"name":"watch"}],"Interaction Techniques":[{"name":"crossfilter-flights"},{"name":"overview-plus-detail"},{"name":"brushing-scatter-plots"},{"name":"zoomable-scatter-plot"},{"name":"global-development"},{"name":"interactive-legend"},{"name":"stock-index-chart"},{"name":"pi-monte-carlo"},{"name":"pacman"}]}')}]]);
//# sourceMappingURL=vega.js.map